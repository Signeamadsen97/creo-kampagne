const __vite__fileDeps=["assets/AboutView-BRFvSeWE.js","assets/AboutView-CMrMfem6.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Da(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Me={},_r=[],Bt=()=>{},Op=()=>!1,ji=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Na=t=>t.startsWith("onUpdate:"),tt=Object.assign,Oa=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Mp=Object.prototype.hasOwnProperty,Ee=(t,e)=>Mp.call(t,e),ce=Array.isArray,yr=t=>qi(t)==="[object Map]",mh=t=>qi(t)==="[object Set]",fe=t=>typeof t=="function",Je=t=>typeof t=="string",rr=t=>typeof t=="symbol",Fe=t=>t!==null&&typeof t=="object",_h=t=>(Fe(t)||fe(t))&&fe(t.then)&&fe(t.catch),yh=Object.prototype.toString,qi=t=>yh.call(t),Lp=t=>qi(t).slice(8,-1),vh=t=>qi(t)==="[object Object]",Ma=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ss=Da(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Fp=/-(\w)/g,en=Hi(t=>t.replace(Fp,(e,n)=>n?n.toUpperCase():"")),Bp=/\B([A-Z])/g,Vr=Hi(t=>t.replace(Bp,"-$1").toLowerCase()),$i=Hi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Co=Hi(t=>t?`on${$i(t)}`:""),Pn=(t,e)=>!Object.is(t,e),Po=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Eh=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Up=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bc;const Th=()=>bc||(bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function La(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Je(r)?$p(r):La(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Je(t)||Fe(t))return t}const jp=/;(?![^(]*\))/g,qp=/:([^]+)/,Hp=/\/\*[^]*?\*\//g;function $p(t){const e={};return t.replace(Hp,"").split(jp).forEach(n=>{if(n){const r=n.split(qp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ns(t){let e="";if(Je(t))e=t;else if(ce(t))for(let n=0;n<t.length;n++){const r=Ns(t[n]);r&&(e+=r+" ")}else if(Fe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Kp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zp=Da(Kp);function wh(t){return!!t||t===""}const Ut=t=>Je(t)?t:t==null?"":ce(t)||Fe(t)&&(t.toString===yh||!fe(t.toString))?JSON.stringify(t,Ih,2):String(t),Ih=(t,e)=>e&&e.__v_isRef?Ih(t,e.value):yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[xo(r,i)+" =>"]=s,n),{})}:mh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>xo(n))}:rr(e)?xo(e):Fe(e)&&!ce(e)&&!vh(e)?String(e):e,xo=(t,e="")=>{var n;return rr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $t;class Wp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$t,!e&&$t&&(this.index=($t.scopes||($t.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=$t;try{return $t=this,e()}finally{$t=n}}}on(){$t=this}off(){$t=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Gp(t,e=$t){e&&e.active&&e.effects.push(t)}function Qp(){return $t}let Qn;class Fa{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Gp(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,On();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Xp(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Mn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=In,n=Qn;try{return In=!0,Qn=this,this._runnings++,Rc(this),this.fn()}finally{Sc(this),this._runnings--,Qn=n,In=e}}stop(){this.active&&(Rc(this),Sc(this),this.onStop&&this.onStop(),this.active=!1)}}function Xp(t){return t.value}function Rc(t){t._trackId++,t._depsLength=0}function Sc(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Ah(t.deps[e],t);t.deps.length=t._depsLength}}function Ah(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let In=!0,Go=0;const bh=[];function On(){bh.push(In),In=!1}function Mn(){const t=bh.pop();In=t===void 0?!0:t}function Ba(){Go++}function Ua(){for(Go--;!Go&&Qo.length;)Qo.shift()()}function Rh(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Ah(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Qo=[];function Sh(t,e,n){Ba();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Qo.push(r.scheduler)))}Ua()}const Ch=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Xo=new WeakMap,Xn=Symbol(""),Yo=Symbol("");function Pt(t,e,n){if(In&&Qn){let r=Xo.get(t);r||Xo.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Ch(()=>r.delete(n))),Rh(Qn,s)}}function an(t,e,n,r,s,i){const a=Xo.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&ce(t)){const c=Number(r);a.forEach((h,d)=>{(d==="length"||!rr(d)&&d>=c)&&l.push(h)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":ce(t)?Ma(n)&&l.push(a.get("length")):(l.push(a.get(Xn)),yr(t)&&l.push(a.get(Yo)));break;case"delete":ce(t)||(l.push(a.get(Xn)),yr(t)&&l.push(a.get(Yo)));break;case"set":yr(t)&&l.push(a.get(Xn));break}Ba();for(const c of l)c&&Sh(c,4);Ua()}const Yp=Da("__proto__,__v_isRef,__isVue"),Ph=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(rr)),Cc=Jp();function Jp(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Se(this);for(let i=0,a=this.length;i<a;i++)Pt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Se)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){On(),Ba();const r=Se(this)[e].apply(this,n);return Ua(),Mn(),r}}),t}function Zp(t){rr(t)||(t=String(t));const e=Se(this);return Pt(e,"has",t),e.hasOwnProperty(t)}class xh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?fg:Nh:i?Dh:kh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ce(e);if(!s){if(a&&Ee(Cc,n))return Reflect.get(Cc,n,r);if(n==="hasOwnProperty")return Zp}const l=Reflect.get(e,n,r);return(rr(n)?Ph.has(n):Yp(n))||(s||Pt(e,"get",n),i)?l:xt(l)?a&&Ma(n)?l:l.value:Fe(l)?s?Mh(l):jt(l):l}}class Vh extends xh{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=_s(i);if(!Ai(r)&&!_s(r)&&(i=Se(i),r=Se(r)),!ce(e)&&xt(i)&&!xt(r))return c?!1:(i.value=r,!0)}const a=ce(e)&&Ma(n)?Number(n)<e.length:Ee(e,n),l=Reflect.set(e,n,r,s);return e===Se(s)&&(a?Pn(r,i)&&an(e,"set",n,r):an(e,"add",n,r)),l}deleteProperty(e,n){const r=Ee(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&an(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!rr(n)||!Ph.has(n))&&Pt(e,"has",n),r}ownKeys(e){return Pt(e,"iterate",ce(e)?"length":Xn),Reflect.ownKeys(e)}}class eg extends xh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const tg=new Vh,ng=new eg,rg=new Vh(!0);const ja=t=>t,Ki=t=>Reflect.getPrototypeOf(t);function ri(t,e,n=!1,r=!1){t=t.__v_raw;const s=Se(t),i=Se(e);n||(Pn(e,i)&&Pt(s,"get",e),Pt(s,"get",i));const{has:a}=Ki(s),l=r?ja:n?$a:ys;if(a.call(s,e))return l(t.get(e));if(a.call(s,i))return l(t.get(i));t!==s&&t.get(e)}function si(t,e=!1){const n=this.__v_raw,r=Se(n),s=Se(t);return e||(Pn(t,s)&&Pt(r,"has",t),Pt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ii(t,e=!1){return t=t.__v_raw,!e&&Pt(Se(t),"iterate",Xn),Reflect.get(t,"size",t)}function Pc(t){t=Se(t);const e=Se(this);return Ki(e).has.call(e,t)||(e.add(t),an(e,"add",t,t)),this}function xc(t,e){e=Se(e);const n=Se(this),{has:r,get:s}=Ki(n);let i=r.call(n,t);i||(t=Se(t),i=r.call(n,t));const a=s.call(n,t);return n.set(t,e),i?Pn(e,a)&&an(n,"set",t,e):an(n,"add",t,e),this}function Vc(t){const e=Se(this),{has:n,get:r}=Ki(e);let s=n.call(e,t);s||(t=Se(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&an(e,"delete",t,void 0),i}function kc(){const t=Se(this),e=t.size!==0,n=t.clear();return e&&an(t,"clear",void 0,void 0),n}function oi(t,e){return function(r,s){const i=this,a=i.__v_raw,l=Se(a),c=e?ja:t?$a:ys;return!t&&Pt(l,"iterate",Xn),a.forEach((h,d)=>r.call(s,c(h),c(d),i))}}function ai(t,e,n){return function(...r){const s=this.__v_raw,i=Se(s),a=yr(i),l=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,h=s[t](...r),d=n?ja:e?$a:ys;return!e&&Pt(i,"iterate",c?Yo:Xn),{next(){const{value:g,done:m}=h.next();return m?{value:g,done:m}:{value:l?[d(g[0]),d(g[1])]:d(g),done:m}},[Symbol.iterator](){return this}}}}function mn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function sg(){const t={get(i){return ri(this,i)},get size(){return ii(this)},has:si,add:Pc,set:xc,delete:Vc,clear:kc,forEach:oi(!1,!1)},e={get(i){return ri(this,i,!1,!0)},get size(){return ii(this)},has:si,add:Pc,set:xc,delete:Vc,clear:kc,forEach:oi(!1,!0)},n={get(i){return ri(this,i,!0)},get size(){return ii(this,!0)},has(i){return si.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:oi(!0,!1)},r={get(i){return ri(this,i,!0,!0)},get size(){return ii(this,!0)},has(i){return si.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:oi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ai(i,!1,!1),n[i]=ai(i,!0,!1),e[i]=ai(i,!1,!0),r[i]=ai(i,!0,!0)}),[t,n,e,r]}const[ig,og,ag,lg]=sg();function qa(t,e){const n=e?t?lg:ag:t?og:ig;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ee(n,s)&&s in r?n:r,s,i)}const cg={get:qa(!1,!1)},ug={get:qa(!1,!0)},hg={get:qa(!0,!1)};const kh=new WeakMap,Dh=new WeakMap,Nh=new WeakMap,fg=new WeakMap;function dg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pg(t){return t.__v_skip||!Object.isExtensible(t)?0:dg(Lp(t))}function jt(t){return _s(t)?t:Ha(t,!1,tg,cg,kh)}function Oh(t){return Ha(t,!1,rg,ug,Dh)}function Mh(t){return Ha(t,!0,ng,hg,Nh)}function Ha(t,e,n,r,s){if(!Fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const a=pg(t);if(a===0)return t;const l=new Proxy(t,a===2?r:n);return s.set(t,l),l}function is(t){return _s(t)?is(t.__v_raw):!!(t&&t.__v_isReactive)}function _s(t){return!!(t&&t.__v_isReadonly)}function Ai(t){return!!(t&&t.__v_isShallow)}function Lh(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function gg(t){return Object.isExtensible(t)&&Eh(t,"__v_skip",!0),t}const ys=t=>Fe(t)?jt(t):t,$a=t=>Fe(t)?Mh(t):t;class Fh{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Fa(()=>e(this._value),()=>mi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Se(this);return(!e._cacheable||e.effect.dirty)&&Pn(e._value,e._value=e.effect.run())&&mi(e,4),Bh(e),e.effect._dirtyLevel>=2&&mi(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function mg(t,e,n=!1){let r,s;const i=fe(t);return i?(r=t,s=Bt):(r=t.get,s=t.set),new Fh(r,s,i||!s,n)}function Bh(t){var e;In&&Qn&&(t=Se(t),Rh(Qn,(e=t.dep)!=null?e:t.dep=Ch(()=>t.dep=void 0,t instanceof Fh?t:void 0)))}function mi(t,e=4,n){t=Se(t);const r=t.dep;r&&Sh(r,e)}function xt(t){return!!(t&&t.__v_isRef===!0)}function Ve(t){return Uh(t,!1)}function _g(t){return Uh(t,!0)}function Uh(t,e){return xt(t)?t:new yg(t,e)}class yg{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Se(e),this._value=n?e:ys(e)}get value(){return Bh(this),this._value}set value(e){const n=this.__v_isShallow||Ai(e)||_s(e);e=n?e:Se(e),Pn(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ys(e),mi(this,4))}}function it(t){return xt(t)?t.value:t}const vg={get:(t,e,n)=>it(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return xt(s)&&!xt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function jh(t){return is(t)?t:new Proxy(t,vg)}/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function An(t,e,n,r){try{return r?t(...r):t()}catch(s){zi(s,e,n)}}function Wt(t,e,n,r){if(fe(t)){const s=An(t,e,n,r);return s&&_h(s)&&s.catch(i=>{zi(i,e,n)}),s}if(ce(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Wt(t[i],e,n,r));return s}}function zi(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const a=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const h=i.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,l)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){On(),An(c,null,10,[t,a,l]),Mn();return}}Eg(t,n,s,r)}function Eg(t,e,n,r=!0){console.error(t)}let vs=!1,Jo=!1;const mt=[];let Yt=0;const vr=[];let yn=null,Wn=0;const qh=Promise.resolve();let Ka=null;function za(t){const e=Ka||qh;return t?e.then(this?t.bind(this):t):e}function Tg(t){let e=Yt+1,n=mt.length;for(;e<n;){const r=e+n>>>1,s=mt[r],i=Es(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Wa(t){(!mt.length||!mt.includes(t,vs&&t.allowRecurse?Yt+1:Yt))&&(t.id==null?mt.push(t):mt.splice(Tg(t.id),0,t),Hh())}function Hh(){!vs&&!Jo&&(Jo=!0,Ka=qh.then(Kh))}function wg(t){const e=mt.indexOf(t);e>Yt&&mt.splice(e,1)}function Ig(t){ce(t)?vr.push(...t):(!yn||!yn.includes(t,t.allowRecurse?Wn+1:Wn))&&vr.push(t),Hh()}function Dc(t,e,n=vs?Yt+1:0){for(;n<mt.length;n++){const r=mt[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;mt.splice(n,1),n--,r()}}}function $h(t){if(vr.length){const e=[...new Set(vr)].sort((n,r)=>Es(n)-Es(r));if(vr.length=0,yn){yn.push(...e);return}for(yn=e,Wn=0;Wn<yn.length;Wn++)yn[Wn]();yn=null,Wn=0}}const Es=t=>t.id==null?1/0:t.id,Ag=(t,e)=>{const n=Es(t)-Es(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Kh(t){Jo=!1,vs=!0,mt.sort(Ag);try{for(Yt=0;Yt<mt.length;Yt++){const e=mt[Yt];e&&e.active!==!1&&An(e,null,14)}}finally{Yt=0,mt.length=0,$h(),vs=!1,Ka=null,(mt.length||vr.length)&&Kh()}}function bg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Me;let s=n;const i=e.startsWith("update:"),a=i&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:m}=r[d]||Me;m&&(s=n.map(A=>Je(A)?A.trim():A)),g&&(s=n.map(Up))}let l,c=r[l=Co(e)]||r[l=Co(en(e))];!c&&i&&(c=r[l=Co(Vr(e))]),c&&Wt(c,t,6,s);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Wt(h,t,6,s)}}function zh(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let a={},l=!1;if(!fe(t)){const c=h=>{const d=zh(h,e,!0);d&&(l=!0,tt(a,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(Fe(t)&&r.set(t,null),null):(ce(i)?i.forEach(c=>a[c]=null):tt(a,i),Fe(t)&&r.set(t,a),a)}function Wi(t,e){return!t||!ji(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,Vr(e))||Ee(t,e))}let _t=null,Gi=null;function bi(t){const e=_t;return _t=t,Gi=t&&t.type.__scopeId||null,e}function Ln(t){Gi=t}function Fn(){Gi=null}function He(t,e=_t,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Kc(-1);const i=bi(e);let a;try{a=t(...s)}finally{bi(i),r._d&&Kc(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Vo(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:d,props:g,data:m,setupState:A,ctx:k,inheritAttrs:O}=t,N=bi(t);let j,$;try{if(n.shapeFlag&4){const re=s||r,ye=re;j=Xt(h.call(ye,re,d,g,A,m,k)),$=l}else{const re=e;j=Xt(re.length>1?re(g,{attrs:l,slots:a,emit:c}):re(g,null)),$=e.props?l:Rg(l)}}catch(re){us.length=0,zi(re,t,1),j=ae(xn)}let G=j;if($&&O!==!1){const re=Object.keys($),{shapeFlag:ye}=G;re.length&&ye&7&&(i&&re.some(Na)&&($=Sg($,i)),G=Vn(G,$,!1,!0))}return n.dirs&&(G=Vn(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&(G.transition=n.transition),j=G,bi(N),j}const Rg=t=>{let e;for(const n in t)(n==="class"||n==="style"||ji(n))&&((e||(e={}))[n]=t[n]);return e},Sg=(t,e)=>{const n={};for(const r in t)(!Na(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Cg(t,e,n){const{props:r,children:s,component:i}=t,{props:a,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Nc(r,a,h):!!a;if(c&8){const d=e.dynamicProps;for(let g=0;g<d.length;g++){const m=d[g];if(a[m]!==r[m]&&!Wi(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Nc(r,a,h):!0:!!a;return!1}function Nc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Wi(n,i))return!0}return!1}function Pg({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const xg="components";function Wh(t,e){return kg(xg,t,!0,e)||t}const Vg=Symbol.for("v-ndc");function kg(t,e,n=!0,r=!1){const s=_t||ot;if(s){const i=s.type;{const l=Sm(i,!1);if(l&&(l===e||l===en(e)||l===$i(en(e))))return i}const a=Oc(s[t]||i[t],e)||Oc(s.appContext[t],e);return!a&&r?i:a}}function Oc(t,e){return t&&(t[e]||t[en(e)]||t[$i(en(e))])}const Dg=t=>t.__isSuspense;function Ng(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):Ig(t)}const Og=Symbol.for("v-scx"),Mg=()=>ke(Og);function Lg(t,e){return Ga(t,null,{flush:"post"})}const li={};function Yn(t,e,n){return Ga(t,e,n)}function Ga(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:a,onTrigger:l}=Me){if(e&&i){const J=e;e=(...I)=>{J(...I),ye()}}const c=ot,h=J=>r===!0?J:mr(J,r===!1?1:void 0);let d,g=!1,m=!1;if(xt(t)?(d=()=>t.value,g=Ai(t)):is(t)?(d=()=>h(t),g=!0):ce(t)?(m=!0,g=t.some(J=>is(J)||Ai(J)),d=()=>t.map(J=>{if(xt(J))return J.value;if(is(J))return h(J);if(fe(J))return An(J,c,2)})):fe(t)?e?d=()=>An(t,c,2):d=()=>(A&&A(),Wt(t,c,3,[k])):d=Bt,e&&r){const J=d;d=()=>mr(J())}let A,k=J=>{A=G.onStop=()=>{An(J,c,4),A=G.onStop=void 0}},O;if(Zi)if(k=Bt,e?n&&Wt(e,c,3,[d(),m?[]:void 0,k]):d(),s==="sync"){const J=Mg();O=J.__watcherHandles||(J.__watcherHandles=[])}else return Bt;let N=m?new Array(t.length).fill(li):li;const j=()=>{if(!(!G.active||!G.dirty))if(e){const J=G.run();(r||g||(m?J.some((I,v)=>Pn(I,N[v])):Pn(J,N)))&&(A&&A(),Wt(e,c,3,[J,N===li?void 0:m&&N[0]===li?[]:N,k]),N=J)}else G.run()};j.allowRecurse=!!e;let $;s==="sync"?$=j:s==="post"?$=()=>Ct(j,c&&c.suspense):(j.pre=!0,c&&(j.id=c.uid),$=()=>Wa(j));const G=new Fa(d,Bt,$),re=Qp(),ye=()=>{G.stop(),re&&Oa(re.effects,G)};return e?n?j():N=G.run():s==="post"?Ct(G.run.bind(G),c&&c.suspense):G.run(),O&&O.push(ye),ye}function Fg(t,e,n){const r=this.proxy,s=Je(t)?t.includes(".")?Gh(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const a=Ms(this),l=Ga(s,i.bind(r),n);return a(),l}function Gh(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function mr(t,e=1/0,n){if(e<=0||!Fe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,xt(t))mr(t.value,e,n);else if(ce(t))for(let r=0;r<t.length;r++)mr(t[r],e,n);else if(mh(t)||yr(t))t.forEach(r=>{mr(r,e,n)});else if(vh(t))for(const r in t)mr(t[r],e,n);return t}function Hn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(On(),Wt(c,n,8,[t.el,l,t,e]),Mn())}}/*! #__NO_SIDE_EFFECTS__ */function Os(t,e){return fe(t)?tt({name:t.name},e,{setup:t}):t}const os=t=>!!t.type.__asyncLoader,Qh=t=>t.type.__isKeepAlive;function Bg(t,e){Xh(t,"a",e)}function Ug(t,e){Xh(t,"da",e)}function Xh(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Qi(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Qh(s.parent.vnode)&&jg(r,e,n,s),s=s.parent}}function jg(t,e,n,r){const s=Qi(e,t,r,!0);Yi(()=>{Oa(r[e],s)},n)}function Qi(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;On();const l=Ms(n),c=Wt(e,n,t,a);return l(),Mn(),c});return r?s.unshift(i):s.push(i),i}}const hn=t=>(e,n=ot)=>(!Zi||t==="sp")&&Qi(t,(...r)=>e(...r),n),qg=hn("bm"),Xi=hn("m"),Hg=hn("bu"),$g=hn("u"),Kg=hn("bum"),Yi=hn("um"),zg=hn("sp"),Wg=hn("rtg"),Gg=hn("rtc");function Qg(t,e=ot){Qi("ec",t,e)}function Xg(t,e,n,r){let s;const i=n;if(ce(t)||Je(t)){s=new Array(t.length);for(let a=0,l=t.length;a<l;a++)s[a]=e(t[a],a,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Fe(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}function Mc(t,e,n={},r,s){if(_t.isCE||_t.parent&&os(_t.parent)&&_t.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r);let i=t[e];i&&i._c&&(i._d=!1),De();const a=i&&Yh(i(n)),l=Ya(It,{key:n.key||a&&a.key||`_${e}`},a||[],a&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function Yh(t){return t.some(e=>Si(e)?!(e.type===xn||e.type===It&&!Yh(e.children)):!0)?t:null}const Zo=t=>t?pf(t)?Za(t)||t.proxy:Zo(t.parent):null,as=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zo(t.parent),$root:t=>Zo(t.root),$emit:t=>t.emit,$options:t=>Qa(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Wa(t.update)}),$nextTick:t=>t.n||(t.n=za.bind(t.proxy)),$watch:t=>Fg.bind(t)}),ko=(t,e)=>t!==Me&&!t.__isScriptSetup&&Ee(t,e),Yg={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const A=a[e];if(A!==void 0)switch(A){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(ko(r,e))return a[e]=1,r[e];if(s!==Me&&Ee(s,e))return a[e]=2,s[e];if((h=t.propsOptions[0])&&Ee(h,e))return a[e]=3,i[e];if(n!==Me&&Ee(n,e))return a[e]=4,n[e];ea&&(a[e]=0)}}const d=as[e];let g,m;if(d)return e==="$attrs"&&Pt(t.attrs,"get",""),d(t);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==Me&&Ee(n,e))return a[e]=4,n[e];if(m=c.config.globalProperties,Ee(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return ko(s,e)?(s[e]=n,!0):r!==Me&&Ee(r,e)?(r[e]=n,!0):Ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||t!==Me&&Ee(t,a)||ko(e,a)||(l=i[0])&&Ee(l,a)||Ee(r,a)||Ee(as,a)||Ee(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ee(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Lc(t){return ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ea=!0;function Jg(t){const e=Qa(t),n=t.proxy,r=t.ctx;ea=!1,e.beforeCreate&&Fc(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:h,created:d,beforeMount:g,mounted:m,beforeUpdate:A,updated:k,activated:O,deactivated:N,beforeDestroy:j,beforeUnmount:$,destroyed:G,unmounted:re,render:ye,renderTracked:J,renderTriggered:I,errorCaptured:v,serverPrefetch:E,expose:w,inheritAttrs:b,components:R,directives:T,filters:Qe}=e;if(h&&Zg(h,r,null),a)for(const ge in a){const de=a[ge];fe(de)&&(r[ge]=de.bind(n))}if(s){const ge=s.call(n,n);Fe(ge)&&(t.data=jt(ge))}if(ea=!0,i)for(const ge in i){const de=i[ge],ut=fe(de)?de.bind(n,n):fe(de.get)?de.get.bind(n,n):Bt,Rt=!fe(de)&&fe(de.set)?de.set.bind(n):Bt,vt=at({get:ut,set:Rt});Object.defineProperty(r,ge,{enumerable:!0,configurable:!0,get:()=>vt.value,set:Ie=>vt.value=Ie})}if(l)for(const ge in l)Jh(l[ge],r,n,ge);if(c){const ge=fe(c)?c.call(n):c;Reflect.ownKeys(ge).forEach(de=>{Nt(de,ge[de])})}d&&Fc(d,t,"c");function je(ge,de){ce(de)?de.forEach(ut=>ge(ut.bind(n))):de&&ge(de.bind(n))}if(je(qg,g),je(Xi,m),je(Hg,A),je($g,k),je(Bg,O),je(Ug,N),je(Qg,v),je(Gg,J),je(Wg,I),je(Kg,$),je(Yi,re),je(zg,E),ce(w))if(w.length){const ge=t.exposed||(t.exposed={});w.forEach(de=>{Object.defineProperty(ge,de,{get:()=>n[de],set:ut=>n[de]=ut})})}else t.exposed||(t.exposed={});ye&&t.render===Bt&&(t.render=ye),b!=null&&(t.inheritAttrs=b),R&&(t.components=R),T&&(t.directives=T)}function Zg(t,e,n=Bt){ce(t)&&(t=ta(t));for(const r in t){const s=t[r];let i;Fe(s)?"default"in s?i=ke(s.from||r,s.default,!0):i=ke(s.from||r):i=ke(s),xt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function Fc(t,e,n){Wt(ce(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Jh(t,e,n,r){const s=r.includes(".")?Gh(n,r):()=>n[r];if(Je(t)){const i=e[t];fe(i)&&Yn(s,i)}else if(fe(t))Yn(s,t.bind(n));else if(Fe(t))if(ce(t))t.forEach(i=>Jh(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&Yn(s,i,t)}}function Qa(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(h=>Ri(c,h,a,!0)),Ri(c,e,a)),Fe(e)&&i.set(e,c),c}function Ri(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Ri(t,i,n,!0),s&&s.forEach(a=>Ri(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const l=em[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const em={data:Bc,props:Uc,emits:Uc,methods:es,computed:es,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:es,directives:es,watch:nm,provide:Bc,inject:tm};function Bc(t,e){return e?t?function(){return tt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function tm(t,e){return es(ta(t),ta(e))}function ta(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wt(t,e){return t?[...new Set([].concat(t,e))]:e}function es(t,e){return t?tt(Object.create(null),t,e):e}function Uc(t,e){return t?ce(t)&&ce(e)?[...new Set([...t,...e])]:tt(Object.create(null),Lc(t),Lc(e??{})):e}function nm(t,e){if(!t)return e;if(!e)return t;const n=tt(Object.create(null),t);for(const r in e)n[r]=wt(t[r],e[r]);return n}function Zh(){return{app:null,config:{isNativeTag:Op,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rm=0;function sm(t,e){return function(r,s=null){fe(r)||(r=tt({},r)),s!=null&&!Fe(s)&&(s=null);const i=Zh(),a=new WeakSet;let l=!1;const c=i.app={_uid:rm++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Pm,get config(){return i.config},set config(h){},use(h,...d){return a.has(h)||(h&&fe(h.install)?(a.add(h),h.install(c,...d)):fe(h)&&(a.add(h),h(c,...d))),c},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),c},component(h,d){return d?(i.components[h]=d,c):i.components[h]},directive(h,d){return d?(i.directives[h]=d,c):i.directives[h]},mount(h,d,g){if(!l){const m=ae(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),d&&e?e(m,h):t(m,h,g),l=!0,c._container=h,h.__vue_app__=c,Za(m.component)||m.component.proxy}},unmount(){l&&(t(null,c._container),delete c._container.__vue_app__)},provide(h,d){return i.provides[h]=d,c},runWithContext(h){const d=ls;ls=c;try{return h()}finally{ls=d}}};return c}}let ls=null;function Nt(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function ke(t,e,n=!1){const r=ot||_t;if(r||ls){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:ls._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}const ef={},tf=()=>Object.create(ef),nf=t=>Object.getPrototypeOf(t)===ef;function im(t,e,n,r=!1){const s={},i=tf();t.propsDefaults=Object.create(null),rf(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=r?s:Oh(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function om(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,l=Se(s),[c]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let g=0;g<d.length;g++){let m=d[g];if(Wi(t.emitsOptions,m))continue;const A=e[m];if(c)if(Ee(i,m))A!==i[m]&&(i[m]=A,h=!0);else{const k=en(m);s[k]=na(c,l,k,A,t,!1)}else A!==i[m]&&(i[m]=A,h=!0)}}}else{rf(t,e,s,i)&&(h=!0);let d;for(const g in l)(!e||!Ee(e,g)&&((d=Vr(g))===g||!Ee(e,d)))&&(c?n&&(n[g]!==void 0||n[d]!==void 0)&&(s[g]=na(c,l,g,void 0,t,!0)):delete s[g]);if(i!==l)for(const g in i)(!e||!Ee(e,g))&&(delete i[g],h=!0)}h&&an(t.attrs,"set","")}function rf(t,e,n,r){const[s,i]=t.propsOptions;let a=!1,l;if(e)for(let c in e){if(ss(c))continue;const h=e[c];let d;s&&Ee(s,d=en(c))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:Wi(t.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(i){const c=Se(n),h=l||Me;for(let d=0;d<i.length;d++){const g=i[d];n[g]=na(s,c,g,h[g],t,!Ee(h,g))}}return a}function na(t,e,n,r,s,i){const a=t[n];if(a!=null){const l=Ee(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&fe(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=Ms(s);r=h[n]=c.call(null,e),d()}}else r=c}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Vr(n))&&(r=!0))}return r}function sf(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,a={},l=[];let c=!1;if(!fe(t)){const d=g=>{c=!0;const[m,A]=sf(g,e,!0);tt(a,m),A&&l.push(...A)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!c)return Fe(t)&&r.set(t,_r),_r;if(ce(i))for(let d=0;d<i.length;d++){const g=en(i[d]);jc(g)&&(a[g]=Me)}else if(i)for(const d in i){const g=en(d);if(jc(g)){const m=i[d],A=a[g]=ce(m)||fe(m)?{type:m}:tt({},m);if(A){const k=$c(Boolean,A.type),O=$c(String,A.type);A[0]=k>-1,A[1]=O<0||k<O,(k>-1||Ee(A,"default"))&&l.push(g)}}}const h=[a,l];return Fe(t)&&r.set(t,h),h}function jc(t){return t[0]!=="$"&&!ss(t)}function qc(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Hc(t,e){return qc(t)===qc(e)}function $c(t,e){return ce(e)?e.findIndex(n=>Hc(n,t)):fe(e)&&Hc(e,t)?0:-1}const of=t=>t[0]==="_"||t==="$stable",Xa=t=>ce(t)?t.map(Xt):[Xt(t)],am=(t,e,n)=>{if(e._n)return e;const r=He((...s)=>Xa(e(...s)),n);return r._c=!1,r},af=(t,e,n)=>{const r=t._ctx;for(const s in t){if(of(s))continue;const i=t[s];if(fe(i))e[s]=am(s,i,r);else if(i!=null){const a=Xa(i);e[s]=()=>a}}},lf=(t,e)=>{const n=Xa(e);t.slots.default=()=>n},lm=(t,e)=>{const n=t.slots=tf();if(t.vnode.shapeFlag&32){const r=e._;r?(tt(n,e),Eh(n,"_",r,!0)):af(e,n)}else e&&lf(t,e)},cm=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,a=Me;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:(tt(s,e),!n&&l===1&&delete s._):(i=!e.$stable,af(e,s)),a=e}else e&&(lf(t,e),a={default:1});if(i)for(const l in s)!of(l)&&a[l]==null&&delete s[l]};function ra(t,e,n,r,s=!1){if(ce(t)){t.forEach((m,A)=>ra(m,e&&(ce(e)?e[A]:e),n,r,s));return}if(os(r)&&!s)return;const i=r.shapeFlag&4?Za(r.component)||r.component.proxy:r.el,a=s?null:i,{i:l,r:c}=t,h=e&&e.r,d=l.refs===Me?l.refs={}:l.refs,g=l.setupState;if(h!=null&&h!==c&&(Je(h)?(d[h]=null,Ee(g,h)&&(g[h]=null)):xt(h)&&(h.value=null)),fe(c))An(c,l,12,[a,d]);else{const m=Je(c),A=xt(c);if(m||A){const k=()=>{if(t.f){const O=m?Ee(g,c)?g[c]:d[c]:c.value;s?ce(O)&&Oa(O,i):ce(O)?O.includes(i)||O.push(i):m?(d[c]=[i],Ee(g,c)&&(g[c]=d[c])):(c.value=[i],t.k&&(d[t.k]=c.value))}else m?(d[c]=a,Ee(g,c)&&(g[c]=a)):A&&(c.value=a,t.k&&(d[t.k]=a))};a?(k.id=-1,Ct(k,n)):k()}}}const Ct=Ng;function um(t){return hm(t)}function hm(t,e){const n=Th();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:d,parentNode:g,nextSibling:m,setScopeId:A=Bt,insertStaticContent:k}=t,O=(y,_,S,x=null,V=null,q=null,z=void 0,U=null,H=!!_.dynamicChildren)=>{if(y===_)return;y&&!Yr(y,_)&&(x=D(y),Ie(y,V,q,!0),y=null),_.patchFlag===-2&&(H=!1,_.dynamicChildren=null);const{type:M,ref:X,shapeFlag:ne}=_;switch(M){case Ji:N(y,_,S,x);break;case xn:j(y,_,S,x);break;case cs:y==null&&$(_,S,x,z);break;case It:R(y,_,S,x,V,q,z,U,H);break;default:ne&1?ye(y,_,S,x,V,q,z,U,H):ne&6?T(y,_,S,x,V,q,z,U,H):(ne&64||ne&128)&&M.process(y,_,S,x,V,q,z,U,H,Y)}X!=null&&V&&ra(X,y&&y.ref,q,_||y,!_)},N=(y,_,S,x)=>{if(y==null)r(_.el=l(_.children),S,x);else{const V=_.el=y.el;_.children!==y.children&&h(V,_.children)}},j=(y,_,S,x)=>{y==null?r(_.el=c(_.children||""),S,x):_.el=y.el},$=(y,_,S,x)=>{[y.el,y.anchor]=k(y.children,_,S,x,y.el,y.anchor)},G=({el:y,anchor:_},S,x)=>{let V;for(;y&&y!==_;)V=m(y),r(y,S,x),y=V;r(_,S,x)},re=({el:y,anchor:_})=>{let S;for(;y&&y!==_;)S=m(y),s(y),y=S;s(_)},ye=(y,_,S,x,V,q,z,U,H)=>{_.type==="svg"?z="svg":_.type==="math"&&(z="mathml"),y==null?J(_,S,x,V,q,z,U,H):E(y,_,V,q,z,U,H)},J=(y,_,S,x,V,q,z,U)=>{let H,M;const{props:X,shapeFlag:ne,transition:te,dirs:ee}=y;if(H=y.el=a(y.type,q,X&&X.is,X),ne&8?d(H,y.children):ne&16&&v(y.children,H,null,x,V,Do(y,q),z,U),ee&&Hn(y,null,x,"created"),I(H,y,y.scopeId,z,x),X){for(const ve in X)ve!=="value"&&!ss(ve)&&i(H,ve,null,X[ve],q,y.children,x,V,$e);"value"in X&&i(H,"value",null,X.value,q),(M=X.onVnodeBeforeMount)&&Qt(M,x,y)}ee&&Hn(y,null,x,"beforeMount");const ie=fm(V,te);ie&&te.beforeEnter(H),r(H,_,S),((M=X&&X.onVnodeMounted)||ie||ee)&&Ct(()=>{M&&Qt(M,x,y),ie&&te.enter(H),ee&&Hn(y,null,x,"mounted")},V)},I=(y,_,S,x,V)=>{if(S&&A(y,S),x)for(let q=0;q<x.length;q++)A(y,x[q]);if(V){let q=V.subTree;if(_===q){const z=V.vnode;I(y,z,z.scopeId,z.slotScopeIds,V.parent)}}},v=(y,_,S,x,V,q,z,U,H=0)=>{for(let M=H;M<y.length;M++){const X=y[M]=U?vn(y[M]):Xt(y[M]);O(null,X,_,S,x,V,q,z,U)}},E=(y,_,S,x,V,q,z)=>{const U=_.el=y.el;let{patchFlag:H,dynamicChildren:M,dirs:X}=_;H|=y.patchFlag&16;const ne=y.props||Me,te=_.props||Me;let ee;if(S&&$n(S,!1),(ee=te.onVnodeBeforeUpdate)&&Qt(ee,S,_,y),X&&Hn(_,y,S,"beforeUpdate"),S&&$n(S,!0),M?w(y.dynamicChildren,M,U,S,x,Do(_,V),q):z||de(y,_,U,null,S,x,Do(_,V),q,!1),H>0){if(H&16)b(U,_,ne,te,S,x,V);else if(H&2&&ne.class!==te.class&&i(U,"class",null,te.class,V),H&4&&i(U,"style",ne.style,te.style,V),H&8){const ie=_.dynamicProps;for(let ve=0;ve<ie.length;ve++){const Pe=ie[ve],Ke=ne[Pe],kt=te[Pe];(kt!==Ke||Pe==="value")&&i(U,Pe,Ke,kt,V,y.children,S,x,$e)}}H&1&&y.children!==_.children&&d(U,_.children)}else!z&&M==null&&b(U,_,ne,te,S,x,V);((ee=te.onVnodeUpdated)||X)&&Ct(()=>{ee&&Qt(ee,S,_,y),X&&Hn(_,y,S,"updated")},x)},w=(y,_,S,x,V,q,z)=>{for(let U=0;U<_.length;U++){const H=y[U],M=_[U],X=H.el&&(H.type===It||!Yr(H,M)||H.shapeFlag&70)?g(H.el):S;O(H,M,X,null,x,V,q,z,!0)}},b=(y,_,S,x,V,q,z)=>{if(S!==x){if(S!==Me)for(const U in S)!ss(U)&&!(U in x)&&i(y,U,S[U],null,z,_.children,V,q,$e);for(const U in x){if(ss(U))continue;const H=x[U],M=S[U];H!==M&&U!=="value"&&i(y,U,M,H,z,_.children,V,q,$e)}"value"in x&&i(y,"value",S.value,x.value,z)}},R=(y,_,S,x,V,q,z,U,H)=>{const M=_.el=y?y.el:l(""),X=_.anchor=y?y.anchor:l("");let{patchFlag:ne,dynamicChildren:te,slotScopeIds:ee}=_;ee&&(U=U?U.concat(ee):ee),y==null?(r(M,S,x),r(X,S,x),v(_.children||[],S,X,V,q,z,U,H)):ne>0&&ne&64&&te&&y.dynamicChildren?(w(y.dynamicChildren,te,S,V,q,z,U),(_.key!=null||V&&_===V.subTree)&&cf(y,_,!0)):de(y,_,S,X,V,q,z,U,H)},T=(y,_,S,x,V,q,z,U,H)=>{_.slotScopeIds=U,y==null?_.shapeFlag&512?V.ctx.activate(_,S,x,z,H):Qe(_,S,x,V,q,z,H):bt(y,_,H)},Qe=(y,_,S,x,V,q,z)=>{const U=y.component=Tm(y,x,V);if(Qh(y)&&(U.ctx.renderer=Y),Im(U),U.asyncDep){if(V&&V.registerDep(U,je),!y.el){const H=U.subTree=ae(xn);j(null,H,_,S)}}else je(U,y,_,S,V,q,z)},bt=(y,_,S)=>{const x=_.component=y.component;if(Cg(y,_,S))if(x.asyncDep&&!x.asyncResolved){ge(x,_,S);return}else x.next=_,wg(x.update),x.effect.dirty=!0,x.update();else _.el=y.el,x.vnode=_},je=(y,_,S,x,V,q,z)=>{const U=()=>{if(y.isMounted){let{next:X,bu:ne,u:te,parent:ee,vnode:ie}=y;{const Mt=uf(y);if(Mt){X&&(X.el=ie.el,ge(y,X,z)),Mt.asyncDep.then(()=>{y.isUnmounted||U()});return}}let ve=X,Pe;$n(y,!1),X?(X.el=ie.el,ge(y,X,z)):X=ie,ne&&Po(ne),(Pe=X.props&&X.props.onVnodeBeforeUpdate)&&Qt(Pe,ee,X,ie),$n(y,!0);const Ke=Vo(y),kt=y.subTree;y.subTree=Ke,O(kt,Ke,g(kt.el),D(kt),y,V,q),X.el=Ke.el,ve===null&&Pg(y,Ke.el),te&&Ct(te,V),(Pe=X.props&&X.props.onVnodeUpdated)&&Ct(()=>Qt(Pe,ee,X,ie),V)}else{let X;const{el:ne,props:te}=_,{bm:ee,m:ie,parent:ve}=y,Pe=os(_);if($n(y,!1),ee&&Po(ee),!Pe&&(X=te&&te.onVnodeBeforeMount)&&Qt(X,ve,_),$n(y,!0),ne&&be){const Ke=()=>{y.subTree=Vo(y),be(ne,y.subTree,y,V,null)};Pe?_.type.__asyncLoader().then(()=>!y.isUnmounted&&Ke()):Ke()}else{const Ke=y.subTree=Vo(y);O(null,Ke,S,x,y,V,q),_.el=Ke.el}if(ie&&Ct(ie,V),!Pe&&(X=te&&te.onVnodeMounted)){const Ke=_;Ct(()=>Qt(X,ve,Ke),V)}(_.shapeFlag&256||ve&&os(ve.vnode)&&ve.vnode.shapeFlag&256)&&y.a&&Ct(y.a,V),y.isMounted=!0,_=S=x=null}},H=y.effect=new Fa(U,Bt,()=>Wa(M),y.scope),M=y.update=()=>{H.dirty&&H.run()};M.id=y.uid,$n(y,!0),M()},ge=(y,_,S)=>{_.component=y;const x=y.vnode.props;y.vnode=_,y.next=null,om(y,_.props,x,S),cm(y,_.children,S),On(),Dc(y),Mn()},de=(y,_,S,x,V,q,z,U,H=!1)=>{const M=y&&y.children,X=y?y.shapeFlag:0,ne=_.children,{patchFlag:te,shapeFlag:ee}=_;if(te>0){if(te&128){Rt(M,ne,S,x,V,q,z,U,H);return}else if(te&256){ut(M,ne,S,x,V,q,z,U,H);return}}ee&8?(X&16&&$e(M,V,q),ne!==M&&d(S,ne)):X&16?ee&16?Rt(M,ne,S,x,V,q,z,U,H):$e(M,V,q,!0):(X&8&&d(S,""),ee&16&&v(ne,S,x,V,q,z,U,H))},ut=(y,_,S,x,V,q,z,U,H)=>{y=y||_r,_=_||_r;const M=y.length,X=_.length,ne=Math.min(M,X);let te;for(te=0;te<ne;te++){const ee=_[te]=H?vn(_[te]):Xt(_[te]);O(y[te],ee,S,null,V,q,z,U,H)}M>X?$e(y,V,q,!0,!1,ne):v(_,S,x,V,q,z,U,H,ne)},Rt=(y,_,S,x,V,q,z,U,H)=>{let M=0;const X=_.length;let ne=y.length-1,te=X-1;for(;M<=ne&&M<=te;){const ee=y[M],ie=_[M]=H?vn(_[M]):Xt(_[M]);if(Yr(ee,ie))O(ee,ie,S,null,V,q,z,U,H);else break;M++}for(;M<=ne&&M<=te;){const ee=y[ne],ie=_[te]=H?vn(_[te]):Xt(_[te]);if(Yr(ee,ie))O(ee,ie,S,null,V,q,z,U,H);else break;ne--,te--}if(M>ne){if(M<=te){const ee=te+1,ie=ee<X?_[ee].el:x;for(;M<=te;)O(null,_[M]=H?vn(_[M]):Xt(_[M]),S,ie,V,q,z,U,H),M++}}else if(M>te)for(;M<=ne;)Ie(y[M],V,q,!0),M++;else{const ee=M,ie=M,ve=new Map;for(M=ie;M<=te;M++){const Et=_[M]=H?vn(_[M]):Xt(_[M]);Et.key!=null&&ve.set(Et.key,M)}let Pe,Ke=0;const kt=te-ie+1;let Mt=!1,Lr=0;const fn=new Array(kt);for(M=0;M<kt;M++)fn[M]=0;for(M=ee;M<=ne;M++){const Et=y[M];if(Ke>=kt){Ie(Et,V,q,!0);continue}let Lt;if(Et.key!=null)Lt=ve.get(Et.key);else for(Pe=ie;Pe<=te;Pe++)if(fn[Pe-ie]===0&&Yr(Et,_[Pe])){Lt=Pe;break}Lt===void 0?Ie(Et,V,q,!0):(fn[Lt-ie]=M+1,Lt>=Lr?Lr=Lt:Mt=!0,O(Et,_[Lt],S,null,V,q,z,U,H),Ke++)}const or=Mt?dm(fn):_r;for(Pe=or.length-1,M=kt-1;M>=0;M--){const Et=ie+M,Lt=_[Et],ar=Et+1<X?_[Et+1].el:x;fn[M]===0?O(null,Lt,S,ar,V,q,z,U,H):Mt&&(Pe<0||M!==or[Pe]?vt(Lt,S,ar,2):Pe--)}}},vt=(y,_,S,x,V=null)=>{const{el:q,type:z,transition:U,children:H,shapeFlag:M}=y;if(M&6){vt(y.component.subTree,_,S,x);return}if(M&128){y.suspense.move(_,S,x);return}if(M&64){z.move(y,_,S,Y);return}if(z===It){r(q,_,S);for(let ne=0;ne<H.length;ne++)vt(H[ne],_,S,x);r(y.anchor,_,S);return}if(z===cs){G(y,_,S);return}if(x!==2&&M&1&&U)if(x===0)U.beforeEnter(q),r(q,_,S),Ct(()=>U.enter(q),V);else{const{leave:ne,delayLeave:te,afterLeave:ee}=U,ie=()=>r(q,_,S),ve=()=>{ne(q,()=>{ie(),ee&&ee()})};te?te(q,ie,ve):ve()}else r(q,_,S)},Ie=(y,_,S,x=!1,V=!1)=>{const{type:q,props:z,ref:U,children:H,dynamicChildren:M,shapeFlag:X,patchFlag:ne,dirs:te}=y;if(U!=null&&ra(U,null,S,y,!0),X&256){_.ctx.deactivate(y);return}const ee=X&1&&te,ie=!os(y);let ve;if(ie&&(ve=z&&z.onVnodeBeforeUnmount)&&Qt(ve,_,y),X&6)St(y.component,S,x);else{if(X&128){y.suspense.unmount(S,x);return}ee&&Hn(y,null,_,"beforeUnmount"),X&64?y.type.remove(y,_,S,V,Y,x):M&&(q!==It||ne>0&&ne&64)?$e(M,_,S,!1,!0):(q===It&&ne&384||!V&&X&16)&&$e(H,_,S),x&&Ae(y)}(ie&&(ve=z&&z.onVnodeUnmounted)||ee)&&Ct(()=>{ve&&Qt(ve,_,y),ee&&Hn(y,null,_,"unmounted")},S)},Ae=y=>{const{type:_,el:S,anchor:x,transition:V}=y;if(_===It){Vt(S,x);return}if(_===cs){re(y);return}const q=()=>{s(S),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(y.shapeFlag&1&&V&&!V.persisted){const{leave:z,delayLeave:U}=V,H=()=>z(S,q);U?U(y.el,q,H):H()}else q()},Vt=(y,_)=>{let S;for(;y!==_;)S=m(y),s(y),y=S;s(_)},St=(y,_,S)=>{const{bum:x,scope:V,update:q,subTree:z,um:U}=y;x&&Po(x),V.stop(),q&&(q.active=!1,Ie(z,y,_,S)),U&&Ct(U,_),Ct(()=>{y.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},$e=(y,_,S,x=!1,V=!1,q=0)=>{for(let z=q;z<y.length;z++)Ie(y[z],_,S,x,V)},D=y=>y.shapeFlag&6?D(y.component.subTree):y.shapeFlag&128?y.suspense.next():m(y.anchor||y.el);let Q=!1;const W=(y,_,S)=>{y==null?_._vnode&&Ie(_._vnode,null,null,!0):O(_._vnode||null,y,_,null,null,null,S),Q||(Q=!0,Dc(),$h(),Q=!1),_._vnode=y},Y={p:O,um:Ie,m:vt,r:Ae,mt:Qe,mc:v,pc:de,pbc:w,n:D,o:t};let pe,be;return{render:W,hydrate:pe,createApp:sm(W,pe)}}function Do({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $n({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function fm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function cf(t,e,n=!1){const r=t.children,s=e.children;if(ce(r)&&ce(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=vn(s[i]),l.el=a.el),n||cf(a,l)),l.type===Ji&&(l.el=a.el)}}function dm(t){const e=t.slice(),n=[0];let r,s,i,a,l;const c=t.length;for(r=0;r<c;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,t[n[l]]<h?i=l+1:a=l;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function uf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:uf(e)}const pm=t=>t.__isTeleport,It=Symbol.for("v-fgt"),Ji=Symbol.for("v-txt"),xn=Symbol.for("v-cmt"),cs=Symbol.for("v-stc"),us=[];let Kt=null;function De(t=!1){us.push(Kt=t?null:[])}function gm(){us.pop(),Kt=us[us.length-1]||null}let Ts=1;function Kc(t){Ts+=t}function hf(t){return t.dynamicChildren=Ts>0?Kt||_r:null,gm(),Ts>0&&Kt&&Kt.push(t),t}function Be(t,e,n,r,s,i){return hf(B(t,e,n,r,s,i,!0))}function Ya(t,e,n,r,s){return hf(ae(t,e,n,r,s,!0))}function Si(t){return t?t.__v_isVNode===!0:!1}function Yr(t,e){return t.type===e.type&&t.key===e.key}const ff=({key:t})=>t??null,_i=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Je(t)||xt(t)||fe(t)?{i:_t,r:t,k:e,f:!!n}:t:null);function B(t,e=null,n=null,r=0,s=null,i=t===It?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ff(e),ref:e&&_i(e),scopeId:Gi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:_t};return l?(Ja(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Je(n)?8:16),Ts>0&&!a&&Kt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Kt.push(c),c}const ae=mm;function mm(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Vg)&&(t=xn),Si(t)){const l=Vn(t,e,!0);return n&&Ja(l,n),Ts>0&&!i&&Kt&&(l.shapeFlag&6?Kt[Kt.indexOf(t)]=l:Kt.push(l)),l.patchFlag|=-2,l}if(Cm(t)&&(t=t.__vccOpts),e){e=_m(e);let{class:l,style:c}=e;l&&!Je(l)&&(e.class=Ns(l)),Fe(c)&&(Lh(c)&&!ce(c)&&(c=tt({},c)),e.style=La(c))}const a=Je(t)?1:Dg(t)?128:pm(t)?64:Fe(t)?4:fe(t)?2:0;return B(t,e,n,r,s,a,i,!0)}function _m(t){return t?Lh(t)||nf(t)?tt({},t):t:null}function Vn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=t,h=e?ym(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&ff(h),ref:e&&e.ref?n&&i?ce(i)?i.concat(_i(e)):[i,_i(e)]:_i(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==It?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vn(t.ssContent),ssFallback:t.ssFallback&&Vn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&(d.transition=c.clone(d)),d}function Ot(t=" ",e=0){return ae(Ji,null,t,e)}function df(t,e){const n=ae(cs,null,t);return n.staticCount=e,n}function Kn(t="",e=!1){return e?(De(),Ya(xn,null,t)):ae(xn,null,t)}function Xt(t){return t==null||typeof t=="boolean"?ae(xn):ce(t)?ae(It,null,t.slice()):typeof t=="object"?vn(t):ae(Ji,null,String(t))}function vn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vn(t)}function Ja(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ce(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Ja(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!nf(e)?e._ctx=_t:s===3&&_t&&(_t.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:_t},n=32):(e=String(e),r&64?(n=16,e=[Ot(e)]):n=8);t.children=e,t.shapeFlag|=n}function ym(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ns([e.class,r.class]));else if(s==="style")e.style=La([e.style,r.style]);else if(ji(s)){const i=e[s],a=r[s];a&&i!==a&&!(ce(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=r[s])}return e}function Qt(t,e,n,r=null){Wt(t,e,7,[n,r])}const vm=Zh();let Em=0;function Tm(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||vm,i={uid:Em++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sf(r,s),emitsOptions:zh(r,s),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:r.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bg.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const wm=()=>ot||_t;let Ci,sa;{const t=Th(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Ci=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),sa=e("__VUE_SSR_SETTERS__",n=>Zi=n)}const Ms=t=>{const e=ot;return Ci(t),t.scope.on(),()=>{t.scope.off(),Ci(e)}},zc=()=>{ot&&ot.scope.off(),Ci(null)};function pf(t){return t.vnode.shapeFlag&4}let Zi=!1;function Im(t,e=!1){e&&sa(e);const{props:n,children:r}=t.vnode,s=pf(t);im(t,n,s,e),lm(t,r);const i=s?Am(t,e):void 0;return e&&sa(!1),i}function Am(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Yg);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Rm(t):null,i=Ms(t);On();const a=An(r,t,0,[t.props,s]);if(Mn(),i(),_h(a)){if(a.then(zc,zc),e)return a.then(l=>{Wc(t,l,e)}).catch(l=>{zi(l,t,0)});t.asyncDep=a}else Wc(t,a,e)}else gf(t,e)}function Wc(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Fe(e)&&(t.setupState=jh(e)),gf(t,n)}let Gc;function gf(t,e,n){const r=t.type;if(!t.render){if(!e&&Gc&&!r.render){const s=r.template||Qa(t).template;if(s){const{isCustomElement:i,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:c}=r,h=tt(tt({isCustomElement:i,delimiters:l},a),c);r.render=Gc(s,h)}}t.render=r.render||Bt}{const s=Ms(t);On();try{Jg(t)}finally{Mn(),s()}}}const bm={get(t,e){return Pt(t,"get",""),t[e]}};function Rm(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,bm),slots:t.slots,emit:t.emit,expose:e}}function Za(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jh(gg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in as)return as[n](t)},has(e,n){return n in e||n in as}}))}function Sm(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function Cm(t){return fe(t)&&"__vccOpts"in t}const at=(t,e)=>mg(t,e,Zi);function et(t,e,n){const r=arguments.length;return r===2?Fe(e)&&!ce(e)?Si(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Si(n)&&(n=[n]),ae(t,e,n))}const Pm="3.4.26";/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xm="http://www.w3.org/2000/svg",Vm="http://www.w3.org/1998/Math/MathML",En=typeof document<"u"?document:null,Qc=En&&En.createElement("template"),km={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?En.createElementNS(xm,t):e==="mathml"?En.createElementNS(Vm,t):En.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>En.createTextNode(t),createComment:t=>En.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>En.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const a=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Qc.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const l=Qc.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Dm=Symbol("_vtc");function Nm(t,e,n){const r=t[Dm];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xc=Symbol("_vod"),Om=Symbol("_vsh"),mf=Symbol("");function Mm(t){const e=wm();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>oa(i,s))},r=()=>{const s=t(e.proxy);ia(e.subTree,s),n(s)};Xi(()=>{Lg(r);const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),Yi(()=>s.disconnect())})}function ia(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ia(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)oa(t.el,e);else if(t.type===It)t.children.forEach(n=>ia(n,e));else if(t.type===cs){let{el:n,anchor:r}=t;for(;n&&(oa(n,e),n!==r);)n=n.nextSibling}}function oa(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[mf]=r}}const Lm=/(^|;)\s*display\s*:/;function Fm(t,e,n){const r=t.style,s=Je(n);let i=!1;if(n&&!s){if(e)if(Je(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&yi(r,l,"")}else for(const a in e)n[a]==null&&yi(r,a,"");for(const a in n)a==="display"&&(i=!0),yi(r,a,n[a])}else if(s){if(e!==n){const a=r[mf];a&&(n+=";"+a),r.cssText=n,i=Lm.test(n)}}else e&&t.removeAttribute("style");Xc in t&&(t[Xc]=i?r.display:"",t[Om]&&(r.display="none"))}const Yc=/\s*!important$/;function yi(t,e,n){if(ce(n))n.forEach(r=>yi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Bm(t,e);Yc.test(n)?t.setProperty(Vr(r),n.replace(Yc,""),"important"):t[r]=n}}const Jc=["Webkit","Moz","ms"],No={};function Bm(t,e){const n=No[e];if(n)return n;let r=en(e);if(r!=="filter"&&r in t)return No[e]=r;r=$i(r);for(let s=0;s<Jc.length;s++){const i=Jc[s]+r;if(i in t)return No[e]=i}return e}const Zc="http://www.w3.org/1999/xlink";function Um(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Zc,e.slice(6,e.length)):t.setAttributeNS(Zc,e,n);else{const i=zp(e);n==null||i&&!wh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function jm(t,e,n,r,s,i,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,s,i),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?t.getAttribute("value")||"":t.value,d=n??"";(h!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let c=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=wh(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function qm(t,e,n,r){t.addEventListener(e,n,r)}function Hm(t,e,n,r){t.removeEventListener(e,n,r)}const eu=Symbol("_vei");function $m(t,e,n,r,s=null){const i=t[eu]||(t[eu]={}),a=i[e];if(r&&a)a.value=r;else{const[l,c]=Km(e);if(r){const h=i[e]=Gm(r,s);qm(t,l,h,c)}else a&&(Hm(t,l,a,c),i[e]=void 0)}}const tu=/(?:Once|Passive|Capture)$/;function Km(t){let e;if(tu.test(t)){e={};let r;for(;r=t.match(tu);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vr(t.slice(2)),e]}let Oo=0;const zm=Promise.resolve(),Wm=()=>Oo||(zm.then(()=>Oo=0),Oo=Date.now());function Gm(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Wt(Qm(r,n.value),e,5,[r])};return n.value=t,n.attached=Wm(),n}function Qm(t,e){if(ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const nu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Xm=(t,e,n,r,s,i,a,l,c)=>{const h=s==="svg";e==="class"?Nm(t,r,h):e==="style"?Fm(t,n,r):ji(e)?Na(e)||$m(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ym(t,e,r,h))?jm(t,e,r,i,a,l,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Um(t,e,r,h))};function Ym(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&nu(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return nu(e)&&Je(n)?!1:e in t}const Jm=["ctrl","shift","alt","meta"],Zm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jm.some(n=>t[`${n}Key`]&&!e.includes(n))},e_=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<e.length;a++){const l=Zm[e[a]];if(l&&l(s,e))return}return t(s,...i)})},t_=tt({patchProp:Xm},km);let ru;function n_(){return ru||(ru=um(t_))}const r_=(...t)=>{const e=n_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=i_(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,s_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function s_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function i_(t){return Je(t)?document.querySelector(t):t}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fr=typeof document<"u";function o_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ce=Object.assign;function Mo(t,e){const n={};for(const r in e){const s=e[r];n[r]=Gt(s)?s.map(t):t(s)}return n}const hs=()=>{},Gt=Array.isArray,_f=/#/g,a_=/&/g,l_=/\//g,c_=/=/g,u_=/\?/g,yf=/\+/g,h_=/%5B/g,f_=/%5D/g,vf=/%5E/g,d_=/%60/g,Ef=/%7B/g,p_=/%7C/g,Tf=/%7D/g,g_=/%20/g;function el(t){return encodeURI(""+t).replace(p_,"|").replace(h_,"[").replace(f_,"]")}function m_(t){return el(t).replace(Ef,"{").replace(Tf,"}").replace(vf,"^")}function aa(t){return el(t).replace(yf,"%2B").replace(g_,"+").replace(_f,"%23").replace(a_,"%26").replace(d_,"`").replace(Ef,"{").replace(Tf,"}").replace(vf,"^")}function __(t){return aa(t).replace(c_,"%3D")}function y_(t){return el(t).replace(_f,"%23").replace(u_,"%3F")}function v_(t){return t==null?"":y_(t).replace(l_,"%2F")}function ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const E_=/\/$/,T_=t=>t.replace(E_,"");function Lo(t,e,n="/"){let r,s={},i="",a="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,l>-1?l:e.length),s=t(i)),l>-1&&(r=r||e.slice(0,l),a=e.slice(l,e.length)),r=b_(r??e,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:ws(a)}}function w_(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function su(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function I_(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&wr(e.matched[r],n.matched[s])&&wf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function wf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!A_(t[n],e[n]))return!1;return!0}function A_(t,e){return Gt(t)?iu(t,e):Gt(e)?iu(e,t):t===e}function iu(t,e){return Gt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function b_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}var Is;(function(t){t.pop="pop",t.push="push"})(Is||(Is={}));var fs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fs||(fs={}));function R_(t){if(!t)if(fr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),T_(t)}const S_=/^[^#]+#/;function C_(t,e){return t.replace(S_,"#")+e}function P_(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const eo=()=>({left:window.scrollX,top:window.scrollY});function x_(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=P_(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ou(t,e){return(history.state?history.state.position-e:-1)+t}const la=new Map;function V_(t,e){la.set(t,e)}function k_(t){const e=la.get(t);return la.delete(t),e}let D_=()=>location.protocol+"//"+location.host;function If(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let l=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),su(c,"")}return su(n,t)+r+s}function N_(t,e,n,r){let s=[],i=[],a=null;const l=({state:m})=>{const A=If(t,location),k=n.value,O=e.value;let N=0;if(m){if(n.value=A,e.value=m,a&&a===k){a=null;return}N=O?m.position-O.position:0}else r(A);s.forEach(j=>{j(n.value,k,{delta:N,type:Is.pop,direction:N?N>0?fs.forward:fs.back:fs.unknown})})};function c(){a=n.value}function h(m){s.push(m);const A=()=>{const k=s.indexOf(m);k>-1&&s.splice(k,1)};return i.push(A),A}function d(){const{history:m}=window;m.state&&m.replaceState(Ce({},m.state,{scroll:eo()}),"")}function g(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:g}}function au(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?eo():null}}function O_(t){const{history:e,location:n}=window,r={value:If(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,h,d){const g=t.indexOf("#"),m=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+c:D_()+t+c;try{e[d?"replaceState":"pushState"](h,"",m),s.value=h}catch(A){console.error(A),n[d?"replace":"assign"](m)}}function a(c,h){const d=Ce({},e.state,au(s.value.back,c,s.value.forward,!0),h,{position:s.value.position});i(c,d,!0),r.value=c}function l(c,h){const d=Ce({},s.value,e.state,{forward:c,scroll:eo()});i(d.current,d,!0);const g=Ce({},au(r.value,c,null),{position:d.position+1},h);i(c,g,!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function M_(t){t=R_(t);const e=O_(t),n=N_(t,e.state,e.location,e.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Ce({location:"",base:t,go:r,createHref:C_.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function L_(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),M_(t)}function F_(t){return typeof t=="string"||t&&typeof t=="object"}function Af(t){return typeof t=="string"||typeof t=="symbol"}const _n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bf=Symbol("");var lu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lu||(lu={}));function Ir(t,e){return Ce(new Error,{type:t,[bf]:!0},e)}function on(t,e){return t instanceof Error&&bf in t&&(e==null||!!(t.type&e))}const cu="[^/]+?",B_={sensitive:!1,strict:!1,start:!0,end:!0},U_=/[.+*?^${}()[\]/\\]/g;function j_(t,e){const n=Ce({},B_,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let g=0;g<h.length;g++){const m=h[g];let A=40+(n.sensitive?.25:0);if(m.type===0)g||(s+="/"),s+=m.value.replace(U_,"\\$&"),A+=40;else if(m.type===1){const{value:k,repeatable:O,optional:N,regexp:j}=m;i.push({name:k,repeatable:O,optional:N});const $=j||cu;if($!==cu){A+=10;try{new RegExp(`(${$})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${k}" (${$}): `+re.message)}}let G=O?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;g||(G=N&&h.length<2?`(?:/${G})`:"/"+G),N&&(G+="?"),s+=G,A+=20,N&&(A+=-8),O&&(A+=-20),$===".*"&&(A+=-50)}d.push(A)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const d=h.match(a),g={};if(!d)return null;for(let m=1;m<d.length;m++){const A=d[m]||"",k=i[m-1];g[k.name]=A&&k.repeatable?A.split("/"):A}return g}function c(h){let d="",g=!1;for(const m of t){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const A of m)if(A.type===0)d+=A.value;else if(A.type===1){const{value:k,repeatable:O,optional:N}=A,j=k in h?h[k]:"";if(Gt(j)&&!O)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const $=Gt(j)?j.join("/"):j;if(!$)if(N)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${k}"`);d+=$}}return d||"/"}return{re:a,score:r,keys:i,parse:l,stringify:c}}function q_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function H_(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=q_(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(uu(r))return 1;if(uu(s))return-1}return s.length-r.length}function uu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $_={type:0,value:""},K_=/[a-zA-Z0-9_]/;function z_(t){if(!t)return[[]];if(t==="/")return[[$_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(A){throw new Error(`ERR (${n})/"${h}": ${A}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,c,h="",d="";function g(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&g(),a()):c===":"?(g(),n=1):m();break;case 4:m(),n=r;break;case 1:c==="("?n=2:K_.test(c)?m():(g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:g(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),g(),a(),s}function W_(t,e,n){const r=j_(z_(t.path),n),s=Ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function G_(t,e){const n=[],r=new Map;e=du({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,g,m){const A=!m,k=Q_(d);k.aliasOf=m&&m.record;const O=du(e,d),N=[k];if("alias"in d){const G=typeof d.alias=="string"?[d.alias]:d.alias;for(const re of G)N.push(Ce({},k,{components:m?m.record.components:k.components,path:re,aliasOf:m?m.record:k}))}let j,$;for(const G of N){const{path:re}=G;if(g&&re[0]!=="/"){const ye=g.record.path,J=ye[ye.length-1]==="/"?"":"/";G.path=g.record.path+(re&&J+re)}if(j=W_(G,g,O),m?m.alias.push(j):($=$||j,$!==j&&$.alias.push(j),A&&d.name&&!fu(j)&&a(d.name)),k.children){const ye=k.children;for(let J=0;J<ye.length;J++)i(ye[J],j,m&&m.children[J])}m=m||j,(j.record.components&&Object.keys(j.record.components).length||j.record.name||j.record.redirect)&&c(j)}return $?()=>{a($)}:hs}function a(d){if(Af(d)){const g=r.get(d);g&&(r.delete(d),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(d);g>-1&&(n.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function l(){return n}function c(d){let g=0;for(;g<n.length&&H_(d,n[g])>=0&&(d.record.path!==n[g].record.path||!Rf(d,n[g]));)g++;n.splice(g,0,d),d.record.name&&!fu(d)&&r.set(d.record.name,d)}function h(d,g){let m,A={},k,O;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw Ir(1,{location:d});O=m.record.name,A=Ce(hu(g.params,m.keys.filter($=>!$.optional).concat(m.parent?m.parent.keys.filter($=>$.optional):[]).map($=>$.name)),d.params&&hu(d.params,m.keys.map($=>$.name))),k=m.stringify(A)}else if(d.path!=null)k=d.path,m=n.find($=>$.re.test(k)),m&&(A=m.parse(k),O=m.record.name);else{if(m=g.name?r.get(g.name):n.find($=>$.re.test(g.path)),!m)throw Ir(1,{location:d,currentLocation:g});O=m.record.name,A=Ce({},g.params,d.params),k=m.stringify(A)}const N=[];let j=m;for(;j;)N.unshift(j.record),j=j.parent;return{name:O,path:k,params:A,matched:N,meta:Y_(N)}}return t.forEach(d=>i(d)),{addRoute:i,resolve:h,removeRoute:a,getRoutes:l,getRecordMatcher:s}}function hu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Q_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:X_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function X_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function fu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Y_(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function du(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Rf(t,e){return e.children.some(n=>n===t||Rf(t,n))}function J_(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(yf," "),a=i.indexOf("="),l=ws(a<0?i:i.slice(0,a)),c=a<0?null:ws(i.slice(a+1));if(l in e){let h=e[l];Gt(h)||(h=e[l]=[h]),h.push(c)}else e[l]=c}return e}function pu(t){let e="";for(let n in t){const r=t[n];if(n=__(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gt(r)?r.map(i=>i&&aa(i)):[r&&aa(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Z_(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Gt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const ey=Symbol(""),gu=Symbol(""),tl=Symbol(""),Sf=Symbol(""),ca=Symbol("");function Jr(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Tn(t,e,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(Ir(4,{from:n,to:e})):m instanceof Error?c(m):F_(m)?c(Ir(2,{from:e,to:m})):(a&&r.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),l())},d=i(()=>t.call(r&&r.instances[s],e,n,h));let g=Promise.resolve(d);t.length<3&&(g=g.then(h)),g.catch(m=>c(m))})}function Fo(t,e,n,r,s=i=>i()){const i=[];for(const a of t)for(const l in a.components){let c=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(ty(c)){const d=(c.__vccOpts||c)[e];d&&i.push(Tn(d,n,r,a,l,s))}else{let h=c();i.push(()=>h.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=o_(d)?d.default:d;a.components[l]=g;const A=(g.__vccOpts||g)[e];return A&&Tn(A,n,r,a,l,s)()}))}}return i}function ty(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mu(t){const e=ke(tl),n=ke(Sf),r=at(()=>{const c=it(t.to);return e.resolve(c)}),s=at(()=>{const{matched:c}=r.value,{length:h}=c,d=c[h-1],g=n.matched;if(!d||!g.length)return-1;const m=g.findIndex(wr.bind(null,d));if(m>-1)return m;const A=_u(c[h-2]);return h>1&&_u(d)===A&&g[g.length-1].path!==A?g.findIndex(wr.bind(null,c[h-2])):m}),i=at(()=>s.value>-1&&iy(n.params,r.value.params)),a=at(()=>s.value>-1&&s.value===n.matched.length-1&&wf(n.params,r.value.params));function l(c={}){return sy(c)?e[it(t.replace)?"replace":"push"](it(t.to)).catch(hs):Promise.resolve()}return{route:r,href:at(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}const ny=Os({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mu,setup(t,{slots:e}){const n=jt(mu(t)),{options:r}=ke(tl),s=at(()=>({[yu(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yu(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:et("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),ry=ny;function sy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function iy(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Gt(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function _u(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yu=(t,e,n)=>t??e??n,oy=Os({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ke(ca),s=at(()=>t.route||r.value),i=ke(gu,0),a=at(()=>{let h=it(i);const{matched:d}=s.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),l=at(()=>s.value.matched[a.value]);Nt(gu,at(()=>a.value+1)),Nt(ey,l),Nt(ca,s);const c=Ve();return Yn(()=>[c.value,l.value,t.name],([h,d,g],[m,A,k])=>{d&&(d.instances[g]=h,A&&A!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=A.leaveGuards),d.updateGuards.size||(d.updateGuards=A.updateGuards))),h&&d&&(!A||!wr(d,A)||!m)&&(d.enterCallbacks[g]||[]).forEach(O=>O(h))},{flush:"post"}),()=>{const h=s.value,d=t.name,g=l.value,m=g&&g.components[d];if(!m)return vu(n.default,{Component:m,route:h});const A=g.props[d],k=A?A===!0?h.params:typeof A=="function"?A(h):A:null,N=et(m,Ce({},k,e,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(g.instances[d]=null)},ref:c}));return vu(n.default,{Component:N,route:h})||N}}});function vu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Cf=oy;function ay(t){const e=G_(t.routes,t),n=t.parseQuery||J_,r=t.stringifyQuery||pu,s=t.history,i=Jr(),a=Jr(),l=Jr(),c=_g(_n);let h=_n;fr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Mo.bind(null,D=>""+D),g=Mo.bind(null,v_),m=Mo.bind(null,ws);function A(D,Q){let W,Y;return Af(D)?(W=e.getRecordMatcher(D),Y=Q):Y=D,e.addRoute(Y,W)}function k(D){const Q=e.getRecordMatcher(D);Q&&e.removeRoute(Q)}function O(){return e.getRoutes().map(D=>D.record)}function N(D){return!!e.getRecordMatcher(D)}function j(D,Q){if(Q=Ce({},Q||c.value),typeof D=="string"){const _=Lo(n,D,Q.path),S=e.resolve({path:_.path},Q),x=s.createHref(_.fullPath);return Ce(_,S,{params:m(S.params),hash:ws(_.hash),redirectedFrom:void 0,href:x})}let W;if(D.path!=null)W=Ce({},D,{path:Lo(n,D.path,Q.path).path});else{const _=Ce({},D.params);for(const S in _)_[S]==null&&delete _[S];W=Ce({},D,{params:g(_)}),Q.params=g(Q.params)}const Y=e.resolve(W,Q),pe=D.hash||"";Y.params=d(m(Y.params));const be=w_(r,Ce({},D,{hash:m_(pe),path:Y.path})),y=s.createHref(be);return Ce({fullPath:be,hash:pe,query:r===pu?Z_(D.query):D.query||{}},Y,{redirectedFrom:void 0,href:y})}function $(D){return typeof D=="string"?Lo(n,D,c.value.path):Ce({},D)}function G(D,Q){if(h!==D)return Ir(8,{from:Q,to:D})}function re(D){return I(D)}function ye(D){return re(Ce($(D),{replace:!0}))}function J(D){const Q=D.matched[D.matched.length-1];if(Q&&Q.redirect){const{redirect:W}=Q;let Y=typeof W=="function"?W(D):W;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=$(Y):{path:Y},Y.params={}),Ce({query:D.query,hash:D.hash,params:Y.path!=null?{}:D.params},Y)}}function I(D,Q){const W=h=j(D),Y=c.value,pe=D.state,be=D.force,y=D.replace===!0,_=J(W);if(_)return I(Ce($(_),{state:typeof _=="object"?Ce({},pe,_.state):pe,force:be,replace:y}),Q||W);const S=W;S.redirectedFrom=Q;let x;return!be&&I_(r,Y,W)&&(x=Ir(16,{to:S,from:Y}),vt(Y,Y,!0,!1)),(x?Promise.resolve(x):w(S,Y)).catch(V=>on(V)?on(V,2)?V:Rt(V):de(V,S,Y)).then(V=>{if(V){if(on(V,2))return I(Ce({replace:y},$(V.to),{state:typeof V.to=="object"?Ce({},pe,V.to.state):pe,force:be}),Q||S)}else V=R(S,Y,!0,y,pe);return b(S,Y,V),V})}function v(D,Q){const W=G(D,Q);return W?Promise.reject(W):Promise.resolve()}function E(D){const Q=Vt.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(D):D()}function w(D,Q){let W;const[Y,pe,be]=ly(D,Q);W=Fo(Y.reverse(),"beforeRouteLeave",D,Q);for(const _ of Y)_.leaveGuards.forEach(S=>{W.push(Tn(S,D,Q))});const y=v.bind(null,D,Q);return W.push(y),$e(W).then(()=>{W=[];for(const _ of i.list())W.push(Tn(_,D,Q));return W.push(y),$e(W)}).then(()=>{W=Fo(pe,"beforeRouteUpdate",D,Q);for(const _ of pe)_.updateGuards.forEach(S=>{W.push(Tn(S,D,Q))});return W.push(y),$e(W)}).then(()=>{W=[];for(const _ of be)if(_.beforeEnter)if(Gt(_.beforeEnter))for(const S of _.beforeEnter)W.push(Tn(S,D,Q));else W.push(Tn(_.beforeEnter,D,Q));return W.push(y),$e(W)}).then(()=>(D.matched.forEach(_=>_.enterCallbacks={}),W=Fo(be,"beforeRouteEnter",D,Q,E),W.push(y),$e(W))).then(()=>{W=[];for(const _ of a.list())W.push(Tn(_,D,Q));return W.push(y),$e(W)}).catch(_=>on(_,8)?_:Promise.reject(_))}function b(D,Q,W){l.list().forEach(Y=>E(()=>Y(D,Q,W)))}function R(D,Q,W,Y,pe){const be=G(D,Q);if(be)return be;const y=Q===_n,_=fr?history.state:{};W&&(Y||y?s.replace(D.fullPath,Ce({scroll:y&&_&&_.scroll},pe)):s.push(D.fullPath,pe)),c.value=D,vt(D,Q,W,y),Rt()}let T;function Qe(){T||(T=s.listen((D,Q,W)=>{if(!St.listening)return;const Y=j(D),pe=J(Y);if(pe){I(Ce(pe,{replace:!0}),Y).catch(hs);return}h=Y;const be=c.value;fr&&V_(ou(be.fullPath,W.delta),eo()),w(Y,be).catch(y=>on(y,12)?y:on(y,2)?(I(y.to,Y).then(_=>{on(_,20)&&!W.delta&&W.type===Is.pop&&s.go(-1,!1)}).catch(hs),Promise.reject()):(W.delta&&s.go(-W.delta,!1),de(y,Y,be))).then(y=>{y=y||R(Y,be,!1),y&&(W.delta&&!on(y,8)?s.go(-W.delta,!1):W.type===Is.pop&&on(y,20)&&s.go(-1,!1)),b(Y,be,y)}).catch(hs)}))}let bt=Jr(),je=Jr(),ge;function de(D,Q,W){Rt(D);const Y=je.list();return Y.length?Y.forEach(pe=>pe(D,Q,W)):console.error(D),Promise.reject(D)}function ut(){return ge&&c.value!==_n?Promise.resolve():new Promise((D,Q)=>{bt.add([D,Q])})}function Rt(D){return ge||(ge=!D,Qe(),bt.list().forEach(([Q,W])=>D?W(D):Q()),bt.reset()),D}function vt(D,Q,W,Y){const{scrollBehavior:pe}=t;if(!fr||!pe)return Promise.resolve();const be=!W&&k_(ou(D.fullPath,0))||(Y||!W)&&history.state&&history.state.scroll||null;return za().then(()=>pe(D,Q,be)).then(y=>y&&x_(y)).catch(y=>de(y,D,Q))}const Ie=D=>s.go(D);let Ae;const Vt=new Set,St={currentRoute:c,listening:!0,addRoute:A,removeRoute:k,hasRoute:N,getRoutes:O,resolve:j,options:t,push:re,replace:ye,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:je.add,isReady:ut,install(D){const Q=this;D.component("RouterLink",ry),D.component("RouterView",Cf),D.config.globalProperties.$router=Q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>it(c)}),fr&&!Ae&&c.value===_n&&(Ae=!0,re(s.location).catch(pe=>{}));const W={};for(const pe in _n)Object.defineProperty(W,pe,{get:()=>c.value[pe],enumerable:!0});D.provide(tl,Q),D.provide(Sf,Oh(W)),D.provide(ca,c);const Y=D.unmount;Vt.add(D),D.unmount=function(){Vt.delete(D),Vt.size<1&&(h=_n,T&&T(),T=null,c.value=_n,Ae=!1,ge=!1),Y()}}};function $e(D){return D.reduce((Q,W)=>Q.then(()=>E(W)),Promise.resolve())}return St}function ly(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const l=e.matched[a];l&&(t.matched.find(h=>wr(h,l))?r.push(l):n.push(l));const c=t.matched[a];c&&(e.matched.find(h=>wr(h,c))||s.push(c))}return[n,r,s]}const At=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},cy={};function uy(t,e){const n=Wh("RouterLink");return De(),Be("nav",null,[B("ul",null,[B("li",null,[ae(n,{class:"logo h2_poppins",to:"/"},{default:He(()=>[Ot("Boulevarden")]),_:1})]),B("li",null,[ae(n,{class:"h3_poppins",to:"/about"},{default:He(()=>[Ot("Om Creo Arkitekter")]),_:1})])])])}const hy=At(cy,[["render",uy],["__scopeId","data-v-87334722"]]),fy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAA1CAYAAAA+qNlvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXySURBVHgB7ZlrbBRVFMfPmdktdKkVDOEhjzThDaII9gXErCYELNH4yAqIQA3ESAEJMX5lE030k0GUriQGg1T40AZ8xET5IKlRoJQGAaXqBymlRcOjUKHLtt2de/zPSpvSlp2Z227dD/6S3dnHmTv/Offcc8+9w5Rm1m0qjDHz8HsaiFTsLT+xljxiUPrh1P/yZNIg/cI5tXAhmh0Oe9cxBB7nlNfAXY2+cKPwUfJI2oUbJE7XYLYkRJ7bTTMiDjGehJ9d8/rCh8gDQxDj7CycaZppqVXkgaHIKi5gQ0g2r9tctMhdD2WM8GTH5LLQBy9uXTDJjX3GCE/CNH+E8h8u3Vq4JBQKmalMM0t4EplOFu8JjLn4WiorV/E0EEo3FwlpIQrhXmeQ9aGhfDU3r05sqKqqsrr+zWDhdxBqg8pmETmNG/kO8XMqkW00+yjTYcrB+0wM3pnw8kpkH2W0W19lvvA+sIEbGJGBg9Md/wvXBTHbicNN8sh/LhzlemucEiWoxr7EbbS6PU9rcK7blD/HIH5MhMcnfzDFUgnjJ2m7fbyi4mzUS1tIc2p/ed3RsrLgmSjHlsKTq9ELy3BL2alOciV8xZaFU7ITUkgmhXCdxUhNo5PJuWsWECbDoEucG3gB306QBpFIdRsOB+3X+m3FD8TjqgS1y3JcYg4uNAXXCvQw55TCt2wpzL1l8fOirFVk8mL8FEhVpYohgzKh7dlx/DoOn5WVzf4ixrnTFVlTmc35cPQMFh4Dj//Rr3C7wMkZfaHwlvAOjIICdjHBQrIoxZ5nSU7hiUik3u6FU3delT3/6yM8GA76Ai1NJYrNnZCRR25BIU0sFnnEbf3dm7uyShii867F1uLHfZ5EU9JzyjB4YHWJB7qFI3648VrsCSh4G1e/n7wj0mkpGiK6hb+ytWgq4vQ9fHyQdEAO68fjbsJAP1TC4bBBit7CIJxF2mBsitHb425CRyu8ksKbWr5BqqHnSHNCSsIs4jd7C3f0JnKKlnBfKDQ7y2JjO64wzNUZIh14P4flyRFidQwTTwIV8ni44D7KarvS29q5OdETHhibm4/InOfOXP5SIu+Iaq+s2H32iosT3HhcCx966kmc7rwlIHJeSD2zL3LyHLnH2eO6MY6OetiFXQw3V/5puSfRpLML6xYsgzjfhV0t+ds/oXQgrJX77bJogpORRda3e98/7bpW7qKxMZjlZGOXOKSBvfB0TIFmwjpKOoyk4U4mwqwb487pSJHRRjp0Rh2FY9B7LsxsbI/HnIxkmDh2eX9gSgq4MGshDbAC40ZHo7g5g3Tw+8c5G/F50sBOVw1ORiiZlwWDQU/lgG2vLOspZ0v5jTTAhjp97xTnJtOSiTNQ8nogb+7tYmZjRWoraWXNNaod47XY1LqRsnksjk0fhV/aOHcUuSC0rTgb5f27+DiNUjfc1Emmp0mtC8P6+/ZJbOjWORlihbPIbwQOlpYtzE+13FpfVjx1RJw+x8S2yKlNNHrkQPkxxzHW76n228sbC5b7TONrV2cIXUAG26UMPlSxq9YeHxx6dUFujt8/BQX5Uoyap3GTRUROD2YlqkiCaMPRafcUboMHRxX4sprcr0jscdGaXN8TjyRPSNR+3tNwLnt7dXV1gjToLoIUqZ04/E7usW9wlGfRklzYH0uYvt26om26HxCdrb305yMFk9qhZgm++ildMDXFO6z1+z+q8eKkPtxVdsYt8xAyYwStd1A6ELnCSt448PHJ0zRA7nok93Pdxfbpiyf/kKUU6gcupMHzPAKEGuGUN/dGaitpEOjzLLG+pjlRMG/ccWUaDQjGAuR4u97QXxAwRVG5HrZMa0PscvTH+vqrWkVV32ZTsKbs8Vmm0bkBH1eSx/0WNBzH+vRXHHdG5VZl1b/7gIOGY+qz9xLzWjqwWZRYjk22Ekwsk9HvYzF55PQ8X+wqkzGFC11HhjxjWWoPUfsvWFRfJc115YCE96S0NDiccjrySCWmoViYYJcCyKMBrGKuJVBl+k1ujnXQZaulpqmqigYlJO7FP5P1Lp3nWaAZAAAAAElFTkSuQmCC",dy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxoSURBVHgB1VoLcJTVFT73/pt3IgoBw6MQRaAgHdsiJqi10Toq1VoHZ1HHAosISgI6DrUyrRgzpYPtKFqFQKM04VXUaJmxiNjWGShW0BBA0YhFIC9jIAEJJJvs7v/f0+9uCO7u/yfZbOIQvpl93HOf595zzz3n3CsoSuTn58vKk1suE37X5TJBjlWKLyfSH3kxsjO+LckR6Z6CFbOoE0I0f0viGhLcAtqnTFQtSPyvLd7/2abnyhujbVV0V+C+eZPS4+PFOFLGHJIiGxUuBXkgnSeAURNjOInfSvzuVcIskgNTPy8p2N7WVb1OGXW73UZSes2NUopFmM2bQIqnfghmagYTb1mWuWz9qj2fgSN2KufI6P0Lsy5ysVwimeeyoAF0YaAOXC9u4aTNpYXbmyMzZSTBnT8h3qXoL5iY3AuISY1hJMTqVKP1cafMsBX15E7OIGk8j7/3dtaaFhWI8kFUrIWQVCol6kmqeimMJp1vBaxaI85qpl5BQJnFaaVGiq10KJ8MKKLh6HwkRpzJJC5D/0nU6Rh5iff4mT+Vllb4O2iujj96T7KsmYMG7nauLeqw/tuEsEpcJI5Kn3myqKjcS98NDjoRPZ4fXmwkJ6UHOJApDWMGGL4d5EG2goIeTRqSWg+G12CCuJ10FjPnZ98sJb1BNnFlhWI7ma28telln1MBKeoHyM/PcVWd9E4hliuR/EFkPhMftZS8ZUPhri912tBfubk5qaY0nweTEyOKK1aiyAoEHlm/es8R2uGs0c4HduyoVPs/+qr6qslD/wPRzsT+HBOajxUcIEiJsZMHvF9R1uAPKiMv+a5Hzk325rCSSizdUFT+NfVTrF1Z9hmT+g3+Hg7PEVIIeU+cSAiKtghaPA3b1oL8q9BiUDpf+cm6dRMaovOMeYty0s023z2W4EcwssFYrQ8MEstGDLp1V0FBQXAreXKzp0GHFOPvRaF1cXo8Xrziw2flkW/+PQJMXhXZOPbwG5v0njzPgEIRvrbWuUrycjA4FmJ6CUZ3u0VUXHXi7RvOFfQmbsXilNvqk7jF/diIJGn4zHFIDw/PpFZLqM39QfHMzrvmUmjOhzCoSMtsDLOc3pEoKYEJKNTGyPpQSqMS2jJGujhejIcCDtO0SB9yWTCk+xD6+EoZ3pBG/pbExGSfajMH+iv3U/P27dvNrupZwhgFjZnqmClkZmhSstwHI+cYtdvj7UVYDHVJY7QLTI2is9q3AyhcGXAZUXsGnaHdXq6+Uhr0S+KacRSgQSyM1La2ZEx0W0vmlVw3a3zW58oyX19fVF7t1AbHBarZivcLtit80MKUpGkYjYayvgplFLVShWEMcrW7WpEmL1dvfOnD0xQjHlyYM8LktjuIah5G2+37/2wX53oS7V8CU2wYccs8edn70O9yivNtK3lh/6mOYhteKP961sKsQuy1JSLMseAKy+RVof0qNk9BSdWH0gS6QMYEHC/S5nJxxExFC72Cs/Im/8zkVr1XtCl5VZRVYWzRZBbyZTITimfkZl2vldC5wRq+FRjtr7E8B5Cswuc9mDGPXZ4xdW9oI/76kS0QxxO21lkZwpM35SBkYFwoHVbC3HUrP3qFegBtdLTItrkQp6WYxmTqBcBkI74e8TY0vxlqr+qJbM7Y53rnpS99ndWdlZddiFWcH9FiqXQqDAO9R/vTDSa9ovUpLEGvmdSAlk0XUq5IGZKWq72pDnppaanVFZPButrZsCPORb2EnuVkqpmL0eUh2QmTrPfce1LQLhaiEccCznELHoq4DfRJ5KxVB6LNJUkNadpLerMzh9reFYRa2N1s7A22+ZxKBKJ2s5KG1E7FGJZi0Mn2PllbVRvhMj0XKoIheMY9Z8rAlCT1FI6B+7Er0yPyB8LReNGzcMoXJbTrAPUCWnRtgSzLb9RRFND+qxS8yElcMf07BavZmem3/bETJoMoXbPrJDUnLVZk3cuCD9lLiKFY/cV6e1A0YD5lb0IYjqIbF2dGZxEZLpyPnO3Q206h1PSSwjKo+rJumwlaNRDtGQ9fPU26XJsheFeEFRDythRq1ebe1m4bM4x6ipRypkxJMUI7A1DbMLIpMaxN5iPKtB5tZ7JnCAa3yFwMRo9FZA3E3r6PYkdczIxWndgyFlM9wSHrleqDqbHtJ2x27yDvP2AEbXPIvcvtjlJ8HRAzo8yu6XYaNWvF05392hVKC7CfReCZSDpWOTVpiDeHYkRMjOqzDa7dWFuG4B1dKZ5o0XJD+SHMWkUkXbKY2F1dOOGGEz0mRlOahiTDgbMFpTDr71MfoHQ6WdCU+20ZQozrtjKihE7kmBh1cWsCaqbYOxE9VkCdQZCspRggLIpzosfEqHQlIapBNlNMaIunj4Aztc/a0oiJ0RZ/qx/q3sYokzWC+gqsxtjbp9buqsFObnKix8Ro0Fdltokp1uBG6gPk5OS4wFSWLYPVoe7qWobz9on5eIEvtzeSJJSYErzW6CUyxweuFtr0iwDs3o+7qyuVs/EfM6OWy9yi7yrDiAJWkuF6Qq8IxYh5iyalk2E+YcuABDUfa45Zq8fM6PoXEeMRtNOWodidOdF7R2iEIFpol88XcE2Dxp0anoMwuqC3enNGxy66pEWVi/Ad7tIJHTqVz85cmDVJB1WjbSsYSBtSNRXivxSRs4SwTKbjcDPWU4xA1KNJM2pFZrAv0YimgWPyxFYhlJNdOtog+aonb/Id+lK5u3bufOC6tORLqxZJIf+K5GB7CfG3toYzH1EUsHk+AEuql/DHbVpKJlpDKQogrHGaLfUHrIBTMG00olob45le8iyY9H3Kd7h0dk+I98y/LntgsrlBkLGEHJiEHjjAMlAYrdiyUnb9gAG62l9/hCsqbK+ovYSSlWUfz8y7er6QxhrMZ7hZKCgN0jsTXtJMT2N2HS3g/2J6K3UIEjbpeOzFa3D2Dm6PfTopSz4C+9ZTvKL8MPUSjtpR9mBvadeq1e19J2Vw2u/x/3f4DO6k3DB8uTWL3FGx6zBQFYI/v123cvde6gFgnBlOg3dURhaZPToLtViNGpy0Egv1ABiopt7jAOZj2roVu1+jHgJMjrIRWXjBqHIYmMt5VbpAQcF2s3jFrrd9lu8XSK5FjyeZe3pxzLiOF8vaTLqzuIcrqZGTHzy/0yLp2Cq1EgNqsWUwR6WMbIA0blq195O6RG8e+XkGOnj9bKizazAUItNyWDVu7/Gmp19dvbuSYkBmE8KmTBdH0hWp0y4Y559CTO4K69egTPe8SQNKi8qbKAb889lP9OTpQNbW3NwJqc0qNQcXTeMVybGyQy8I8gqLj5rC3L2+sLxP/FjD70tXkkaEihGEyg9Oj7igYo9EXjLh0P5eojL0nUxMjIaisLBCGxRbzn6+U1iGSsd+HBlKg95oUmTWS2lJMErHw2oIHmMkiPF0oYHFZIq42gdOwM6vkZRk6hWNDFjHYyYeDL336O9wL/yJVqBzHLIqaisuqpTFy8tq2CHWowTlpDSm/ZQuBODcT2Hf3eDDFrBji9/VUUnZnlAvB5++hQC79hJEyF+c/VDWBOrn8CzIuhkjfsb+bI4P+i3z7/pf0Hj/0fVjfIJNbQxHvsCCb0jjJ/146IF9e+r6LPDVV9CuYOWxd69D6PXPOCwjDAVYvSye27i67F86dU7d4t5jossV9y7U8TBbg0SHMRFPtrB3S2m7Fj3vmI09yRy4G6NDsFvYbgQxCXv8AXPqpqL2V9rfniuQ89l5U/KgcfMdru8o6Hcyf4Bb4tcstj7BbfkpV3xCYzQvS3oLbfGMrvVdZCb7LxHaalPiWhgjs3ETNtrxlac2QIR5X8mKPdvPjT40X2vZpBNpT8JcWtJN3/qpdx0MjVq0oC2fM0hXwRE/59tKyacUGUFxx93scJS1m2ZSmkrw14hstrSPz8LRIDPQTrvuAFfQ/qP1L5IZIihtctjZd/udAjLrbm04ExaRcPRSPAuveRxuwNPU6Q12PwWLI4rVE+sKP3wjMsvRe0m2mldhXjxYii8g6/3mRWcXMKFb9uCmfkFrw8jNTgW69Ds9D2dnUhznYqbuJ/2Uu1+CDypLlASswJoOxeOEbh3sfIRADjVe+714wXdhr/1cX+LoVyPYUNrU6vVjjx5C6wBtfx8n/T5Cii0+X2CL+U3r6e5CLT0KSeZ4MhNHDEgfZShjlDRpCKIzYxDqSIRs4yqCk+2Niysg+NFOxklo/ON2Mq4YoEWhZc+YpI5KNo4hjF91uCKhsifa/v+/Tw4JyaFJsAAAAABJRU5ErkJggg==",py="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA7CAYAAADFJfKzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgdSURBVHgB5Zt/cFTVFcfPve/tbrKEAAmBUPklFauZyo/JqCBY6ZS2VP6wUwijTJlZpKVtAIv6h2nHKZPptDM6dhAxP8ooLukUbbf0B6OjbbXdDjLJpgmWQMAxYoNSa4RkINlssrvv3eP3bQQh2ezvDZv4mdnNe+/e+/aed+8979xzTgRlgcpdZQX+nillOvFCpaiMBJcRyVuIyY7juaiiM5FfEv2fBQ3g+kkhxLtMfJxYdMwrdpyurvYalGEEZQhX5e2linmppukbIcBKCFBExAX4CZn4XVgxiUuC+ENm8Sch6I2w4GO/fcbXh54ypUlawm7dWm4L6DxPl7a1zLReklgMQSdTxuBufDXhEfxe2J2H5025p7e6ulpRiqQsrGvnkqkUyvsxSdqI05spy2CKtwimus7p+Q3eFKd40sJiNJ0hh9xArD+OLnyRxhh02Bcmqgp2zTni8XjMZNpqyVS+f/uKLwhN/JxYq4KiKaXrw2yM8NftzosFt5UXn25r6epPtGHCwm6pXH6TJtRLGM378Hjz6DoCxVWIr7uksM0tX1nofavp/EBC7RKp5Nq24l4S5vM4vF6jOTrMxxXxhoaa5nfiVY07spu33/VdTNkncTiHchC8qmZqUnx10Z2zO443n3svVt2Ywrq23YkRpWcpRwW1wJS2ZucMfN+26I6iv7U1d10cte5oBdYaNSUfoVyculHAex6veG7r/zh/pcfj9UerE1VY10NfWUgq1IDDZZRdTPTyLHpxGh3pxpT0K8W9UohSlixJiakQowijNx2izEU9Z9w7snL327VKz+7GEUprhLCWVRSy6fUocSVn6iWBoB5S9JoyjT1Moc4LtsClV/e+GxxerRx9WaAPOHQjP89ht/0Ml3bEv7UIKjJ/Mr/4W3uGW1v68MoQdB0WwnocZl5QQSGYfieESdvdM3zNVE0xTb/Wfa3hViLYEOR3bV/WQwmA2eyAwA+f7Xq1BadHri67RtiICWjIJ9CkkLKB4n+FlfnDg3Ut71FWEXNYp8domLBXRs+avhFblyJbsMzDfCoYpE3ZF3QIjO5a14+Wf/vqa1eEDTihBCRvpKzA0Dv00xef83XRWKLx5ge2lk+/fBoRtqKiQpOGfQOeR5Z2L6L9/RLfKzT2rLHb7Isvn0SEnVTSWaIJXk9ZgS0l9EdvNWXc85AAlmfkgYqKMrt1ElFQrIlyvIMWU3boJWU2JVJxy5blRUYer8Z79R6czsRn+lXFMykl+G5nab5lAZ4ZEpblffB5ZNDDcDUiJNgR10jfvGNpicHqKUy27wy5czL2+wsEa/fiYK+srFxVIIlXU/YY9F/oORevEivHJmjQjSKjgkasJgyoWGMdS78WhOdPFFO2YFIez6lQrCqrdq3S0avvURQjJzOIJdYSkVKpL8GIztIUTowbP+6fhT/TKHsUCKe62XqiZSKDLtVUYNaScg+lQL6haL716rmFJj42ltoN0E3yVvocIMgsg1+br6vzbMxAhMKKudyQgQVr4GbRLSRBgxSHUDjIdptjEBu+6HURCEJvHZQWQuoiA+oe2twNX+7RaGWI//jjtQ87gt264aiSgvKjVhBqCvr6CH4o9R0ZU541ska6AkPLvflCbdMBShFP7SnrgfxutPJNO5fdqhlcSekgOAAFxR9QjqMbahYGpIjSAFFBOLWk6KMcRwg5CzNwKqWD4P9JrLWTlONg47+Q0tUtQnRYRkUH5T7zKQ0ieonV+xLeuBOW149ym3mUBljvAWbukEKpM1i9AcpRIjsi7BUoDTCyvQHuP6tT4PzbNGlmF8RPWQEg7jDfVXn7kqiFUg26n219O1Z7y21SUFp8E5uD9hGF5wfnQI0Wpmf4sNd6velud+ega1vpn3HlMUoVFlUk5c7ohbITX0tjNc+bll/KFD6Ee4yMKwmCeyytLahpmnzIOohoOEXqL1LI7w9luKRAxL4W0W1sjj9jNGmTQ/XE1Cjt04P5hK6ZkZkV8S5Km/M0FnAjTUBgyr7uLm6N+MAiwrqf9l5E9PogTTAgqN8UxouXY0qfBa+k7U04u1poAoG90qFz7ZPbLp9fEXbBtNXnDMX1NJEwud7r/Sxn6oqwVizzgxKntXM5RuMeBEaZa9x1vmuc89fEYK3MMWXS4zj8iMYxWKtvhTXaM/z6iIDzjTPy/o7ZXjsOTMioWNYSxnXvwWd8I2z+EcJaqa8yIJ/GNDhE4xBm9USPaXqilUVNJdi//2jfJNW3FU+ozcpCofGBiQE63FDT/MuX97VGtfVHzZuotVwlQlnB6ROU+5iIshzmPn4wVqWYSSIHav7dLpXxKIzwk3hquTrCJlTvy0FDPtLQ0Nwdq2LcjJgX6lpeN1mtoxwdYYwBNjG85aX6ps54dRNK/7GSICdx3wpMazc0dZByAKiSi/iqOlDjW4/+dSfSJuFcJ2sN9+vao9jh7MLjHJOMl+hYaQvczsp0dbbn/SqZlkk5sTy7G3vwNJ98cMcdbygWv8C7+Bs01giqM8Na/W/qfUk7CpP32GG3sJ+arQ3DN12Vy9ew5IegwCyhsxZ2tHYv+I0/wM346+EmYDKklbLnrm187R2bWGeSWgtV/Tw+/83Uexm3gQXH/1GKn2JpfI1seQ+nI6hF2nGext2NA9j1/xV+pH86ZhR+WWdzEeIy97OQiwTzZKzxRP81BYoPSodEP4byH1Lpr2i6cfS5Et+H8XIcEyVjOQyf5k0c+/Tj3rzj7hJTDMyW6pr0nqg4Ze+FAaPgB/DPnPeHw2c8+1ovURb4BG5YIz8Fi2GAAAAAAElFTkSuQmCC",gy={},nl=t=>(Ln("data-v-a01727a3"),t=t(),Fn(),t),my={class:"footer_wrapper"},_y={class:"grid"},yy=nl(()=>B("p",{class:"h3_poppins"}," Boulevarden bringer samfundet sammen og styrker tilliden gennem samarbejde. ",-1)),vy={class:"list"},Ey=nl(()=>B("h3",{class:"h3_poppins"},"Forside",-1)),Ty={class:"body_poppins"},wy=nl(()=>B("h3",{class:"h3_poppins"},"Om Creo",-1)),Iy={class:"body_poppins"},Ay=df('<div class="some_img" data-v-a01727a3><a href="" data-v-a01727a3><img src="'+fy+'" alt="LD" data-v-a01727a3></a><a href="https://www.instagram.com/creo_arkitekter/" data-v-a01727a3><img src="'+dy+'" alt="IG" data-v-a01727a3></a><a href="https://www.facebook.com/CreoArkitekter/?locale=da_DK" data-v-a01727a3><img src="'+py+'" alt="FB" data-v-a01727a3></a></div>',1);function by(t,e){const n=Wh("RouterLink");return De(),Be("div",my,[B("div",_y,[yy,B("div",vy,[B("ul",null,[ae(n,{to:"/"},{default:He(()=>[Ey]),_:1}),B("div",Ty,[B("li",null,[ae(n,{class:"footer-link",to:{path:"/",query:{scrollTo:"introduction_video"}}},{default:He(()=>[Ot(" Værdier ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"/",query:{scrollTo:"about_project"}}},{default:He(()=>[Ot(" Om projektet ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"/",query:{scrollTo:"interview_video"}}},{default:He(()=>[Ot(" Hør hvad andre tænker ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"/",query:{scrollTo:"poll_text"}}},{default:He(()=>[Ot(" Giv os din mening ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"/",query:{scrollTo:"before_image"}}},{default:He(()=>[Ot(" Før og efter billeder ")]),_:1})])])]),B("ul",null,[ae(n,{to:"/about"},{default:He(()=>[wy]),_:1}),B("div",Iy,[B("li",null,[ae(n,{class:"footer-link",to:{path:"about",query:{scrollTo:"who_we"}}},{default:He(()=>[Ot(" Om os ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"about",query:{scrollTo:"why_do"}}},{default:He(()=>[Ot(" Hvorfor vil vi det gerne ")]),_:1})]),B("li",null,[ae(n,{class:"footer-link",to:{path:"about",query:{scrollTo:"we_are"}}},{default:He(()=>[Ot(" Mere om os ")]),_:1})])])])]),Ay])])}const Ry=At(gy,[["render",by],["__scopeId","data-v-a01727a3"]]),Sy={__name:"App",setup(t){return(e,n)=>(De(),Be(It,null,[B("header",null,[ae(hy)]),ae(it(Cf)),B("footer",null,[ae(Ry)])],64))}},Cy=At(Sy,[["__scopeId","data-v-03dc7a0a"]]),Py="modulepreload",xy=function(t){return"/"+t},Eu={},Vy=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=xy(l),l in Eu)return;Eu[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Py,c||(d.as="script",d.crossOrigin=""),d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};var Tu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ky=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},xf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,d=i>>2,g=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,A=h&63;c||(A=64,a||(m=64)),r.push(n[d],n[g],n[m],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ky(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||g==null)throw new Dy;const m=i<<2|l>>4;if(r.push(m),h!==64){const A=l<<4&240|h>>2;if(r.push(A),g!==64){const k=h<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ny=function(t){const e=Pf(t);return xf.encodeByteArray(e,!0)},Pi=function(t){return Ny(t).replace(/\./g,"")},Oy=function(t){try{return xf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=()=>My().__FIREBASE_DEFAULTS__,Fy=()=>{if(typeof process>"u"||typeof Tu>"u")return;const t=Tu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},By=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oy(t[1]);return e&&JSON.parse(e)},rl=()=>{try{return Ly()||Fy()||By()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uy=t=>{var e,n;return(n=(e=rl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jy=t=>{const e=Uy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vf=()=>{var t;return(t=rl())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pi(JSON.stringify(n)),Pi(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ky(){var t;const e=(t=rl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zy(){return!Ky()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wy(){try{return typeof indexedDB=="object"}catch{return!1}}function Gy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qy,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kf.prototype.create)}}class kf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Xy(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new kr(s,l,r)}}function Xy(t,e){return t.replace(Yy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Yy=/\{\$([^}]+)}/g;function ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(wu(i)&&wu(a)){if(!ua(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ev(e))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zn){return this.instances.has(e)}getOptions(e=zn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zn){return this.component?this.component.multipleInstances?e:zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zy(t){return t===zn?void 0:t}function ev(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const nv={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},rv=Te.INFO,sv={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},iv=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sv[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Df{constructor(e){this.name=e,this._logLevel=rv,this._logHandler=iv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const ov=(t,e)=>e.some(n=>t instanceof n);let Iu,Au;function av(){return Iu||(Iu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lv(){return Au||(Au=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nf=new WeakMap,ha=new WeakMap,Of=new WeakMap,Bo=new WeakMap,sl=new WeakMap;function cv(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(bn(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Nf.set(n,t)}).catch(()=>{}),sl.set(e,t),e}function uv(t){if(ha.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});ha.set(t,e)}let fa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ha.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Of.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hv(t){fa=t(fa)}function fv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uo(this),e,...n);return Of.set(r,e.sort?e.sort():[e]),bn(r)}:lv().includes(t)?function(...e){return t.apply(Uo(this),e),bn(Nf.get(this))}:function(...e){return bn(t.apply(Uo(this),e))}}function dv(t){return typeof t=="function"?fv(t):(t instanceof IDBTransaction&&uv(t),ov(t,av())?new Proxy(t,fa):t)}function bn(t){if(t instanceof IDBRequest)return cv(t);if(Bo.has(t))return Bo.get(t);const e=dv(t);return e!==t&&(Bo.set(t,e),sl.set(e,t)),e}const Uo=t=>sl.get(t);function pv(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=bn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(bn(a.result),c.oldVersion,c.newVersion,bn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const gv=["get","getKey","getAll","getAllKeys","count"],mv=["put","add","delete","clear"],jo=new Map;function bu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jo.get(e))return jo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gv.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return jo.set(e,i),i}hv(t=>({...t,get:(e,n,r)=>bu(e,n)||t.get(e,n,r),has:(e,n)=>!!bu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yv(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const da="@firebase/app",Ru="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Df("@firebase/app"),vv="@firebase/app-compat",Ev="@firebase/analytics-compat",Tv="@firebase/analytics",wv="@firebase/app-check-compat",Iv="@firebase/app-check",Av="@firebase/auth",bv="@firebase/auth-compat",Rv="@firebase/database",Sv="@firebase/database-compat",Cv="@firebase/functions",Pv="@firebase/functions-compat",xv="@firebase/installations",Vv="@firebase/installations-compat",kv="@firebase/messaging",Dv="@firebase/messaging-compat",Nv="@firebase/performance",Ov="@firebase/performance-compat",Mv="@firebase/remote-config",Lv="@firebase/remote-config-compat",Fv="@firebase/storage",Bv="@firebase/storage-compat",Uv="@firebase/firestore",jv="@firebase/vertexai-preview",qv="@firebase/firestore-compat",Hv="firebase",$v="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]",Kv={[da]:"fire-core",[vv]:"fire-core-compat",[Tv]:"fire-analytics",[Ev]:"fire-analytics-compat",[Iv]:"fire-app-check",[wv]:"fire-app-check-compat",[Av]:"fire-auth",[bv]:"fire-auth-compat",[Rv]:"fire-rtdb",[Sv]:"fire-rtdb-compat",[Cv]:"fire-fn",[Pv]:"fire-fn-compat",[xv]:"fire-iid",[Vv]:"fire-iid-compat",[kv]:"fire-fcm",[Dv]:"fire-fcm-compat",[Nv]:"fire-perf",[Ov]:"fire-perf-compat",[Mv]:"fire-rc",[Lv]:"fire-rc-compat",[Fv]:"fire-gcs",[Bv]:"fire-gcs-compat",[Uv]:"fire-fst",[qv]:"fire-fst-compat",[jv]:"fire-vertex","fire-js":"fire-js",[Hv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Map,zv=new Map,ga=new Map;function Su(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vi(t){const e=t.name;if(ga.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;ga.set(e,t);for(const n of xi.values())Su(n,t);for(const n of zv.values())Su(n,t);return!0}function Wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new kf("app","Firebase",Gv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=$v;function il(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pa,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Rn.create("bad-app-name",{appName:String(s)});if(n||(n=Vf()),!n)throw Rn.create("no-options");const i=xi.get(s);if(i){if(ua(n,i.options)&&ua(r,i.config))return i;throw Rn.create("duplicate-app",{appName:s})}const a=new tv(s);for(const c of ga.values())a.addComponent(c);const l=new Qv(n,r,a);return xi.set(s,l),l}function Yv(t=pa){const e=xi.get(t);if(!e&&t===pa&&Vf())return il();if(!e)throw Rn.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let s=(r=Kv[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(l.join(" "));return}Vi(new bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebase-heartbeat-database",Zv=1,Rs="firebase-heartbeat-store";let qo=null;function Mf(){return qo||(qo=pv(Jv,Zv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rn.create("idb-open",{originalErrorMessage:t.message})})),qo}async function e0(t){try{const n=(await Mf()).transaction(Rs),r=await n.objectStore(Rs).get(Lf(t));return await n.done,r}catch(e){if(e instanceof kr)Zn.warn(e.message);else{const n=Rn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Cu(t,e){try{const r=(await Mf()).transaction(Rs,"readwrite");await r.objectStore(Rs).put(e,Lf(t)),await r.done}catch(n){if(n instanceof kr)Zn.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(r.message)}}}function Lf(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=1024,n0=30*24*60*60*1e3;class r0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=n0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pu(),{heartbeatsToSend:r,unsentEntries:s}=s0(this._heartbeatsCache.heartbeats),i=Pi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pu(){return new Date().toISOString().substring(0,10)}function s0(t,e=t0){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),xu(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wy()?Gy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xu(t){return Pi(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){Vi(new bs("platform-logger",e=>new _v(e),"PRIVATE")),Vi(new bs("heartbeat",e=>new r0(e),"PRIVATE")),Er(da,Ru,t),Er(da,Ru,"esm2017"),Er("fire-js","")}o0("");var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jn,Ff;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,b,R){for(var T=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)T[Qe-2]=arguments[Qe];return v.prototype[b].apply(w,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],b=I.g[2];var R=I.g[3],T=v+(R^E&(b^R))+w[0]+3614090360&4294967295;v=E+(T<<7&4294967295|T>>>25),T=R+(b^v&(E^b))+w[1]+3905402710&4294967295,R=v+(T<<12&4294967295|T>>>20),T=b+(E^R&(v^E))+w[2]+606105819&4294967295,b=R+(T<<17&4294967295|T>>>15),T=E+(v^b&(R^v))+w[3]+3250441966&4294967295,E=b+(T<<22&4294967295|T>>>10),T=v+(R^E&(b^R))+w[4]+4118548399&4294967295,v=E+(T<<7&4294967295|T>>>25),T=R+(b^v&(E^b))+w[5]+1200080426&4294967295,R=v+(T<<12&4294967295|T>>>20),T=b+(E^R&(v^E))+w[6]+2821735955&4294967295,b=R+(T<<17&4294967295|T>>>15),T=E+(v^b&(R^v))+w[7]+4249261313&4294967295,E=b+(T<<22&4294967295|T>>>10),T=v+(R^E&(b^R))+w[8]+1770035416&4294967295,v=E+(T<<7&4294967295|T>>>25),T=R+(b^v&(E^b))+w[9]+2336552879&4294967295,R=v+(T<<12&4294967295|T>>>20),T=b+(E^R&(v^E))+w[10]+4294925233&4294967295,b=R+(T<<17&4294967295|T>>>15),T=E+(v^b&(R^v))+w[11]+2304563134&4294967295,E=b+(T<<22&4294967295|T>>>10),T=v+(R^E&(b^R))+w[12]+1804603682&4294967295,v=E+(T<<7&4294967295|T>>>25),T=R+(b^v&(E^b))+w[13]+4254626195&4294967295,R=v+(T<<12&4294967295|T>>>20),T=b+(E^R&(v^E))+w[14]+2792965006&4294967295,b=R+(T<<17&4294967295|T>>>15),T=E+(v^b&(R^v))+w[15]+1236535329&4294967295,E=b+(T<<22&4294967295|T>>>10),T=v+(b^R&(E^b))+w[1]+4129170786&4294967295,v=E+(T<<5&4294967295|T>>>27),T=R+(E^b&(v^E))+w[6]+3225465664&4294967295,R=v+(T<<9&4294967295|T>>>23),T=b+(v^E&(R^v))+w[11]+643717713&4294967295,b=R+(T<<14&4294967295|T>>>18),T=E+(R^v&(b^R))+w[0]+3921069994&4294967295,E=b+(T<<20&4294967295|T>>>12),T=v+(b^R&(E^b))+w[5]+3593408605&4294967295,v=E+(T<<5&4294967295|T>>>27),T=R+(E^b&(v^E))+w[10]+38016083&4294967295,R=v+(T<<9&4294967295|T>>>23),T=b+(v^E&(R^v))+w[15]+3634488961&4294967295,b=R+(T<<14&4294967295|T>>>18),T=E+(R^v&(b^R))+w[4]+3889429448&4294967295,E=b+(T<<20&4294967295|T>>>12),T=v+(b^R&(E^b))+w[9]+568446438&4294967295,v=E+(T<<5&4294967295|T>>>27),T=R+(E^b&(v^E))+w[14]+3275163606&4294967295,R=v+(T<<9&4294967295|T>>>23),T=b+(v^E&(R^v))+w[3]+4107603335&4294967295,b=R+(T<<14&4294967295|T>>>18),T=E+(R^v&(b^R))+w[8]+1163531501&4294967295,E=b+(T<<20&4294967295|T>>>12),T=v+(b^R&(E^b))+w[13]+2850285829&4294967295,v=E+(T<<5&4294967295|T>>>27),T=R+(E^b&(v^E))+w[2]+4243563512&4294967295,R=v+(T<<9&4294967295|T>>>23),T=b+(v^E&(R^v))+w[7]+1735328473&4294967295,b=R+(T<<14&4294967295|T>>>18),T=E+(R^v&(b^R))+w[12]+2368359562&4294967295,E=b+(T<<20&4294967295|T>>>12),T=v+(E^b^R)+w[5]+4294588738&4294967295,v=E+(T<<4&4294967295|T>>>28),T=R+(v^E^b)+w[8]+2272392833&4294967295,R=v+(T<<11&4294967295|T>>>21),T=b+(R^v^E)+w[11]+1839030562&4294967295,b=R+(T<<16&4294967295|T>>>16),T=E+(b^R^v)+w[14]+4259657740&4294967295,E=b+(T<<23&4294967295|T>>>9),T=v+(E^b^R)+w[1]+2763975236&4294967295,v=E+(T<<4&4294967295|T>>>28),T=R+(v^E^b)+w[4]+1272893353&4294967295,R=v+(T<<11&4294967295|T>>>21),T=b+(R^v^E)+w[7]+4139469664&4294967295,b=R+(T<<16&4294967295|T>>>16),T=E+(b^R^v)+w[10]+3200236656&4294967295,E=b+(T<<23&4294967295|T>>>9),T=v+(E^b^R)+w[13]+681279174&4294967295,v=E+(T<<4&4294967295|T>>>28),T=R+(v^E^b)+w[0]+3936430074&4294967295,R=v+(T<<11&4294967295|T>>>21),T=b+(R^v^E)+w[3]+3572445317&4294967295,b=R+(T<<16&4294967295|T>>>16),T=E+(b^R^v)+w[6]+76029189&4294967295,E=b+(T<<23&4294967295|T>>>9),T=v+(E^b^R)+w[9]+3654602809&4294967295,v=E+(T<<4&4294967295|T>>>28),T=R+(v^E^b)+w[12]+3873151461&4294967295,R=v+(T<<11&4294967295|T>>>21),T=b+(R^v^E)+w[15]+530742520&4294967295,b=R+(T<<16&4294967295|T>>>16),T=E+(b^R^v)+w[2]+3299628645&4294967295,E=b+(T<<23&4294967295|T>>>9),T=v+(b^(E|~R))+w[0]+4096336452&4294967295,v=E+(T<<6&4294967295|T>>>26),T=R+(E^(v|~b))+w[7]+1126891415&4294967295,R=v+(T<<10&4294967295|T>>>22),T=b+(v^(R|~E))+w[14]+2878612391&4294967295,b=R+(T<<15&4294967295|T>>>17),T=E+(R^(b|~v))+w[5]+4237533241&4294967295,E=b+(T<<21&4294967295|T>>>11),T=v+(b^(E|~R))+w[12]+1700485571&4294967295,v=E+(T<<6&4294967295|T>>>26),T=R+(E^(v|~b))+w[3]+2399980690&4294967295,R=v+(T<<10&4294967295|T>>>22),T=b+(v^(R|~E))+w[10]+4293915773&4294967295,b=R+(T<<15&4294967295|T>>>17),T=E+(R^(b|~v))+w[1]+2240044497&4294967295,E=b+(T<<21&4294967295|T>>>11),T=v+(b^(E|~R))+w[8]+1873313359&4294967295,v=E+(T<<6&4294967295|T>>>26),T=R+(E^(v|~b))+w[15]+4264355552&4294967295,R=v+(T<<10&4294967295|T>>>22),T=b+(v^(R|~E))+w[6]+2734768916&4294967295,b=R+(T<<15&4294967295|T>>>17),T=E+(R^(b|~v))+w[13]+1309151649&4294967295,E=b+(T<<21&4294967295|T>>>11),T=v+(b^(E|~R))+w[4]+4149444226&4294967295,v=E+(T<<6&4294967295|T>>>26),T=R+(E^(v|~b))+w[11]+3174756917&4294967295,R=v+(T<<10&4294967295|T>>>22),T=b+(v^(R|~E))+w[2]+718787259&4294967295,b=R+(T<<15&4294967295|T>>>17),T=E+(R^(b|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,w=this.B,b=this.h,R=0;R<v;){if(b==0)for(;R<=E;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<v;)if(w[b++]=I.charCodeAt(R++),b==this.blockSize){s(this,w),b=0;break}}else for(;R<v;)if(w[b++]=I[R++],b==this.blockSize){s(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)I[E++]=this.g[v]>>>w&255;return I};function i(I,v){var E=l;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function a(I,v){this.h=v;for(var E=[],w=!0,b=I.length-1;0<=b;b--){var R=I[b]|0;w&&R==v||(E[b]=R,w=!1)}this.g=E}var l={};function c(I){return-128<=I&&128>I?i(I,function(v){return new a([v|0],0>v?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return N(h(-I));for(var v=[],E=1,w=0;I>=E;w++)v[w]=I/E|0,E*=4294967296;return new a(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return N(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(v,8)),w=g,b=0;b<I.length;b+=8){var R=Math.min(8,I.length-b),T=parseInt(I.substring(b,b+R),v);8>R?(R=h(Math.pow(v,R)),w=w.j(R).add(h(T))):(w=w.j(E),w=w.add(h(T)))}return w}var g=c(0),m=c(1),A=c(16777216);t=a.prototype,t.m=function(){if(O(this))return-N(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(O(this))return"-"+N(this).toString(I);for(var v=h(Math.pow(I,6)),E=this,w="";;){var b=re(E,v).g;E=j(E,b.j(v));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=b,k(E))return R+w;for(;6>R.length;)R="0"+R;w=R+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=j(this,I),O(I)?-1:k(I)?0:1};function N(I){for(var v=I.g.length,E=[],w=0;w<v;w++)E[w]=~I.g[w];return new a(E,~I.h).add(m)}t.abs=function(){return O(this)?N(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0,b=0;b<=v;b++){var R=w+(this.i(b)&65535)+(I.i(b)&65535),T=(R>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);w=T>>>16,R&=65535,T&=65535,E[b]=T<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function j(I,v){return I.add(N(v))}t.j=function(I){if(k(this)||k(I))return g;if(O(this))return O(I)?N(this).j(N(I)):N(N(this).j(I));if(O(I))return N(this.j(N(I)));if(0>this.l(A)&&0>I.l(A))return h(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<I.g.length;b++){var R=this.i(w)>>>16,T=this.i(w)&65535,Qe=I.i(b)>>>16,bt=I.i(b)&65535;E[2*w+2*b]+=T*bt,$(E,2*w+2*b),E[2*w+2*b+1]+=R*bt,$(E,2*w+2*b+1),E[2*w+2*b+1]+=T*Qe,$(E,2*w+2*b+1),E[2*w+2*b+2]+=R*Qe,$(E,2*w+2*b+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new a(E,0)};function $(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function G(I,v){this.g=I,this.h=v}function re(I,v){if(k(v))throw Error("division by zero");if(k(I))return new G(g,g);if(O(I))return v=re(N(I),v),new G(N(v.g),N(v.h));if(O(v))return v=re(I,N(v)),new G(N(v.g),v.h);if(30<I.g.length){if(O(I)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=v;0>=w.l(I);)E=ye(E),w=ye(w);var b=J(E,1),R=J(w,1);for(w=J(w,2),E=J(E,2);!k(w);){var T=R.add(w);0>=T.l(I)&&(b=b.add(E),R=T),w=J(w,1),E=J(E,1)}return v=j(I,b.j(v)),new G(b,v)}for(b=g;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),R=h(E),T=R.j(v);O(T)||0<T.l(I);)E-=w,R=h(E),T=R.j(v);k(R)&&(R=m),b=b.add(R),I=j(I,T)}return new G(b,I)}t.A=function(I){return re(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&I.i(w);return new a(E,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|I.i(w);return new a(E,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^I.i(w);return new a(E,this.h^I.h)};function ye(I){for(var v=I.g.length+1,E=[],w=0;w<v;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new a(E,I.h)}function J(I,v){var E=v>>5;v%=32;for(var w=I.g.length-E,b=[],R=0;R<w;R++)b[R]=0<v?I.i(R+E)>>>v|I.i(R+E+1)<<32-v:I.i(R+E);return new a(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ff=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Jn=a}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bf,Uf,ts,jf,vi,ma,qf,Hf,$f;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ci=="object"&&ci];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)e:{var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in f))break e;f=f[C]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function i(o,u){o instanceof String&&(o+="");var f=0,p=!1,C={next:function(){if(!p&&f<o.length){var P=f++;return{value:u(P,o[P]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}s("Array.prototype.values",function(o){return o||function(){return i(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function d(o,u,f){return o.call.apply(o.bind,arguments)}function g(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(u,C)}}return function(){return o.apply(u,arguments)}}function m(o,u,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function A(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function k(o,u){function f(){}f.prototype=u.prototype,o.aa=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,C,P){for(var K=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)K[xe-2]=arguments[xe];return u.prototype[C].apply(p,K)}}function O(o){const u=o.length;if(0<u){const f=Array(u);for(let p=0;p<u;p++)f[p]=o[p];return f}return[]}function N(o,u){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(c(p)){const C=o.length||0,P=p.length||0;o.length=C+P;for(let K=0;K<P;K++)o[C+K]=p[K]}else o.push(p)}}class j{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function $(o){return/^[\s\xa0]*$/.test(o)}function G(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function re(o){return re[" "](o),o}re[" "]=function(){};var ye=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function J(o,u,f){for(const p in o)u.call(f,o[p],p,o)}function I(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function v(o){const u={};for(const f in o)u[f]=o[f];return u}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,u){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)o[f]=p[f];for(let P=0;P<E.length;P++)f=E[P],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function b(o){var u=1;o=o.split(":");const f=[];for(;0<u&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function R(o){l.setTimeout(()=>{throw o},0)}function T(){var o=ut;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class Qe{constructor(){this.h=this.g=null}add(u,f){const p=bt.get();p.set(u,f),this.h?this.h.next=p:this.g=p,this.h=p}}var bt=new j(()=>new je,o=>o.reset());class je{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,de=!1,ut=new Qe,Rt=()=>{const o=l.Promise.resolve(void 0);ge=()=>{o.then(vt)}};var vt=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(f){R(f)}var u=bt;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}de=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Vt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,u),l.removeEventListener("test",f,u)}catch{}return o}();function St(o,u){if(Ae.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ye){e:{try{re(u.nodeName);var C=!0;break e}catch{}C=!1}C||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$e[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}k(St,Ae);var $e={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),Q=0;function W(o,u,f,p,C){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.ha=C,this.key=++Q,this.da=this.fa=!1}function Y(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function pe(o){this.src=o,this.g={},this.h=0}pe.prototype.add=function(o,u,f,p,C){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var K=y(o,u,p,C);return-1<K?(u=o[K],f||(u.fa=!1)):(u=new W(u,this.src,P,!!p,C),u.fa=f,o.push(u)),u};function be(o,u){var f=u.type;if(f in o.g){var p=o.g[f],C=Array.prototype.indexOf.call(p,u,void 0),P;(P=0<=C)&&Array.prototype.splice.call(p,C,1),P&&(Y(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function y(o,u,f,p){for(var C=0;C<o.length;++C){var P=o[C];if(!P.da&&P.listener==u&&P.capture==!!f&&P.ha==p)return C}return-1}var _="closure_lm_"+(1e6*Math.random()|0),S={};function x(o,u,f,p,C){if(Array.isArray(u)){for(var P=0;P<u.length;P++)x(o,u[P],f,p,C);return null}return f=te(f),o&&o[D]?o.K(u,f,h(p)?!!p.capture:!!p,C):V(o,u,f,!1,p,C)}function V(o,u,f,p,C,P){if(!u)throw Error("Invalid event type");var K=h(C)?!!C.capture:!!C,xe=X(o);if(xe||(o[_]=xe=new pe(o)),f=xe.add(u,f,p,K,P),f.proxy)return f;if(p=q(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Vt||(C=K),C===void 0&&(C=!1),o.addEventListener(u.toString(),p,C);else if(o.attachEvent)o.attachEvent(H(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function q(){function o(f){return u.call(o.src,o.listener,f)}const u=M;return o}function z(o,u,f,p,C){if(Array.isArray(u))for(var P=0;P<u.length;P++)z(o,u[P],f,p,C);else p=h(p)?!!p.capture:!!p,f=te(f),o&&o[D]?(o=o.i,u=String(u).toString(),u in o.g&&(P=o.g[u],f=y(P,f,p,C),-1<f&&(Y(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete o.g[u],o.h--)))):o&&(o=X(o))&&(u=o.g[u.toString()],o=-1,u&&(o=y(u,f,p,C)),(f=-1<o?u[o]:null)&&U(f))}function U(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[D])be(u.i,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(H(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=X(u))?(be(f,o),f.h==0&&(f.src=null,u[_]=null)):Y(o)}}}function H(o){return o in S?S[o]:S[o]="on"+o}function M(o,u){if(o.da)o=!0;else{u=new St(u,this);var f=o.listener,p=o.ha||o.src;o.fa&&U(o),o=f.call(p,u)}return o}function X(o){return o=o[_],o instanceof pe?o:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(o){return typeof o=="function"?o:(o[ne]||(o[ne]=function(u){return o.handleEvent(u)}),o[ne])}function ee(){Ie.call(this),this.i=new pe(this),this.M=this,this.F=null}k(ee,Ie),ee.prototype[D]=!0,ee.prototype.removeEventListener=function(o,u,f,p){z(this,o,u,f,p)};function ie(o,u){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new Ae(u,o);else if(u instanceof Ae)u.target=u.target||o;else{var C=u;u=new Ae(p,o),w(u,C)}if(C=!0,f)for(var P=f.length-1;0<=P;P--){var K=u.g=f[P];C=ve(K,p,!0,u)&&C}if(K=u.g=o,C=ve(K,p,!0,u)&&C,C=ve(K,p,!1,u)&&C,f)for(P=0;P<f.length;P++)K=u.g=f[P],C=ve(K,p,!1,u)&&C}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var f=o.g[u],p=0;p<f.length;p++)Y(f[p]);delete o.g[u],o.h--}}this.F=null},ee.prototype.K=function(o,u,f,p){return this.i.add(String(o),u,!1,f,p)},ee.prototype.L=function(o,u,f,p){return this.i.add(String(o),u,!0,f,p)};function ve(o,u,f,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var C=!0,P=0;P<u.length;++P){var K=u[P];if(K&&!K.da&&K.capture==f){var xe=K.listener,nt=K.ha||K.src;K.fa&&be(o.i,K),C=xe.call(nt,p)!==!1&&C}}return C&&!p.defaultPrevented}function Pe(o,u,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Ke(o){o.g=Pe(()=>{o.g=null,o.i&&(o.i=!1,Ke(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class kt extends Ie{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(o){Ie.call(this),this.h=o,this.g={}}k(Mt,Ie);var Lr=[];function fn(o){J(o.g,function(u,f){this.g.hasOwnProperty(f)&&U(u)},o),o.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),fn(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=l.JSON.stringify,Et=l.JSON.parse,Lt=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ar(){}ar.prototype.h=null;function Nl(o){return o.h||(o.h=o.i())}function Ol(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function po(){Ae.call(this,"d")}k(po,Ae);function go(){Ae.call(this,"c")}k(go,Ae);var Bn={},Ml=null;function Hs(){return Ml=Ml||new ee}Bn.La="serverreachability";function Ll(o){Ae.call(this,Bn.La,o)}k(Ll,Ae);function Br(o){const u=Hs();ie(u,new Ll(u))}Bn.STAT_EVENT="statevent";function Fl(o,u){Ae.call(this,Bn.STAT_EVENT,o),this.stat=u}k(Fl,Ae);function Tt(o){const u=Hs();ie(u,new Fl(u,o))}Bn.Ma="timingevent";function Bl(o,u){Ae.call(this,Bn.Ma,o),this.size=u}k(Bl,Ae);function Ur(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function fp(o,u,f,p,C,P){o.info(function(){if(o.g)if(P)for(var K="",xe=P.split("&"),nt=0;nt<xe.length;nt++){var we=xe[nt].split("=");if(1<we.length){var ht=we[0];we=we[1];var ft=ht.split("_");K=2<=ft.length&&ft[1]=="type"?K+(ht+"="+we+"&"):K+(ht+"=redacted&")}}else K=null;else K=P;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+u+`
`+f+`
`+K})}function dp(o,u,f,p,C,P,K){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+u+`
`+f+`
`+P+" "+K})}function lr(o,u,f,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+gp(o,f)+(p?" "+p:"")})}function pp(o,u){o.info(function(){return"TIMEOUT: "+u})}jr.prototype.info=function(){};function gp(o,u){if(!o.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var P=C[0];if(P!="noop"&&P!="stop"&&P!="close")for(var K=1;K<C.length;K++)C[K]=""}}}}return or(f)}catch{return u}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mo;function Ks(){}k(Ks,ar),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},mo=new Ks;function dn(o,u,f,p){this.j=o,this.i=u,this.l=f,this.R=p||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var ql={},_o={};function yo(o,u,f){o.L=1,o.v=Qs(rn(u)),o.m=f,o.P=!0,Hl(o,null)}function Hl(o,u){o.F=Date.now(),zs(o),o.A=rn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),rc(f.i,"t",p),o.C=0,f=o.j.J,o.h=new jl,o.g=Tc(o.j,f?u:null,!o.m),0<o.O&&(o.M=new kt(m(o.Y,o,o.g),o.O)),u=o.U,f=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(Lr[0]=C.toString()),C=Lr);for(var P=0;P<C.length;P++){var K=x(f,C[P],p||u.handleEvent,!1,u.h||u);if(!K)break;u.g[K.key]=K}u=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Br(),fp(o.i,o.u,o.A,o.l,o.R,o.m)}dn.prototype.ca=function(o){o=o.target;const u=this.M;u&&sn(o)==3?u.j():this.Y(o)},dn.prototype.Y=function(o){try{if(o==this.g)e:{const ft=sn(this.g);var u=this.g.Ba();const hr=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||uc(this.g)))){this.J||ft!=4||u==7||(u==8||0>=hr?Br(3):Br(2)),vo(this);var f=this.g.Z();this.X=f;t:if($l(this)){var p=uc(this.g);o="";var C=p.length,P=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),qr(this);var K="";break t}this.h.i=new l.TextDecoder}for(u=0;u<C;u++)this.h.h=!0,o+=this.h.i.decode(p[u],{stream:!(P&&u==C-1)});p.length=0,this.h.g+=o,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=f==200,dp(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,nt=this.g;if((xe=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(xe)){var we=xe;break t}}we=null}if(f=we)lr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,f);else{this.o=!1,this.s=3,Tt(12),Un(this),qr(this);break e}}if(this.P){f=!0;let Ht;for(;!this.J&&this.C<K.length;)if(Ht=mp(this,K),Ht==_o){ft==4&&(this.s=4,Tt(14),f=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==ql){this.s=4,Tt(15),lr(this.i,this.l,K,"[Invalid Chunk]"),f=!1;break}else lr(this.i,this.l,Ht,null),Eo(this,Ht);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||K.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)lr(this.i,this.l,K,"[Invalid Chunked Response]"),Un(this),qr(this);else if(0<K.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ro(ht),ht.M=!0,Tt(11))}}else lr(this.i,this.l,K,null),Eo(this,K);ft==4&&Un(this),this.o&&!this.J&&(ft==4?_c(this.j,this):(this.o=!1,zs(this)))}else Dp(this.g),f==400&&0<K.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Un(this),qr(this)}}}catch{}finally{}};function $l(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mp(o,u){var f=o.C,p=u.indexOf(`
`,f);return p==-1?_o:(f=Number(u.substring(f,p)),isNaN(f)?ql:(p+=1,p+f>u.length?_o:(u=u.slice(p,p+f),o.C=p+f,u)))}dn.prototype.cancel=function(){this.J=!0,Un(this)};function zs(o){o.S=Date.now()+o.I,Kl(o,o.I)}function Kl(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ur(m(o.ba,o),u)}function vo(o){o.B&&(l.clearTimeout(o.B),o.B=null)}dn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(pp(this.i,this.A),this.L!=2&&(Br(),Tt(17)),Un(this),this.s=2,qr(this)):Kl(this,this.S-o)};function qr(o){o.j.G==0||o.J||_c(o.j,o)}function Un(o){vo(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,fn(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Eo(o,u){try{var f=o.j;if(f.G!=0&&(f.g==o||To(f.h,o))){if(!o.K&&To(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)ei(f),Js(f);else break e;bo(f),Tt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ur(m(f.Za,f),6e3));if(1>=Gl(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else qn(f,11)}else if((o.K||f.g==o)&&ei(f),!$(u))for(C=f.Da.g.parse(u),u=0;u<C.length;u++){let we=C[u];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];const ht=we[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));const ft=we[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));const hr=we[5];hr!=null&&typeof hr=="number"&&0<hr&&(p=1.5*hr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const Ht=o.g;if(Ht){const ni=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var P=p.h;P.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(wo(P,P.h),P.h=null))}if(p.D){const So=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(p.ya=So,Oe(p.I,p.D,So))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var K=o;if(p.qa=Ec(p,p.J?p.ia:null,p.W),K.K){Ql(p.h,K);var xe=K,nt=p.L;nt&&(xe.I=nt),xe.B&&(vo(xe),zs(xe)),p.g=K}else gc(p);0<f.i.length&&Zs(f)}else we[0]!="stop"&&we[0]!="close"||qn(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?qn(f,7):Ao(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}Br(4)}catch{}}var _p=class{constructor(o,u){this.g=o,this.map=u}};function zl(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wl(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Gl(o){return o.h?1:o.g?o.g.size:0}function To(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function wo(o,u){o.g?o.g.add(u):o.h=u}function Ql(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}zl.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xl(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.D);return u}return O(o.i)}function yp(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function vp(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(const p in o)u[f++]=p;return u}}}function Yl(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var f=vp(o),p=yp(o),C=p.length,P=0;P<C;P++)u.call(void 0,p[P],f&&f[P],o)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ep(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),C=null;if(0<=p){var P=o[f].substring(0,p);C=o[f].substring(p+1)}else P=o[f];u(P,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function jn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof jn){this.h=o.h,Ws(this,o.j),this.o=o.o,this.g=o.g,Gs(this,o.s),this.l=o.l;var u=o.i,f=new Kr;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),Zl(this,f),this.m=o.m}else o&&(u=String(o).match(Jl))?(this.h=!1,Ws(this,u[1]||"",!0),this.o=Hr(u[2]||""),this.g=Hr(u[3]||"",!0),Gs(this,u[4]),this.l=Hr(u[5]||"",!0),Zl(this,u[6]||"",!0),this.m=Hr(u[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}jn.prototype.toString=function(){var o=[],u=this.j;u&&o.push($r(u,ec,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push($r(u,ec,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push($r(f,f.charAt(0)=="/"?Ip:wp,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",$r(f,bp)),o.join("")};function rn(o){return new jn(o)}function Ws(o,u,f){o.j=f?Hr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Gs(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function Zl(o,u,f){u instanceof Kr?(o.i=u,Rp(o.i,o.h)):(f||(u=$r(u,Ap)),o.i=new Kr(u,o.h))}function Oe(o,u,f){o.i.set(u,f)}function Qs(o){return Oe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Hr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function $r(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Tp),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Tp(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var ec=/[#\/\?@]/g,wp=/[#\?:]/g,Ip=/[#\?]/g,Ap=/[#\?@]/g,bp=/#/g;function Kr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ep(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}t=Kr.prototype,t.add=function(o,u){pn(this),this.i=null,o=cr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function tc(o,u){pn(o),u=cr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function nc(o,u){return pn(o),u=cr(o,u),o.g.has(u)}t.forEach=function(o,u){pn(this),this.g.forEach(function(f,p){f.forEach(function(C){o.call(u,C,p,this)},this)},this)},t.na=function(){pn(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let p=0;p<u.length;p++){const C=o[p];for(let P=0;P<C.length;P++)f.push(u[p])}return f},t.V=function(o){pn(this);let u=[];if(typeof o=="string")nc(this,o)&&(u=u.concat(this.g.get(cr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)u=u.concat(o[f])}return u},t.set=function(o,u){return pn(this),this.i=null,o=cr(this,o),nc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function rc(o,u,f){tc(o,u),0<f.length&&(o.i=null,o.g.set(cr(o,u),O(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var p=u[f];const P=encodeURIComponent(String(p)),K=this.V(p);for(p=0;p<K.length;p++){var C=P;K[p]!==""&&(C+="="+encodeURIComponent(String(K[p]))),o.push(C)}}return this.i=o.join("&")};function cr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Rp(o,u){u&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(f,p){var C=p.toLowerCase();p!=C&&(tc(this,p),rc(this,C,f))},o)),o.j=u}function Sp(o,u){const f=new jr;if(l.Image){const p=new Image;p.onload=A(gn,f,"TestLoadImage: loaded",!0,u,p),p.onerror=A(gn,f,"TestLoadImage: error",!1,u,p),p.onabort=A(gn,f,"TestLoadImage: abort",!1,u,p),p.ontimeout=A(gn,f,"TestLoadImage: timeout",!1,u,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function Cp(o,u){const f=new jr,p=new AbortController,C=setTimeout(()=>{p.abort(),gn(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(P=>{clearTimeout(C),P.ok?gn(f,"TestPingServer: ok",!0,u):gn(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),gn(f,"TestPingServer: error",!1,u)})}function gn(o,u,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function Pp(){this.g=new Lt}function xp(o,u,f){const p=f||"";try{Yl(o,function(C,P){let K=C;h(C)&&(K=or(C)),u.push(p+P+"="+encodeURIComponent(K))})}catch(C){throw u.push(p+"type="+encodeURIComponent("_badmap")),C}}function zr(o){this.l=o.Ub||null,this.j=o.eb||!1}k(zr,ar),zr.prototype.g=function(){return new Xs(this.l,this.j)},zr.prototype.i=function(o){return function(){return o}}({});function Xs(o,u){ee.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Xs,ee),t=Xs.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Gr(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function sc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Wr(this):Gr(this),this.readyState==3&&sc(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Wr(this))},t.Qa=function(o){this.g&&(this.response=o,Wr(this))},t.ga=function(){this.g&&Wr(this)};function Wr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gr(o)}t.setRequestHeader=function(o,u){this.u.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Gr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ic(o){let u="";return J(o,function(f,p){u+=p,u+=":",u+=f,u+=`\r
`}),u}function Io(o,u,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=ic(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Oe(o,u,f))}function qe(o){ee.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qe,ee);var Vp=/^https?$/i,kp=["POST","PUT"];t=qe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,u,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mo.g(),this.v=this.o?Nl(this.o):Nl(mo),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(P){oc(this,P);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const P of p.keys())f.set(P,p.get(P));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(kp,u,void 0))||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,K]of f)this.g.setRequestHeader(P,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cc(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){oc(this,P)}};function oc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,ac(o),Ys(o)}function ac(o){o.A||(o.A=!0,ie(o,"complete"),ie(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ie(this,"complete"),ie(this,"abort"),Ys(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ys(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},t.bb=function(){lc(this)};function lc(o){if(o.h&&typeof a<"u"&&(!o.v[1]||sn(o)!=4||o.Z()!=2)){if(o.u&&sn(o)==4)Pe(o.Ea,0,o);else if(ie(o,"readystatechange"),sn(o)==4){o.h=!1;try{const K=o.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var p;if(p=K===0){var C=String(o.D).match(Jl)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!Vp.test(C?C.toLowerCase():"")}f=p}if(f)ie(o,"complete"),ie(o,"success");else{o.m=6;try{var P=2<sn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",ac(o)}}finally{Ys(o)}}}}function Ys(o,u){if(o.g){cc(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||ie(o,"ready");try{f.onreadystatechange=p}catch{}}}function cc(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function sn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Et(u)}};function uc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Dp(o){const u={};o=(o.g&&2<=sn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if($(o[p]))continue;var f=b(o[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const P=u[C]||[];u[C]=P,P.push(f)}I(u,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function hc(o){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,o),this.cb=Qr("retryDelaySeedMs",1e4,o),this.Wa=Qr("forwardChannelMaxRetries",2,o),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new zl(o&&o.concurrentRequestLimit),this.Da=new Pp,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hc.prototype,t.la=8,t.G=1,t.connect=function(o,u,f,p){Tt(0),this.W=o,this.H=u||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=Ec(this,null,this.W),Zs(this)};function Ao(o){if(fc(o),o.G==3){var u=o.U++,f=rn(o.I);if(Oe(f,"SID",o.K),Oe(f,"RID",u),Oe(f,"TYPE","terminate"),Xr(o,f),u=new dn(o,o.j,u),u.L=2,u.v=Qs(rn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=u.v,f=!0),f||(u.g=Tc(u.j,null),u.g.ea(u.v)),u.F=Date.now(),zs(u)}vc(o)}function Js(o){o.g&&(Ro(o),o.g.cancel(),o.g=null)}function fc(o){Js(o),o.u&&(l.clearTimeout(o.u),o.u=null),ei(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Zs(o){if(!Wl(o.h)&&!o.s){o.s=!0;var u=o.Ga;ge||Rt(),de||(ge(),de=!0),ut.add(u,o),o.B=0}}function Np(o,u){return Gl(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ur(m(o.Ga,o,u),yc(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new dn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=v(P),w(P,this.S)):P=this.S),this.m!==null||this.O||(C.H=P,P=null),this.P)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=pc(this,C,u),f=rn(this.I),Oe(f,"RID",o),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),Xr(this,f),P&&(this.O?u="headers="+encodeURIComponent(String(ic(P)))+"&"+u:this.m&&Io(f,this.m,P)),wo(this.h,C),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",u),Oe(f,"SID","null"),C.T=!0,yo(C,f,null)):yo(C,f,u),this.G=2}}else this.G==3&&(o?dc(this,o):this.i.length==0||Wl(this.h)||dc(this))};function dc(o,u){var f;u?f=u.l:f=o.U++;const p=rn(o.I);Oe(p,"SID",o.K),Oe(p,"RID",f),Oe(p,"AID",o.T),Xr(o,p),o.m&&o.o&&Io(p,o.m,o.o),f=new dn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),u&&(o.i=u.D.concat(o.i)),u=pc(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),wo(o.h,f),yo(f,p,u)}function Xr(o,u){o.H&&J(o.H,function(f,p){Oe(u,p,f)}),o.l&&Yl({},function(f,p){Oe(u,p,f)})}function pc(o,u,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;e:{var C=o.i;let P=-1;for(;;){const K=["count="+f];P==-1?0<f?(P=C[0].g,K.push("ofs="+P)):P=0:K.push("ofs="+P);let xe=!0;for(let nt=0;nt<f;nt++){let we=C[nt].g;const ht=C[nt].map;if(we-=P,0>we)P=Math.max(0,C[nt].g-100),xe=!1;else try{xp(ht,K,"req"+we+"_")}catch{p&&p(ht)}}if(xe){p=K.join("&");break e}}}return o=o.i.splice(0,f),u.D=o,p}function gc(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;ge||Rt(),de||(ge(),de=!0),ut.add(u,o),o.v=0}}function bo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ur(m(o.Fa,o),yc(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ur(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Js(this),mc(this))};function Ro(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function mc(o){o.g=new dn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=rn(o.qa);Oe(u,"RID","rpc"),Oe(u,"SID",o.K),Oe(u,"AID",o.T),Oe(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Oe(u,"TO",o.ja),Oe(u,"TYPE","xmlhttp"),Xr(o,u),o.m&&o.o&&Io(u,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Qs(rn(u)),f.m=null,f.P=!0,Hl(f,o)}t.Za=function(){this.C!=null&&(this.C=null,Js(this),bo(this),Tt(19))};function ei(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function _c(o,u){var f=null;if(o.g==u){ei(o),Ro(o),o.g=null;var p=2}else if(To(o.h,u))f=u.D,Ql(o.h,u),p=1;else return;if(o.G!=0){if(u.o)if(p==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var C=o.B;p=Hs(),ie(p,new Bl(p,f)),Zs(o)}else gc(o);else if(C=u.s,C==3||C==0&&0<u.X||!(p==1&&Np(o,u)||p==2&&bo(o)))switch(f&&0<f.length&&(u=o.h,u.i=u.i.concat(f)),C){case 1:qn(o,5);break;case 4:qn(o,10);break;case 3:qn(o,6);break;default:qn(o,2)}}}function yc(o,u){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*u}function qn(o,u){if(o.j.info("Error code "+u),u==2){var f=m(o.fb,o),p=o.Xa;const C=!p;p=new jn(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ws(p,"https"),Qs(p),C?Sp(p.toString(),f):Cp(p.toString(),f)}else Tt(2);o.G=0,o.l&&o.l.sa(u),vc(o),fc(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function vc(o){if(o.G=0,o.ka=[],o.l){const u=Xl(o.h);(u.length!=0||o.i.length!=0)&&(N(o.ka,u),N(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function Ec(o,u,f){var p=f instanceof jn?rn(f):new jn(f);if(p.g!="")u&&(p.g=u+"."+p.g),Gs(p,p.s);else{var C=l.location;p=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;var P=new jn(null);p&&Ws(P,p),u&&(P.g=u),C&&Gs(P,C),f&&(P.l=f),p=P}return f=o.D,u=o.ya,f&&u&&Oe(p,f,u),Oe(p,"VER",o.la),Xr(o,p),p}function Tc(o,u,f){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new qe(new zr({eb:f})):new qe(o.pa),u.Ha(o.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}t=wc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ti(){}ti.prototype.g=function(o,u){return new Dt(o,u)};function Dt(o,u){ee.call(this),this.g=new hc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!$(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!$(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new ur(this)}k(Dt,ee),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Ao(this.g)},Dt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=or(o),o=f);u.i.push(new _p(u.Ya++,o)),u.G==3&&Zs(u)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Dt.aa.N.call(this)};function Ic(o){po.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const f in u){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}k(Ic,po);function Ac(){go.call(this),this.status=1}k(Ac,go);function ur(o){this.g=o}k(ur,wc),ur.prototype.ua=function(){ie(this.g,"a")},ur.prototype.ta=function(o){ie(this.g,new Ic(o))},ur.prototype.sa=function(o){ie(this.g,new Ac)},ur.prototype.ra=function(){ie(this.g,"b")},ti.prototype.createWebChannel=ti.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,$f=function(){return new ti},Hf=function(){return Hs()},qf=Bn,ma={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,vi=$s,Ul.COMPLETE="complete",jf=Ul,Ol.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ts=Ol,Uf=zr,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Bf=qe}).apply(typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{});const ku="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Df("@firebase/firestore");function Zr(){return er.logLevel}function Z(t,...e){if(er.logLevel<=Te.DEBUG){const n=e.map(ol);er.debug(`Firestore (${Dr}): ${t}`,...n)}}function cn(t,...e){if(er.logLevel<=Te.ERROR){const n=e.map(ol);er.error(`Firestore (${Dr}): ${t}`,...n)}}function Ar(t,...e){if(er.logLevel<=Te.WARN){const n=e.map(ol);er.warn(`Firestore (${Dr}): ${t}`,...n)}}function ol(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: `+t;throw cn(e),new Error(e)}function Ne(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class l0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c0{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new Kf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new pt(e)}}class u0{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h0{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new u0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new f0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=p0(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function br(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ye(0,0))}static max(){return new ue(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Ss{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const g0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Ss{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return g0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new se(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new se(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Le.fromString(e))}static fromName(e){return new oe(Le.fromString(e).popFirst(5))}static empty(){return new oe(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Le(e.slice()))}}function m0(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new kn(s,oe.empty(),e)}function _0(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(ue.min(),oe.empty(),-1)}static max(){return new kn(ue.max(),oe.empty(),-1)}}function y0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==v0)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(d=>{a[h]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function T0(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}al.oe=-1;function to(t){return t==null}function ki(t){return t===0&&1/t==-1/0}function w0(t){return typeof t=="number"&&Number.isInteger(t)&&!ki(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ui(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ui(this.root,e,this.comparator,!1)}getReverseIterator(){return new ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ui(this.root,e,this.comparator,!0)}}class ui{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??st.EMPTY,this.right=i??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new st(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return st.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nu(this.data.getIterator())}getIteratorFrom(e){return new Nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class Nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new zt([])}unionWith(e){let n=new ct(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Gf("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const I0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dn(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=I0.exec(t);if(Ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cl(t){const e=t.mapValue.fields.__previous_value__;return ll(e)?cl(e):e}function Cs(t){const e=Dn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,s,i,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class Ps{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ps("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ps&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ll(t)?4:b0(t)?9007199254740991:10:le()}function tn(t,e){if(t===e)return!0;const n=nr(t);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cs(t).isEqual(Cs(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Dn(s.timestampValue),l=Dn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return tr(s.bytesValue).isEqual(tr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ge(s.doubleValue),l=Ge(i.doubleValue);return a===l?ki(a)===ki(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return br(t.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Du(a)!==Du(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!tn(a[c],l[c])))return!1;return!0}(t,e);default:return le()}}function xs(t,e){return(t.values||[]).find(n=>tn(n,e))!==void 0}function Rr(t,e){if(t===e)return 0;const n=nr(t),r=nr(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ge(i.integerValue||i.doubleValue),c=Ge(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ou(t.timestampValue,e.timestampValue);case 4:return Ou(Cs(t),Cs(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,a){const l=tr(i),c=tr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=Re(l[h],c[h]);if(d!==0)return d}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Re(Ge(i.latitude),Ge(a.latitude));return l!==0?l:Re(Ge(i.longitude),Ge(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],c=a.values||[];for(let h=0;h<l.length&&h<c.length;++h){const d=Rr(l[h],c[h]);if(d)return d}return Re(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===hi.mapValue&&a===hi.mapValue)return 0;if(i===hi.mapValue)return 1;if(a===hi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){const m=Re(c[g],d[g]);if(m!==0)return m;const A=Rr(l[c[g]],h[d[g]]);if(A!==0)return A}return Re(c.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function Ou(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Dn(t),r=Dn(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function Sr(t){return _a(t)}function _a(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Dn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=_a(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${_a(n.fields[a])}`;return s+"}"}(t.mapValue):le()}function ya(t){return!!t&&"integerValue"in t}function ul(t){return!!t&&"arrayValue"in t}function Mu(t){return!!t&&"nullValue"in t}function Lu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ei(t){return!!t&&"mapValue"in t}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ei(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(n)}setAll(e){let n=lt.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=ds(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ei(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ei(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Nr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ft(ds(this.value))}}function Qf(t){const e=[];return Nr(t.fields,(n,r)=>{const s=new lt([n]);if(Ei(r)){const i=Qf(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,ue.min(),ue.min(),ue.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,s){return new gt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new gt(e,2,n,ue.min(),ue.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,ue.min(),ue.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.position=e,this.inclusive=n}}function Fu(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=Rr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bu(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n="asc"){this.field=e,this.dir=n}}function R0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{}class Xe extends Xf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C0(e,n,r):n==="array-contains"?new V0(e,r):n==="in"?new k0(e,r):n==="not-in"?new D0(e,r):n==="array-contains-any"?new N0(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P0(e,r):new x0(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rr(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(Rr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends Xf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nn(e,n)}matches(e){return Yf(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yf(t){return t.op==="and"}function Jf(t){return S0(t)&&Yf(t)}function S0(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function va(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Sr(t.value);if(Jf(t))return t.filters.map(e=>va(e)).join(",");{const e=t.filters.map(n=>va(n)).join(",");return`${t.op}(${e})`}}function Zf(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&tn(r.value,s.value)}(t,e):t instanceof nn?function(r,s){return s instanceof nn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&Zf(a,s.filters[l]),!0):!1}(t,e):void le()}function ed(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Sr(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(ed).join(" ,")+"}"}(t):"Filter"}class C0 extends Xe{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class P0 extends Xe{constructor(e,n){super(e,"in",n),this.keys=td("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x0 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=td("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function td(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class V0 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ul(n)&&xs(n.arrayValue,this.value)}}class k0 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xs(this.value.arrayValue,n)}}class D0 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xs(this.value.arrayValue,n)}}class N0 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function Uu(t,e=null,n=[],r=[],s=null,i=null,a=null){return new O0(t,e,n,r,s,i,a)}function hl(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>va(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),to(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sr(r)).join(",")),e.ue=n}return e.ue}function fl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R0(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zf(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bu(t.startAt,e.startAt)&&Bu(t.endAt,e.endAt)}function Ea(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function M0(t,e,n,r,s,i,a,l){return new no(t,e,n,r,s,i,a,l)}function nd(t){return new no(t)}function ju(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L0(t){return t.collectionGroup!==null}function ps(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ct(lt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ni(i,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new Ni(lt.keyField(),r))}return e.ce}function Jt(t){const e=he(t);return e.le||(e.le=F0(e,ps(t))),e.le}function F0(t,e){if(t.limitType==="F")return Uu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ni(s.field,i)});const n=t.endAt?new Di(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Di(t.startAt.position,t.startAt.inclusive):null;return Uu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ta(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ro(t,e){return fl(Jt(t),Jt(e))&&t.limitType===e.limitType}function rd(t){return`${hl(Jt(t))}|lt:${t.limitType}`}function dr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ed(s)).join(", ")}]`),to(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Sr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Sr(s)).join(",")),`Target(${r})`}(Jt(t))}; limitType=${t.limitType})`}function so(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ps(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const h=Fu(a,l,c);return a.inclusive?h<=0:h<0}(r.startAt,ps(r),s)||r.endAt&&!function(a,l,c){const h=Fu(a,l,c);return a.inclusive?h>=0:h>0}(r.endAt,ps(r),s))}(t,e)}function B0(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sd(t){return(e,n)=>{let r=!1;for(const s of ps(t)){const i=U0(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function U0(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Rr(c,h):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Wf(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Ue(oe.comparator);function un(){return j0}const id=new Ue(oe.comparator);function ns(...t){let e=id;for(const n of t)e=e.insert(n.key,n);return e}function od(t){let e=id;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gn(){return gs()}function ad(){return gs()}function gs(){return new Or(t=>t.toString(),(t,e)=>t.isEqual(e))}const q0=new Ue(oe.comparator),H0=new ct(oe.comparator);function me(...t){let e=H0;for(const n of t)e=e.add(n);return e}const $0=new ct(Re);function K0(){return $0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ki(e)?"-0":e}}function cd(t){return{integerValue:""+t}}function z0(t,e){return w0(e)?cd(e):ld(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this._=void 0}}function W0(t,e,n){return t instanceof Oi?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ll(i)&&(i=cl(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Vs?hd(t,e):t instanceof ks?fd(t,e):function(s,i){const a=ud(s,i),l=qu(a)+qu(s.Pe);return ya(a)&&ya(s.Pe)?cd(l):ld(s.serializer,l)}(t,e)}function G0(t,e,n){return t instanceof Vs?hd(t,e):t instanceof ks?fd(t,e):n}function ud(t,e){return t instanceof Mi?function(r){return ya(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Oi extends io{}class Vs extends io{constructor(e){super(),this.elements=e}}function hd(t,e){const n=dd(e);for(const r of t.elements)n.some(s=>tn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ks extends io{constructor(e){super(),this.elements=e}}function fd(t,e){let n=dd(e);for(const r of t.elements)n=n.filter(s=>!tn(s,r));return{arrayValue:{values:n}}}class Mi extends io{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qu(t){return Ge(t.integerValue||t.doubleValue)}function dd(t){return ul(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q0(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vs&&s instanceof Vs||r instanceof ks&&s instanceof ks?br(r.elements,s.elements,tn):r instanceof Mi&&s instanceof Mi?tn(r.Pe,s.Pe):r instanceof Oi&&s instanceof Oi}(t.transform,e.transform)}class X0{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ti(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oo{}function pd(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new md(t.key,ln.none()):new Bs(t.key,t.data,ln.none());{const n=t.data,r=Ft.empty();let s=new ct(lt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new sr(t.key,r,new zt(s.toArray()),ln.none())}}function Y0(t,e,n){t instanceof Bs?function(s,i,a){const l=s.value.clone(),c=$u(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(s,i,a){if(!Ti(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=$u(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(gd(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ms(t,e,n,r){return t instanceof Bs?function(i,a,l,c){if(!Ti(i.precondition,a))return l;const h=i.value.clone(),d=Ku(i.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof sr?function(i,a,l,c){if(!Ti(i.precondition,a))return l;const h=Ku(i.fieldTransforms,c,a),d=a.data;return d.setAll(gd(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,a,l){return Ti(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function J0(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ud(r.transform,s||null);i!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,i))}return n||null}function Hu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&br(r,s,(i,a)=>Q0(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bs extends oo{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class sr extends oo{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gd(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $u(t,e,n){const r=new Map;Ne(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,G0(a,l,n[s]))}return r}function Ku(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,W0(i,a,e))}return r}class md extends oo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z0 extends oo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Y0(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ad();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=pd(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(n,r)=>Hu(n,r))&&br(this.baseMutations,e.baseMutations,(n,r)=>Hu(n,r))}}class dl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length);let s=function(){return q0}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new dl(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,_e;function rE(t){switch(t){default:return le();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function _d(t){if(t===void 0)return cn("GRPC error has no .code"),F.UNKNOWN;switch(t){case ze.OK:return F.OK;case ze.CANCELLED:return F.CANCELLED;case ze.UNKNOWN:return F.UNKNOWN;case ze.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ze.INTERNAL:return F.INTERNAL;case ze.UNAVAILABLE:return F.UNAVAILABLE;case ze.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ze.NOT_FOUND:return F.NOT_FOUND;case ze.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ze.ABORTED:return F.ABORTED;case ze.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ze.DATA_LOSS:return F.DATA_LOSS;default:return le()}}(_e=ze||(ze={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Jn([4294967295,4294967295],0);function zu(t){const e=sE().encode(t),n=new Ff;return n.update(e),new Uint8Array(n.digest())}function Wu(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Jn([n,r],0),new Jn([s,i],0)]}class pl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rs(`Invalid padding: ${n}`);if(r<0)throw new rs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jn.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Jn.fromNumber(r)));return s.compare(iE)===1&&(s=new Jn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=zu(e),[r,s]=Wu(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new pl(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=zu(e),[r,s]=Wu(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Us.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ao(ue.min(),s,new Ue(Re),un(),me())}}class Us{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Us(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class yd{constructor(e,n){this.targetId=e,this.me=n}}class vd{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Gu{constructor(){this.fe=0,this.ge=Xu(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),n=me(),r=me();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new Us(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Xu()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oE{constructor(e){this.Le=e,this.Be=new Map,this.ke=un(),this.qe=Qu(),this.Qe=new Ue(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Ea(i))if(r===0){const a=new oe(i.path);this.Ue(n,a,gt.newNoDocument(a,ue.min()))}else Ne(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=tr(r).toUint8Array()}catch(c){if(c instanceof Gf)return Ar("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new pl(a,s,i)}catch(c){return Ar(c instanceof rs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&Ea(l.target)){const c=new oe(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,gt.newNoDocument(c,e))}i.be&&(n.set(a,i.Ce()),i.ve())}});let r=me();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new ao(e,n,this.Qe,this.ke,r);return this.ke=un(),this.qe=Qu(),this.Qe=new Ue(Re),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Gu,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gu),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new Ue(oe.comparator)}function Xu(){return new Ue(oe.comparator)}const aE={asc:"ASCENDING",desc:"DESCENDING"},lE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cE={and:"AND",or:"OR"};class uE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wa(t,e){return t.useProto3Json||to(e)?e:{value:e}}function Li(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ed(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hE(t,e){return Li(t,e.toTimestamp())}function Zt(t){return Ne(!!t),ue.fromTimestamp(function(n){const r=Dn(n);return new Ye(r.seconds,r.nanos)}(t))}function gl(t,e){return Ia(t,e).canonicalString()}function Ia(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Td(t){const e=Le.fromString(t);return Ne(Rd(e)),e}function Aa(t,e){return gl(t.databaseId,e.path)}function Ho(t,e){const n=Td(e);if(n.get(1)!==t.databaseId.projectId)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Id(n))}function wd(t,e){return gl(t.databaseId,e)}function fE(t){const e=Td(t);return e.length===4?Le.emptyPath():Id(e)}function ba(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Id(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Yu(t,e,n){return{name:Aa(t,e),fields:n.value.mapValue.fields}}function dE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Ne(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?F.UNKNOWN:_d(h.code);return new se(d,h.message||"")}(a);n=new vd(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ho(t,r.document.name),i=Zt(r.document.updateTime),a=r.document.createTime?Zt(r.document.createTime):ue.min(),l=new Ft({mapValue:{fields:r.document.fields}}),c=gt.newFoundDocument(s,i,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new wi(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ho(t,r.document),i=r.readTime?Zt(r.readTime):ue.min(),a=gt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new wi([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ho(t,r.document),i=r.removedTargetIds||[];n=new wi([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new nE(s,i),l=r.targetId;n=new yd(l,a)}}return n}function pE(t,e){let n;if(e instanceof Bs)n={update:Yu(t,e.key,e.value)};else if(e instanceof md)n={delete:Aa(t,e.key)};else if(e instanceof sr)n={update:Yu(t,e.key,e.data),updateMask:IE(e.fieldMask)};else{if(!(e instanceof Z0))return le();n={verify:Aa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Oi)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Vs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ks)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mi)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hE(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function gE(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Zt(s.updateTime):Zt(i);return a.isEqual(ue.min())&&(a=Zt(i)),new X0(a,s.transformResults||[])}(n,e))):[]}function mE(t,e){return{documents:[wd(t,e.path)]}}function _E(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wd(t,s);const i=function(h){if(h.length!==0)return bd(nn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:pr(m.field),direction:EE(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=wa(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:s}}function yE(t){let e=fE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(g){const m=Ad(g);return m instanceof nn&&Jf(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(k){return new Ni(gr(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,to(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(g){const m=!!g.before,A=g.values||[];return new Di(A,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,A=g.values||[];return new Di(A,m)}(n.endAt)),M0(e,s,a,i,l,"F",c,h)}function vE(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ad(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gr(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gr(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gr(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gr(n.unaryFilter.field);return Xe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(gr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>Ad(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function EE(t){return aE[t]}function TE(t){return lE[t]}function wE(t){return cE[t]}function pr(t){return{fieldPath:t.canonicalString()}}function gr(t){return lt.fromServerFormat(t.fieldPath)}function bd(t){return t instanceof Xe?function(n){if(n.op==="=="){if(Lu(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NAN"}};if(Mu(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lu(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NAN"}};if(Mu(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(n.field),op:TE(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(s=>bd(s));return r.length===1?r[0]:{compositeFilter:{op:wE(n.op),filters:r}}}(t):le()}function IE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rd(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,i=ue.min(),a=ue.min(),l=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new wn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.ct=e}}function bE(t){const e=yE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ta(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this._n=new SE}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(kn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class SE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Cr(0)}static Ln(){return new Cr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.changes=new Or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ms(r.mutation,s,zt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Gn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=ns();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Gn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=un();const a=gs(),l=function(){return gs()}();return n.forEach((c,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof sr)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),ms(d.mutation,h,d.mutation.getFieldMask(),Ye.now())):a.set(h.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new PE(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=gs();let s=new Ue((a,l)=>a-l),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=r.get(c)||zt.empty();d=l.applyToLocalView(h,d),r.set(c,d);const g=(s.get(l.batchId)||me()).add(c);s=s.insert(l.batchId,g)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,g=ad();d.forEach(m=>{if(!i.has(m)){const A=pd(n.get(m),r.get(m));A!==null&&g.set(m,A),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(Gn());let l=-1,c=i;return a.next(h=>L.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),i.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,me())).next(d=>({batchId:l,changes:od(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=ns();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=ns();return this.indexManager.getCollectionParents(e,i).next(l=>L.forEach(l,c=>{const h=function(g,m){return new no(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,gt.newInvalidDocument(d)))});let l=ns();return a.forEach((c,h)=>{const d=i.get(c);d!==void 0&&ms(d.mutation,h,zt.empty(),Ye.now()),so(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zt(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:bE(s.bundledQuery),readTime:Zt(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.overlays=new Ue(oe.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gn();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=Gn(),i=n.length+1,a=new oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Gn(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Gn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return L.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new tE(n,r));let i=this.hr.get(n);i===void 0&&(i=me(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.Pr=new ct(Ze.Ir),this.Tr=new ct(Ze.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ze(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Le([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.Tr.forEachInRange([r,s],a=>{this.Ar(a),i.push(a.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Le([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=me();return this.Tr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Ze.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new eE(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.wr=this.wr.add(new Ze(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],a=>{const l=this.Sr(a.pr);i.push(l)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Re);return n.forEach(s=>{const i=new Ze(s,0),a=new Ze(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,a],l=>{r=r.add(l.pr)})}),L.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const a=new Ze(new oe(i),0);let l=new ct(Re);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.pr)),!0)},a),L.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return L.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ze(n,0),s=this.wr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.vr=e,this.docs=function(){return new Ue(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=un();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=un();const a=n.path,l=new oe(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||y0(_0(d),r)<=0||(s.has(d.key)||so(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}Fr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OE(this)}getSize(e){return L.resolve(this.size)}}class OE extends CE{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.persistence=e,this.Mr=new Or(n=>hl(n),fl),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ml,this.targetCount=0,this.Lr=Cr.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Cr(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.Br={},this.overlays={},this.kr=new al(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ME(this),this.indexManager=new RE,this.remoteDocumentCache=function(s){return new NE(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new AE(n),this.$r=new VE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new DE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new FE(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class FE extends E0{constructor(e){super(),this.currentSequenceNumber=e}}class _l{constructor(e){this.persistence=e,this.zr=new ml,this.jr=null}static Hr(e){return new _l(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,r=>{const s=oe.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new yl(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zy()?8:T0($y())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new BE;return this.Ji(e,n,a).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Zr()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(Zr()<=Te.DEBUG&&Z("QueryEngine","Query:",dr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Zr()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jt(n))):L.resolve())}ji(e,n){if(ju(n))return L.resolve(null);let r=Jt(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ta(n,null,"F"),r=Jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=me(...i);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,l);return this.Xi(n,h,a,c.readTime)?this.ji(e,Ta(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,s){return ju(n)||s.isEqual(ue.min())?L.resolve(null):this.zi.getDocuments(e,r).next(i=>{const a=this.Zi(n,i);return this.Xi(n,a,r,s)?L.resolve(null):(Zr()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dr(n)),this.es(e,a,n,m0(s,-1)).next(l=>l))})}Zi(e,n){let r=new ct(sd(e));return n.forEach((s,i)=>{so(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Zr()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",dr(n)),this.zi.getDocumentsMatchingQuery(e,n,kn.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ue(Re),this.rs=new Or(i=>hl(i),fl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function qE(t,e,n,r){return new jE(t,e,n,r)}async function Sd(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=me();for(const h of s){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})}function HE(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const g=h.batch,m=g.keys();let A=L.resolve();return m.forEach(k=>{A=A.next(()=>d.getEntry(c,k)).next(O=>{const N=h.docVersions.get(k);Ne(N!==null),O.version.compareTo(N)<0&&(g.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),A.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=me();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Cd(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $E(t,e){const n=he(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((d,g)=>{const m=s.get(g);if(!m)return;l.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,g)));let A=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?A=A.withResumeToken(yt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(d.resumeToken,r)),s=s.insert(g,A),function(O,N,j){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,A,d)&&l.push(n.Qr.updateTargetData(i,A))});let c=un(),h=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(KE(i,a,e.documentUpdates).next(d=>{c=d.cs,h=d.ls})),!r.isEqual(ue.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(g=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return L.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.ns=s,i))}function KE(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=un();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{cs:a,ls:s}})}function zE(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WE(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.Qr.allocateTargetId(r).next(a=>(s=new wn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ra(t,e,n){const r=he(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fs(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Ju(t,e,n){const r=he(t);let s=ue.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,d){const g=he(c),m=g.rs.get(d);return m!==void 0?L.resolve(g.ns.get(m)):g.Qr.getTargetData(h,d)}(r,a,Jt(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?s:ue.min(),n?i:me())).next(l=>(GE(r,B0(e),l),{documents:l,hs:i})))}function GE(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Zu{constructor(){this.activeTargetIds=K0()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QE{constructor(){this.no=new Zu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi=null;function $o(){return fi===null?fi=function(){return 268435456+Math.round(2147483648*Math.random())}():fi++,"0x"+fi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class ZE extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${s}/databases/${i}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Do(){return!1}Co(n,r,s,i,a){const l=$o(),c=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,i,a),this.Mo(n,c,h,s).then(d=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ar("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}xo(n,r,s,i,a,l){return this.Co(n,r,s,i,a)}Fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}vo(n,r){const s=YE[n];return`${this.wo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,s){const i=$o();return new Promise((a,l)=>{const c=new Bf;c.setWithCredentials(!0),c.listenOnce(jf.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vi.NO_ERROR:const d=c.getResponseJson();Z(dt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case vi.TIMEOUT:Z(dt,`RPC '${e}' ${i} timed out`),l(new se(F.DEADLINE_EXCEEDED,"Request time out"));break;case vi.HTTP_ERROR:const g=c.getStatus();if(Z(dt,`RPC '${e}' ${i} failed with status:`,g,"response text:",c.getResponseText()),g>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const A=m==null?void 0:m.error;if(A&&A.status&&A.message){const k=function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(j)>=0?j:F.UNKNOWN}(A.status);l(new se(k,A.message))}else l(new se(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new se(F.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(dt,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);Z(dt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const s=$o(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$f(),l=Hf(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new Uf({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Z(dt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const g=a.createWebChannel(d,c);let m=!1,A=!1;const k=new JE({lo:N=>{A?Z(dt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(m||(Z(dt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),Z(dt,`RPC '${e}' stream ${s} sending:`,N),g.send(N))},ho:()=>g.close()}),O=(N,j,$)=>{N.listen(j,G=>{try{$(G)}catch(re){setTimeout(()=>{throw re},0)}})};return O(g,ts.EventType.OPEN,()=>{A||(Z(dt,`RPC '${e}' stream ${s} transport opened.`),k.mo())}),O(g,ts.EventType.CLOSE,()=>{A||(A=!0,Z(dt,`RPC '${e}' stream ${s} transport closed`),k.po())}),O(g,ts.EventType.ERROR,N=>{A||(A=!0,Ar(dt,`RPC '${e}' stream ${s} transport errored:`,N),k.po(new se(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,ts.EventType.MESSAGE,N=>{var j;if(!A){const $=N.data[0];Ne(!!$);const G=$,re=G.error||((j=G[0])===null||j===void 0?void 0:j.error);if(re){Z(dt,`RPC '${e}' stream ${s} received error:`,re);const ye=re.status;let J=function(E){const w=ze[E];if(w!==void 0)return _d(w)}(ye),I=re.message;J===void 0&&(J=F.INTERNAL,I="Unknown error status: "+ye+" with message "+re.message),A=!0,k.po(new se(J,I)),g.close()}else Z(dt,`RPC '${e}' stream ${s} received:`,$),k.yo($)}}),O(l,qf.STAT_EVENT,N=>{N.stat===ma.PROXY?Z(dt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===ma.NOPROXY&&Z(dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}}function Ko(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){return new uE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=s,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,s,i,a,l,c){this.oi=e,this.Go=r,this.zo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pd(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(cn(n.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===n&&this.u_(r,s)},r=>{e(()=>{const s=new se(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eT extends xd{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=dE(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ue.min():a.readTime?Zt(a.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=ba(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Ea(c)?{documents:mE(i,c)}:{query:_E(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Ed(i,a.resumeToken);const h=wa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ue.min())>0){l.readTime=Li(i,a.snapshotVersion.toTimestamp());const h=wa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=vE(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=ba(this.serializer),n.removeTarget=e,this.i_(n)}}class tT extends xd{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=gE(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.A_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ba(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pE(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(e,Ia(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(F.UNKNOWN,i.toString())})}xo(e,n,r,s,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,Ia(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(F.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class rT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(cn(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io(a=>{r.enqueueAndForget(async()=>{ir(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=he(c);h.M_.add(4),await js(h),h.N_.set("Unknown"),h.M_.delete(4),await co(h)}(this))})}),this.N_=new rT(r,s)}}async function co(t){if(ir(t))for(const e of t.x_)await e(!0)}async function js(t){for(const e of t.x_)await e(!1)}function Vd(t,e){const n=he(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),wl(n)?Tl(n):Mr(n).Xo()&&El(n,e))}function vl(t,e){const n=he(t),r=Mr(n);n.F_.delete(e),r.Xo()&&kd(n,e),n.F_.size===0&&(r.Xo()?r.n_():ir(n)&&n.N_.set("Unknown"))}function El(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mr(t).P_(e)}function kd(t,e){t.L_.xe(e),Mr(t).I_(e)}function Tl(t){t.L_=new oE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mr(t).start(),t.N_.w_()}function wl(t){return ir(t)&&!Mr(t).Zo()&&t.F_.size>0}function ir(t){return he(t).M_.size===0}function Dd(t){t.L_=void 0}async function iT(t){t.N_.set("Online")}async function oT(t){t.F_.forEach((e,n)=>{El(t,e)})}async function aT(t,e){Dd(t),wl(t)?(t.N_.D_(e),Tl(t)):t.N_.set("Unknown")}async function lT(t,e,n){if(t.N_.set("Online"),e instanceof vd&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.F_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.F_.delete(l),s.L_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fi(t,r)}else if(e instanceof wi?t.L_.Ke(e):e instanceof yd?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await Cd(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.L_.rt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.F_.get(h);d&&i.F_.set(h,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const d=i.F_.get(c);if(!d)return;i.F_.set(c,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),kd(i,c);const g=new wn(d.target,c,h,d.sequenceNumber);El(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Fi(t,r)}}async function Fi(t,e,n){if(!Fs(e))throw e;t.M_.add(1),await js(t),t.N_.set("Offline"),n||(n=()=>Cd(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await co(t)})}function Nd(t,e){return e().catch(n=>Fi(t,n,e))}async function uo(t){const e=he(t),n=Nn(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;cT(e);)try{const s=await zE(e.localStore,r);if(s===null){e.v_.length===0&&n.n_();break}r=s.batchId,uT(e,s)}catch(s){await Fi(e,s)}Od(e)&&Md(e)}function cT(t){return ir(t)&&t.v_.length<10}function uT(t,e){t.v_.push(e);const n=Nn(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Od(t){return ir(t)&&!Nn(t).Zo()&&t.v_.length>0}function Md(t){Nn(t).start()}async function hT(t){Nn(t).V_()}async function fT(t){const e=Nn(t);for(const n of t.v_)e.d_(n.mutations)}async function dT(t,e,n){const r=t.v_.shift(),s=dl.from(r,e,n);await Nd(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uo(t)}async function pT(t,e){e&&Nn(t).E_&&await async function(r,s){if(function(a){return rE(a)&&a!==F.ABORTED}(s.code)){const i=r.v_.shift();Nn(r).t_(),await Nd(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uo(r)}}(t,e),Od(t)&&Md(t)}async function th(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ir(n);n.M_.add(3),await js(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await co(n)}async function gT(t,e){const n=he(t);e?(n.M_.delete(2),await co(n)):e||(n.M_.add(2),await js(n),n.N_.set("Unknown"))}function Mr(t){return t.B_||(t.B_=function(n,r,s){const i=he(n);return i.f_(),new eT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:iT.bind(null,t),To:oT.bind(null,t),Ao:aT.bind(null,t),h_:lT.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),wl(t)?Tl(t):t.N_.set("Unknown")):(await t.B_.stop(),Dd(t))})),t.B_}function Nn(t){return t.k_||(t.k_=function(n,r,s){const i=he(n);return i.f_(),new tT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:hT.bind(null,t),Ao:pT.bind(null,t),R_:fT.bind(null,t),A_:dT.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await uo(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Il(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Al(t,e){if(cn("AsyncQueue",`${e}: ${t}`),Fs(t))return new se(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=ns(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Tr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.q_=new Ue(oe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pr{constructor(e,n,r,s,i,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Pr(e,n,Tr.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ro(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class _T{constructor(){this.queries=new Or(e=>rd(e),ro),this.onlineState="Unknown",this.z_=new Set}}async function yT(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.W_()&&e.G_()&&(r=2):(i=new mT,r=e.G_()?0:1);try{switch(r){case 0:i.K_=await n.onListen(s,!0);break;case 1:i.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Al(a,`Initialization of query '${dr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.U_.push(e),e.j_(n.onlineState),i.K_&&e.H_(i.K_)&&bl(n)}async function vT(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.U_.indexOf(e);a>=0&&(i.U_.splice(a,1),i.U_.length===0?s=e.G_()?0:1:!i.W_()&&e.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ET(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.U_)l.H_(s)&&(r=!0);a.K_=s}}r&&bl(n)}function TT(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.U_)i.onError(n);r.queries.delete(e)}function bl(t){t.z_.forEach(e=>{e.next()})}var Sa,rh;(rh=Sa||(Sa={})).J_="default",rh.Cache="cache";class wT{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Sa.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.key=e}}class Fd{constructor(e){this.key=e}}class IT{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=sd(e),this.Ta=new Tr(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new nh,s=n?n.Ta:this.Ta;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,g)=>{const m=s.get(d),A=so(this.query,g)?g:null,k=!!m&&this.mutatedKeys.has(m.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;m&&A?m.data.isEqual(A.data)?k!==O&&(r.track({type:3,doc:A}),N=!0):this.Ra(m,A)||(r.track({type:2,doc:A}),N=!0,(c&&this.Ia(A,c)>0||h&&this.Ia(A,h)<0)&&(l=!0)):!m&&A?(r.track({type:0,doc:A}),N=!0):m&&!A&&(r.track({type:1,doc:m}),N=!0,(c||h)&&(l=!0)),N&&(A?(a=a.add(A),i=O?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:i}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((d,g)=>function(A,k){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return O(A)-O(k)}(d.type,g.type)||this.Ia(d.doc,g.doc)),this.Va(r),s=s!=null&&s;const l=n&&!s?this.ma():[],c=this.Pa.size===0&&this.current&&!s?1:0,h=c!==this.ha;return this.ha=c,a.length!==0||h?{snapshot:new Pr(this.query,e.Ta,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new nh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=me(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Fd(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Ld(r))}),n}pa(e){this.la=e.hs,this.Pa=me();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Pr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class AT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bT{constructor(e){this.key=e,this.wa=!1}}class RT{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new Or(l=>rd(l),ro),this.Da=new Map,this.Ca=new Set,this.va=new Ue(oe.comparator),this.Fa=new Map,this.Ma=new ml,this.xa={},this.Oa=new Map,this.Na=Cr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ST(t,e,n=!0){const r=$d(t);let s;const i=r.ba.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ya()):s=await Bd(r,e,n,!0),s}async function CT(t,e){const n=$d(t);await Bd(n,e,!0,!1)}async function Bd(t,e,n,r){const s=await WE(t.localStore,Jt(e)),i=s.targetId,a=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let l;return r&&(l=await PT(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Vd(t.remoteStore,s),l}async function PT(t,e,n,r,s){t.Ba=(g,m,A)=>async function(O,N,j,$){let G=N.view.da(j);G.Xi&&(G=await Ju(O.localStore,N.query,!1).then(({documents:I})=>N.view.da(I,G)));const re=$&&$.targetChanges.get(N.targetId),ye=$&&$.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(G,O.isPrimaryClient,re,ye);return ih(O,N.targetId,J.fa),J.snapshot}(t,g,m,A);const i=await Ju(t.localStore,e,!0),a=new IT(e,i.hs),l=a.da(i.documents),c=Us.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,c);ih(t,n,h.fa);const d=new AT(e,n,a);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function xT(t,e,n){const r=he(t),s=r.ba.get(e),i=r.Da.get(s.targetId);if(i.length>1)return r.Da.set(s.targetId,i.filter(a=>!ro(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ra(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vl(r.remoteStore,s.targetId),Ca(r,s.targetId)}).catch(Ls)):(Ca(r,s.targetId),await Ra(r.localStore,s.targetId,!0))}async function VT(t,e){const n=he(t),r=n.ba.get(e),s=n.Da.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vl(n.remoteStore,r.targetId))}async function kT(t,e,n){const r=BT(t);try{const s=await function(a,l){const c=he(a),h=Ye.now(),d=l.reduce((A,k)=>A.add(k.key),me());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",A=>{let k=un(),O=me();return c.os.getEntries(A,d).next(N=>{k=N,k.forEach((j,$)=>{$.isValidDocument()||(O=O.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(A,k)).next(N=>{g=N;const j=[];for(const $ of l){const G=J0($,g.get($.key).overlayedDocument);G!=null&&j.push(new sr($.key,G,Qf(G.value.mapValue),ln.exists(!0)))}return c.mutationQueue.addMutationBatch(A,h,j,l)}).next(N=>{m=N;const j=N.applyToLocalDocumentSet(g,O);return c.documentOverlayCache.saveOverlays(A,N.batchId,j)})}).then(()=>({batchId:m.batchId,changes:od(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let h=a.xa[a.currentUser.toKey()];h||(h=new Ue(Re)),h=h.insert(l,c),a.xa[a.currentUser.toKey()]=h}(r,s.batchId,n),await qs(r,s.changes),await uo(r.remoteStore)}catch(s){const i=Al(s,"Failed to persist write");n.reject(i)}}async function Ud(t,e){const n=he(t);try{const r=await $E(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Fa.get(i);a&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.wa=!0:s.modifiedDocuments.size>0?Ne(a.wa):s.removedDocuments.size>0&&(Ne(a.wa),a.wa=!1))}),await qs(n,r,e)}catch(r){await Ls(r)}}function sh(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ba.forEach((i,a)=>{const l=a.view.j_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=he(a);c.onlineState=l;let h=!1;c.queries.forEach((d,g)=>{for(const m of g.U_)m.j_(l)&&(h=!0)}),h&&bl(c)}(r.eventManager,e),s.length&&r.Sa.h_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DT(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Fa.get(e),i=s&&s.key;if(i){let a=new Ue(oe.comparator);a=a.insert(i,gt.newNoDocument(i,ue.min()));const l=me().add(i),c=new ao(ue.min(),new Map,new Ue(Re),a,l);await Ud(r,c),r.va=r.va.remove(i),r.Fa.delete(e),Rl(r)}else await Ra(r.localStore,e,!1).then(()=>Ca(r,e,n)).catch(Ls)}async function NT(t,e){const n=he(t),r=e.batch.batchId;try{const s=await HE(n.localStore,e);qd(n,r,null),jd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qs(n,s)}catch(s){await Ls(s)}}async function OT(t,e,n){const r=he(t);try{const s=await function(a,l){const c=he(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(g=>(Ne(g!==null),d=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(r.localStore,e);qd(r,e,n),jd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qs(r,s)}catch(s){await Ls(s)}}function jd(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function qd(t,e,n){const r=he(t);let s=r.xa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.xa[r.currentUser.toKey()]=s}}function Ca(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Hd(t,r)})}function Hd(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(vl(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Rl(t))}function ih(t,e,n){for(const r of n)r instanceof Ld?(t.Ma.addReference(r.key,e),MT(t,r)):r instanceof Fd?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Hd(t,r.key)):le()}function MT(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Rl(t))}function Rl(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new oe(Le.fromString(e)),r=t.Na.next();t.Fa.set(r,new bT(n)),t.va=t.va.insert(n,r),Vd(t.remoteStore,new wn(Jt(nd(n.path)),r,"TargetPurposeLimboResolution",al.oe))}}async function qs(t,e,n){const r=he(t),s=[],i=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{a.push(r.Ba(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const d=h&&!h.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(h){s.push(h);const d=yl.Ki(c.targetId,h);i.push(d)}}))}),await Promise.all(a),r.Sa.h_(s),await async function(c,h){const d=he(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,m=>L.forEach(m.qi,A=>d.persistence.referenceDelegate.addReference(g,m.targetId,A)).next(()=>L.forEach(m.Qi,A=>d.persistence.referenceDelegate.removeReference(g,m.targetId,A)))))}catch(g){if(!Fs(g))throw g;Z("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const A=d.ns.get(m),k=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(k);d.ns=d.ns.insert(m,O)}}}(r.localStore,i))}async function LT(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await Sd(n.localStore,e);n.currentUser=e,function(i,a){i.Oa.forEach(l=>{l.forEach(c=>{c.reject(new se(F.CANCELLED,a))})}),i.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qs(n,r.us)}}function FT(t,e){const n=he(t),r=n.Fa.get(e);if(r&&r.wa)return me().add(r.key);{let s=me();const i=n.Da.get(e);if(!i)return s;for(const a of i){const l=n.ba.get(a);s=s.unionWith(l.view.Ea)}return s}}function $d(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ud.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DT.bind(null,e),e.Sa.h_=ET.bind(null,e.eventManager),e.Sa.ka=TT.bind(null,e.eventManager),e}function BT(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OT.bind(null,e),e}class oh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qE(this.persistence,new UE,e.initialUser,this.serializer)}createPersistence(e){return new LE(_l.Hr,this.serializer)}createSharedClientState(e){return new QE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class UT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LT.bind(null,this.syncEngine),await gT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _T}()}createDatastore(e){const n=lo(e.databaseInfo.databaseId),r=function(i){return new ZE(i)}(e.databaseInfo);return function(i,a,l,c){return new nT(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new sT(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sh(this.syncEngine,n,0),function(){return eh.D()?new eh:new XE}())}createSyncEngine(e,n){return function(s,i,a,l,c,h,d){const g=new RT(s,i,a,l,c,h);return d&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=he(r);Z("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await js(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=zf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Z("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Z("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Al(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zo(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Sd(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ah(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $T(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>th(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>th(e.remoteStore,s)),t._onlineComponents=e}function HT(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $T(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await zo(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HT(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),await zo(t,new oh)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await zo(t,new oh);return t._offlineComponents}async function Kd(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await ah(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await ah(t,new UT))),t._onlineComponents}function KT(t){return Kd(t).then(e=>e.syncEngine)}async function zT(t){const e=await Kd(t),n=e.eventManager;return n.onListen=ST.bind(null,e.syncEngine),n.onUnlisten=xT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VT.bind(null,e.syncEngine),n}function WT(t,e,n={}){const r=new Sn;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,h){const d=new jT({next:m=>{a.enqueueAndForget(()=>vT(i,g)),m.fromCache&&c.source==="server"?h.reject(new se(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new wT(l,d,{includeMetadataChanges:!0,ra:!0});return yT(i,g)}(await zT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t,e,n){if(!n)throw new se(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GT(t,e,n,r){if(e===!0&&r===!0)throw new se(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ch(t){if(!oe.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uh(t){if(oe.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sl(t);throw new se(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zd((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ho{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a0;switch(r.type){case"firstParty":return new h0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lh.get(n);r&&(Z("ComponentProvider","Removing Datastore"),lh.delete(n),r.terminate())}(this),Promise.resolve()}}function QT(t,e,n,r={}){var s;const i=(t=Ds(t,ho))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=pt.MOCK_USER;else{l=Hy(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new se(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new pt(h)}t._authCredentials=new l0(new Kf(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Cn extends fo{constructor(e,n,r){super(e,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new oe(e))}withConverter(e){return new Cn(this.firestore,e,this._path)}}function XT(t,e,...n){if(t=As(t),Wd("collection","path",e),t instanceof ho){const r=Le.fromString(e,...n);return uh(r),new Cn(t,null,r)}{if(!(t instanceof qt||t instanceof Cn))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return uh(r),new Cn(t.firestore,null,r)}}function YT(t,e,...n){if(t=As(t),arguments.length===1&&(e=zf.newId()),Wd("doc","path",e),t instanceof ho){const r=Le.fromString(e,...n);return ch(r),new qt(t,null,new oe(r))}{if(!(t instanceof qt||t instanceof Cn))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return ch(r),new qt(t.firestore,t instanceof Cn?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pd(this,"async_queue_retry"),this.hu=()=>{const n=Ko();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ko();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ko();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Sn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Fs(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw cn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const s=Il.createAndSchedule(this,e,n,r,i=>this.Eu(i));return this._u.push(s),s}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Cl extends ho{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new JT}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qd(this),this._firestoreClient.terminate()}}function Pa(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:"(default)",s=Wv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jy("firestore");i&&QT(s,...i)}return s}function Gd(t){return t._firestoreClient||Qd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qd(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,h,d){return new A0(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zd(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new qT(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xr(yt.fromBase64String(e))}catch(n){throw new se(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xr(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=/^__.*__$/;class ew{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bs(e,this.data,n,this.fieldTransforms)}}function Yd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Vl{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Vl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.wu(e),s}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Bi(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Yd(this.fu)&&ZT.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class tw{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lo(e)}Fu(e,n,r,s=!1){return new Vl({fu:e,methodName:n,vu:r,path:lt.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nw(t){const e=t._freezeSettings(),n=lo(t._databaseId);return new tw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rw(t,e,n,r,s,i={}){const a=t.Fu(i.merge||i.mergeFields?2:0,e,n,s);tp("Data must be an object, but it was:",a,r);const l=Zd(r,a);let c,h;if(i.merge)c=new zt(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const g of i.mergeFields){const m=sw(e,g,n);if(!a.contains(m))throw new se(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ow(d,m)||d.push(m)}c=new zt(d),h=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=a.fieldTransforms;return new ew(new Ft(l),c,h)}function Jd(t,e){if(ep(t=As(t)))return tp("Unsupported field value:",e,t),Zd(t,e);if(t instanceof Xd)return function(r,s){if(!Yd(s.fu))throw s.Du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Jd(l,s.bu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=As(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:Li(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Li(s.serializer,i)}}if(r instanceof xl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xr)return{bytesValue:Ed(s.serializer,r._byteString)};if(r instanceof qt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gl(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Du(`Unsupported field value: ${Sl(r)}`)}(t,e)}function Zd(t,e){const n={};return Wf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(r,s)=>{const i=Jd(s,e.pu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ep(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof xl||t instanceof xr||t instanceof qt||t instanceof Xd)}function tp(t,e,n){if(!ep(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Sl(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function sw(t,e,n){if((e=As(e))instanceof Pl)return e._internalPath;if(typeof e=="string")return np(t,e);throw Bi("Field path arguments must be of type string or ",t,!1,void 0,n)}const iw=new RegExp("[~\\*/\\[\\]]");function np(t,e,n){if(e.search(iw)>=0)throw Bi(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pl(...e.split("."))._internalPath}catch{throw Bi(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bi(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new se(F.INVALID_ARGUMENT,l+t+c)}function ow(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aw extends rp{data(){return super.data()}}function sp(t,e){return typeof e=="string"?np(t,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cw{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new xl(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cs(e));default:return null}}convertTimestamp(e){const n=Dn(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ne(Rd(r));const s=new Ps(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||cn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hw extends rp{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ii(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ii extends hw{data(e={}){return super.data(e)}}class fw{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new di(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ii(this._firestore,this._userDataWriter,r.key,r,new di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Ii(s._firestore,s._userDataWriter,l.doc.key,l.doc,new di(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ii(s._firestore,s._userDataWriter,l.doc.key,l.doc,new di(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:dw(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class pw extends cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function gw(t){t=Ds(t,fo);const e=Ds(t.firestore,Cl),n=Gd(e),r=new pw(e);return lw(t._query),WT(n,t._query).then(s=>new fw(e,r,t,s))}function mw(t,e,n){t=Ds(t,qt);const r=Ds(t.firestore,Cl),s=uw(t.converter,e);return _w(r,[rw(nw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ln.none())])}function _w(t,e){return function(r,s){const i=new Sn;return r.asyncQueue.enqueueAndForget(async()=>kT(await KT(r),s,i)),i.promise}(Gd(t),e)}(function(e,n=!0){(function(s){Dr=s})(Xv),Vi(new bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Cl(new c0(r.getProvider("auth-internal")),new d0(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new se(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(h.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Er(ku,"4.6.3",e),Er(ku,"4.6.3","esm2017")})();const yw="/assets/Banner_video-Bycu230n.mp4",ip=t=>(Ln("data-v-d244aad9"),t=t(),Fn(),t),vw={class:"grid"},Ew=ip(()=>B("div",null,[B("p",{class:"body_poppins"}," Området ved “det gamle OUH”, som I kender det nu, vil skulle ombygges. Det bliver en helt ny bydel i Odense. Det er din by og derfor er det vigtigt, at høre din mening. ")],-1)),Tw=ip(()=>B("div",null,[B("h1",{class:"hero_1 h1_poppins"},"Boulevarden Odense"),B("div",{class:"video_container"},[B("div",{class:"container"},[B("a",{href:"#",class:"playBut",id:"playButton"},[B("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:a":"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/",x:"0px",y:"0px",width:"213.7px",height:"213.7px",viewBox:"0 0 213.7 213.7","enable-background":"new 0 0 213.7 213.7","xml:space":"preserve"},[B("polygon",{class:"triangle",id:"XMLID_18_",fill:"none","stroke-width":"7","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:`
  73.5,62.5 148.5,105.8 73.5,149.1 `}),B("circle",{class:"circle",id:"XMLID_17_",fill:"none","stroke-width":"7","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",cx:"106.8",cy:"106.8",r:"103.3"})])])]),B("div",{class:"transparent-overlay",id:"transparentOverlay"}),B("video",{id:"myVideo",controls:""},[B("source",{class:"banner-video",src:yw})]),B("h1",{class:"hero_2 h1_poppins"},"Dit nye område midt i byen")])],-1)),ww=[Ew,Tw],Iw={__name:"Hero",setup(t){return document.addEventListener("DOMContentLoaded",e=>{const n=document.getElementById("playButton"),r=document.getElementById("myVideo"),s=document.getElementById("transparentOverlay");n.addEventListener("click",function(i){i.preventDefault(),r.play(),n.style.display="none",s.style.display="none"}),r.addEventListener("pause",function(){n.style.display="block",s.style.display="block"}),r.addEventListener("play",function(){s.style.display="none"})}),document.addEventListener("DOMContentLoaded",e=>{const n=document.getElementById("playButton"),r=document.getElementById("myVideo");n.addEventListener("click",function(s){s.preventDefault(),r.play(),n.style.display="none"}),r.addEventListener("pause",function(){n.style.display="block"})}),(e,n)=>(De(),Be("div",vw,ww))}},Aw=At(Iw,[["__scopeId","data-v-d244aad9"]]),bw="/assets/icon1-CYO8hoio.svg",Rw="/assets/icon2-Z_twTsad.svg",Sw="/assets/icon3-BFN-lEHk.svg",Cw="/assets/icon4-CpbpFcBV.svg",Pw={},xw={class:"brand_wrapper"},Vw=df('<h1 class="h1_poppins" data-v-37342278>Vi går op i</h1><div class="grid" data-v-37342278><div class="icon1" data-v-37342278><img src="'+bw+'" alt="" data-v-37342278><h2 class="h2_poppins" data-v-37342278>Inklusion</h2><p class="body_poppins" data-v-37342278>Byens borgere skal have mulighed for at inkludere og engagere sig i byens udvikling</p></div><div class="icon2" data-v-37342278><img src="'+Rw+'" alt="" data-v-37342278><h2 class="h2_poppins" data-v-37342278>Professionel tillid</h2><p class="body_poppins" data-v-37342278>Vi leverer professionelle løsninger, basert på jeres ønsker, i samarbejde med eksperter og fagfolk.</p></div><div class="icon3" data-v-37342278><img src="'+Sw+'" alt="" data-v-37342278><h2 class="h2_poppins" data-v-37342278>Mennesket i fokus</h2><p class="body_poppins" data-v-37342278>Byens borgere skal have mulighed for at inkludere og engagere sig i byens udvikling</p></div><div class="icon4" data-v-37342278><img src="'+Cw+'" alt="" data-v-37342278><h2 class="h2_poppins" data-v-37342278>Historisk ansvar</h2><p class="body_poppins" data-v-37342278>Vi bygger på arven fra tidligere bygningsprojekter og fortsætter med at skabe høj kvalitet og værdi</p></div></div>',2),kw=[Vw];function Dw(t,e){return De(),Be("div",xw,kw)}const Nw=At(Pw,[["render",Dw],["__scopeId","data-v-37342278"]]),Ow={key:0,class:"media_heading h2_poppins"},Mw={class:"grid"},Lw={class:"media_text"},Fw={key:0,class:"h3_poppins"},Bw=["innerHTML"],Uw={key:2,class:"body_poppins"},jw=["src"],qw={key:1,class:"interview_media",controls:""},Hw=["src"],$w={__name:"TextMedia",props:{heading:{type:String,default:""},gridHeading:{type:String,default:""},gridTextTop:{type:String,default:""},gridTextBottom:{type:String,default:""},gridImageSrc:{type:String,default:""},reverse:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hideHeading:{type:Boolean,default:!1},aboutUs:{type:Boolean,default:!1},gridInterview:{type:String,default:""},overflow:{type:Boolean,default:!1}},setup(t){return(e,n)=>{var r;return De(),Be("div",{class:Ns(["media_wrapper",{reverse:t.reverse,vertical:t.vertical,"hide-heading":t.hideHeading,"about-us":t.aboutUs,overflow:t.overflow}])},[(r=t.heading)!=null&&r.length?(De(),Be("h1",Ow,Ut(t.heading),1)):Kn("",!0),B("div",Mw,[B("div",Lw,[t.gridHeading.length?(De(),Be("h2",Fw,Ut(t.gridHeading),1)):Kn("",!0),t.gridTextTop.length?(De(),Be("p",{key:1,class:"body_poppins",innerHTML:t.gridTextTop},null,8,Bw)):Kn("",!0),t.gridTextBottom.length?(De(),Be("p",Uw,Ut(t.gridTextBottom),1)):Kn("",!0)]),t.gridImageSrc.length?(De(),Be("img",{key:0,src:t.gridImageSrc,alt:"",class:"media_img"},null,8,jw)):Kn("",!0),t.gridInterview?(De(),Be("video",qw,[B("source",{src:t.gridInterview},null,8,Hw)])):Kn("",!0)])],2)}}},Wo=At($w,[["__scopeId","data-v-9d248e4d"]]),Kw={},zw=t=>(Ln("data-v-f3144825"),t=t(),Fn(),t),Ww={class:"break-square"},Gw=zw(()=>B("div",{class:"content"},[B("div",{class:"marquee h1_poppins"},[B("span",null,"BOULEVARDEN - DIT NYE BYOMRÅDE I ODENSE")])],-1)),Qw=[Gw];function Xw(t,e){return De(),Be("div",Ww,Qw)}const Yw=At(Kw,[["render",Xw],["__scopeId","data-v-f3144825"]]),Jw={},op=t=>(Ln("data-v-542bed04"),t=t(),Fn(),t),Zw={class:"grid"},eI=op(()=>B("div",{class:"text"},null,-1)),tI=op(()=>B("div",{class:"textbox"},[B("h2",{class:"h2_poppins"},"Odenses nye byområde - Boulevardens bliver bygget til dig.")],-1)),nI=[eI,tI];function rI(t,e){return De(),Be("div",Zw,nI)}const sI=At(Jw,[["render",rI],["__scopeId","data-v-542bed04"]]),iI=t=>(Ln("data-v-255ab56b"),t=t(),Fn(),t),oI={class:"body_poppins input"},aI=["name","value"],lI=iI(()=>B("div",{class:"radio"},null,-1)),cI={__name:"InputField",props:{label:{type:String,default:""},name:{type:String,default:""},value:{type:String,default:""}},setup(t){return(e,n)=>(De(),Be("label",oI,[B("input",{type:"radio",name:t.name,onChange:n[0]||(n[0]=r=>e.$emit("changed",r.target.value)),value:t.value},null,40,aI),lI,B("span",null,Ut(t.label),1)]))}},pi=At(cI,[["__scopeId","data-v-255ab56b"]]);var uI="firebase",hI="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(uI,hI,"app");const ap={apiKey:"AIzaSyAmoaI_ssISCBHpYBNXntWZ5OGDsD_m51I",authDomain:"boulevarden-odense.firebaseapp.com",projectId:"boulevarden-odense",storageBucket:"boulevarden-odense.appspot.com",messagingSenderId:"660052345006",appId:"1:660052345006:web:0de5fd9fdc2f49ed1f6d3f"};let gi;const fI=new Uint8Array(16);function dI(){if(!gi&&(gi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gi(fI)}const rt=[];for(let t=0;t<256;++t)rt.push((t+256).toString(16).slice(1));function pI(t,e=0){return rt[t[e+0]]+rt[t[e+1]]+rt[t[e+2]]+rt[t[e+3]]+"-"+rt[t[e+4]]+rt[t[e+5]]+"-"+rt[t[e+6]]+rt[t[e+7]]+"-"+rt[t[e+8]]+rt[t[e+9]]+"-"+rt[t[e+10]]+rt[t[e+11]]+rt[t[e+12]]+rt[t[e+13]]+rt[t[e+14]]+rt[t[e+15]]}const gI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fh={randomUUID:gI};function mI(t,e,n){if(fh.randomUUID&&!e&&!t)return fh.randomUUID();t=t||{};const r=t.random||(t.rng||dI)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pI(r)}const kl=t=>(Ln("data-v-95df4c17"),t=t(),Fn(),t),_I={class:"box_container"},yI=kl(()=>B("h1",{class:"h2_poppins"}," Hvad drømmer du om? ",-1)),vI=kl(()=>B("h2",{class:"h3_poppins"}," Vælg den ide du drømmer om herunder ",-1)),EI=kl(()=>B("div",{class:"buttonwrapper"},[B("button",{type:"submit"},"Send!")],-1)),TI={__name:"PollBox",emits:["vote"],setup(t,{emit:e}){const n=e,r=il(ap),s=Pa(r),i=Ve(null);function a(c){i.value=c}async function l(){try{await mw(YT(s,"poll",mI()),{vote:i.value})}catch(c){console.warn("error",c)}n("vote",i.value),alert("Din stemme er indsendt 😊")}return(c,h)=>(De(),Be("div",_I,[yI,vI,B("form",{onSubmit:e_(l,["prevent"])},[ae(pi,{label:"Drømmer du om lækre boliger, hvor hverdagen udfolder sig midt i byen?",name:"vote",value:"option 1",onChanged:a}),ae(pi,{label:"Drømmer du om grønne områder tæt ved din hverdag?",name:"vote",value:"option 2",onChanged:a}),ae(pi,{label:"Drømmer du om bæredygtighed og genandenvdelse, af nogle af de smukke eksisterende facilitter?",name:"vote",value:"option 3",onChanged:a}),ae(pi,{label:"Drømmer du om sociale områder, hvor byens borgere har muliged for at samles og opholde sig?",name:"vote",value:"option 4",onChanged:a}),EI],32)]))}},wI=At(TI,[["__scopeId","data-v-95df4c17"]]);/**
 * Vue 3 Carousel 0.3.3
 * (c) 2024
 * @license MIT
 */const We={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},dh={itemsToShow:{default:We.itemsToShow,type:Number},itemsToScroll:{default:We.itemsToScroll,type:Number},wrapAround:{default:We.wrapAround,type:Boolean},throttle:{default:We.throttle,type:Number},snapAlign:{default:We.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:We.transition,type:Number},breakpoints:{default:We.breakpoints,type:Object},autoplay:{default:We.autoplay,type:Number},pauseAutoplayOnHover:{default:We.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:We.mouseDrag,type:Boolean},touchDrag:{default:We.touchDrag,type:Boolean},dir:{default:We.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:We.i18n,type:Object},settings:{default(){return{}},type:Object}};function II({config:t,slidesCount:e}){const{snapAlign:n,wrapAround:r,itemsToShow:s=1}=t;if(r)return Math.max(e-1,0);let i;switch(n){case"start":i=e-s;break;case"end":i=e-1;break;case"center":case"center-odd":i=e-Math.ceil((s-.5)/2);break;case"center-even":i=e-Math.ceil(s/2);break;default:i=0;break}return Math.max(i,0)}function AI({config:t,slidesCount:e}){const{wrapAround:n,snapAlign:r,itemsToShow:s=1}=t;let i=0;if(n||s>e)return i;switch(r){case"start":i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2);break;default:i=0;break}return i}function xa({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,n),e)}function bI({config:t,currentSlide:e,slidesCount:n}){const{snapAlign:r,wrapAround:s,itemsToShow:i=1}=t;let a=e;switch(r){case"center":case"center-odd":a-=(i-1)/2;break;case"center-even":a-=(i-2)/2;break;case"end":a-=i-1;break}return s?a:xa({val:a,max:n-i,min:0})}function lp(t){return t?t.reduce((e,n)=>{var r;return n.type===It?[...e,...lp(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...e,n]:e},[]):[]}function Ui({val:t,max:e,min:n=0}){return t>e?Ui({val:t-(e+1),max:e,min:n}):t<n?Ui({val:t+(e+1),max:e,min:n}):t}function RI(t,e){let n;return e?function(...r){const s=this;n||(t.apply(s,r),n=!0,setTimeout(()=>n=!1,e))}:t}function SI(t,e){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}}function cp(t="",e={}){return Object.entries(e).reduce((n,[r,s])=>n.replace(`{${r}}`,String(s)),t)}var CI=Os({name:"ARIA",setup(){const t=ke("config",jt(Object.assign({},We))),e=ke("currentSlide",Ve(0)),n=ke("slidesCount",Ve(0));return()=>et("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},cp(t.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:n.value}))}}),PI=Os({name:"Carousel",props:dh,setup(t,{slots:e,emit:n,expose:r}){var s;const i=Ve(null),a=Ve([]),l=Ve(0),c=Ve(0),h=jt(Object.assign({},We));let d=Object.assign({},We),g;const m=Ve((s=t.modelValue)!==null&&s!==void 0?s:0),A=Ve(0),k=Ve(0),O=Ve(0),N=Ve(0);let j,$;Nt("config",h),Nt("slidesCount",c),Nt("currentSlide",m),Nt("maxSlide",O),Nt("minSlide",N),Nt("slideWidth",l);function G(){g=Object.assign({},t.breakpoints),d=Object.assign(Object.assign(Object.assign({},d),t),{i18n:Object.assign(Object.assign({},d.i18n),t.i18n),breakpoints:void 0}),ye(d)}function re(){if(!g||!Object.keys(g).length)return;const _=Object.keys(g).map(x=>Number(x)).sort((x,V)=>+V-+x);let S=Object.assign({},d);_.some(x=>{const V=window.matchMedia(`(min-width: ${x}px)`).matches;return V&&(S=Object.assign(Object.assign({},S),g[x])),V}),ye(S)}function ye(_){Object.entries(_).forEach(([S,x])=>h[S]=x)}const J=SI(()=>{re(),v(),I()},16);function I(){if(!i.value)return;const _=i.value.getBoundingClientRect();l.value=_.width/h.itemsToShow}function v(){c.value<=0||(k.value=Math.ceil((c.value-1)/2),O.value=II({config:h,slidesCount:c.value}),N.value=AI({config:h,slidesCount:c.value}),h.wrapAround||(m.value=xa({val:m.value,max:O.value,min:N.value})))}Xi(()=>{za(()=>I()),setTimeout(()=>I(),1e3),re(),Rt(),window.addEventListener("resize",J,{passive:!0}),n("init")}),Yi(()=>{$&&clearTimeout($),j&&clearInterval(j),window.removeEventListener("resize",J,{passive:!0})});let E=!1;const w={x:0,y:0},b={x:0,y:0},R=jt({x:0,y:0}),T=Ve(!1),Qe=Ve(!1),bt=()=>{T.value=!0},je=()=>{T.value=!1};function ge(_){["INPUT","TEXTAREA","SELECT"].includes(_.target.tagName)||(E=_.type==="touchstart",E||_.preventDefault(),!(!E&&_.button!==0||Ie.value)&&(w.x=E?_.touches[0].clientX:_.clientX,w.y=E?_.touches[0].clientY:_.clientY,document.addEventListener(E?"touchmove":"mousemove",de,!0),document.addEventListener(E?"touchend":"mouseup",ut,!0)))}const de=RI(_=>{Qe.value=!0,b.x=E?_.touches[0].clientX:_.clientX,b.y=E?_.touches[0].clientY:_.clientY;const S=b.x-w.x,x=b.y-w.y;R.y=x,R.x=S},h.throttle);function ut(){const _=h.dir==="rtl"?-1:1,S=Math.sign(R.x)*.4,x=Math.round(R.x/l.value+S)*_;if(x&&!E){const V=q=>{window.removeEventListener("click",V,!0)};window.addEventListener("click",V,!0)}Ae(m.value-x),R.x=0,R.y=0,Qe.value=!1,document.removeEventListener(E?"touchmove":"mousemove",de,!0),document.removeEventListener(E?"touchend":"mouseup",ut,!0)}function Rt(){!h.autoplay||h.autoplay<=0||(j=setInterval(()=>{h.pauseAutoplayOnHover&&T.value||Vt()},h.autoplay))}function vt(){j&&(clearInterval(j),j=null),Rt()}const Ie=Ve(!1);function Ae(_){const S=h.wrapAround?_:xa({val:_,max:O.value,min:N.value});m.value===S||Ie.value||(n("slide-start",{slidingToIndex:_,currentSlideIndex:m.value,prevSlideIndex:A.value,slidesCount:c.value}),Ie.value=!0,A.value=m.value,m.value=S,$=setTimeout(()=>{if(h.wrapAround){const x=Ui({val:S,max:O.value,min:0});x!==m.value&&(m.value=x,n("loop",{currentSlideIndex:m.value,slidingToIndex:_}))}n("update:modelValue",m.value),n("slide-end",{currentSlideIndex:m.value,prevSlideIndex:A.value,slidesCount:c.value}),Ie.value=!1,vt()},h.transition))}function Vt(){Ae(m.value+h.itemsToScroll)}function St(){Ae(m.value-h.itemsToScroll)}const $e={slideTo:Ae,next:Vt,prev:St};Nt("nav",$e),Nt("isSliding",Ie);const D=at(()=>bI({config:h,currentSlide:m.value,slidesCount:c.value}));Nt("slidesToScroll",D);const Q=at(()=>{const _=h.dir==="rtl"?-1:1,S=D.value*l.value*_;return{transform:`translateX(${R.x-S}px)`,transition:`${Ie.value?h.transition:0}ms`,margin:h.wrapAround?`0 -${c.value*l.value}px`:"",width:"100%"}});function W(){G(),re(),v(),I(),vt()}Object.keys(dh).forEach(_=>{["modelValue"].includes(_)||Yn(()=>t[_],W)}),Yn(()=>t.modelValue,_=>{_!==m.value&&Ae(Number(_))}),Yn(c,v),n("before-init"),G();const Y={config:h,slidesCount:c,slideWidth:l,next:Vt,prev:St,slideTo:Ae,currentSlide:m,maxSlide:O,minSlide:N,middleSlide:k};r({updateBreakpointsConfigs:re,updateSlidesData:v,updateSlideWidth:I,initDefaultConfigs:G,restartCarousel:W,slideTo:Ae,next:Vt,prev:St,nav:$e,data:Y});const pe=e.default||e.slides,be=e.addons,y=jt(Y);return()=>{const _=lp(pe==null?void 0:pe(y)),S=(be==null?void 0:be(y))||[];_.forEach((z,U)=>z.props.index=U);let x=_;if(h.wrapAround){const z=_.map((H,M)=>Vn(H,{index:-_.length+M,isClone:!0,key:`clone-before-${M}`})),U=_.map((H,M)=>Vn(H,{index:_.length+M,isClone:!0,key:`clone-after-${M}`}));x=[...z,..._,...U]}a.value=_,c.value=Math.max(_.length,1);const V=et("ol",{class:"carousel__track",style:Q.value,onMousedownCapture:h.mouseDrag?ge:null,onTouchstartPassiveCapture:h.touchDrag?ge:null},x),q=et("div",{class:"carousel__viewport"},V);return et("section",{ref:i,class:{carousel:!0,"is-sliding":Ie.value,"is-dragging":Qe.value,"is-hover":T.value,"carousel--rtl":h.dir==="rtl"},dir:h.dir,"aria-label":h.i18n.ariaGallery,tabindex:"0",onMouseenter:bt,onMouseleave:je},[q,S,et(CI)])}}}),Va;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(Va||(Va={}));const xI={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};function VI(t){return t in Va}const ka=t=>{const e=ke("config",jt(Object.assign({},We))),n=String(t.name),r=`icon${n.charAt(0).toUpperCase()+n.slice(1)}`;if(!n||typeof n!="string"||!VI(n))return;const s=xI[n],i=et("path",{d:s}),a=e.i18n[r]||t.title||n,l=et("title",a);return et("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":a},[l,i])};ka.props={name:String,title:String};const kI=(t,{slots:e,attrs:n})=>{const{next:r,prev:s}=e||{},i=ke("config",jt(Object.assign({},We))),a=ke("maxSlide",Ve(1)),l=ke("minSlide",Ve(1)),c=ke("currentSlide",Ve(1)),h=ke("nav",{}),{dir:d,wrapAround:g,i18n:m}=i,A=d==="rtl",k=et("button",{type:"button",class:["carousel__prev",!g&&c.value<=l.value&&"carousel__prev--disabled",n==null?void 0:n.class],"aria-label":m.ariaPreviousSlide,onClick:h.prev},(s==null?void 0:s())||et(ka,{name:A?"arrowRight":"arrowLeft"})),O=et("button",{type:"button",class:["carousel__next",!g&&c.value>=a.value&&"carousel__next--disabled",n==null?void 0:n.class],"aria-label":m.ariaNextSlide,onClick:h.next},(r==null?void 0:r())||et(ka,{name:A?"arrowLeft":"arrowRight"}));return[k,O]},DI=()=>{const t=ke("config",jt(Object.assign({},We))),e=ke("maxSlide",Ve(1)),n=ke("minSlide",Ve(1)),r=ke("currentSlide",Ve(1)),s=ke("nav",{}),i=l=>Ui({val:r.value,max:e.value,min:0})===l,a=[];for(let l=n.value;l<e.value+1;l++){const c=et("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":i(l)},"aria-label":cp(t.i18n.ariaNavigateToSlide,{slideNumber:l+1}),onClick:()=>s.slideTo(l)}),h=et("li",{class:"carousel__pagination-item",key:l},c);a.push(h)}return et("ol",{class:"carousel__pagination"},a)};var NI=Os({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=ke("config",jt(Object.assign({},We))),r=ke("currentSlide",Ve(0)),s=ke("slidesToScroll",Ve(0)),i=ke("isSliding",Ve(!1)),a=at(()=>t.index===r.value),l=at(()=>t.index===r.value-1),c=at(()=>t.index===r.value+1),h=at(()=>{const d=Math.floor(s.value),g=Math.ceil(s.value+n.itemsToShow-1);return t.index>=d&&t.index<=g});return()=>{var d;return et("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":h.value,"carousel__slide--active":a.value,"carousel__slide--prev":l.value,"carousel__slide--next":c.value,"carousel__slide--sliding":i.value},"aria-hidden":!h.value},(d=e.default)===null||d===void 0?void 0:d.call(e,{isActive:a.value,isClone:t.isClone,isPrev:l.value,isNext:c.value,isSliding:i.value,isVisible:h.value}))}}});const Dl=t=>(Ln("data-v-5b3ec994"),t=t(),Fn(),t),OI={class:"slider-box"},MI=Dl(()=>B("h1",{class:"h1_poppins"},"Det siger andre!",-1)),LI={class:"slide"},FI={class:"img-container"},BI=["src","alt"],UI={class:"body_poppins slide_text"},jI=Dl(()=>B("div",{class:"slider_prev"},[B("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":"Arrow pointing to the left"},[B("title",null,"Arrow pointing to the left"),B("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})])],-1)),qI=Dl(()=>B("div",{class:"slider_prev"},[B("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":"Arrow pointing to the right"},[B("title",null,"Arrow pointing to the right"),B("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})])],-1)),HI={__name:"CaruselSlider",props:{slides:{type:Array,default:()=>[]}},setup(t){const e={0:{itemsToShow:1,snapAlign:"center"},700:{itemsToShow:2,snapAlign:"center"}};return(n,r)=>(De(),Be("div",OI,[MI,ae(it(PI),{breakpoints:e},{addons:He(()=>[ae(it(kI),null,{prev:He(()=>[jI]),next:He(()=>[qI]),_:1}),ae(it(DI))]),default:He(()=>[(De(!0),Be(It,null,Xg(t.slides,s=>(De(),Ya(it(NI),{key:s},{default:He(()=>[B("div",LI,[B("div",FI,[B("img",{src:s.image.src,alt:s.image.alt},null,8,BI)]),B("p",UI,[B("span",null,Ut(s.text1),1),Ot("   "),B("span",null,Ut(s.votes),1),Ot("  "),B("span",null,Ut(s.text2),1)])])]),_:2},1024))),128))]),_:1})]))}},$I=At(HI,[["__scopeId","data-v-5b3ec994"]]),KI="/assets/like-wNQU6oob.png",zI="/assets/dislike-Dyu9VYJx.png",WI={props:{images:{type:Array,required:!0,default:()=>[]}},data(){return{currentImage:0}},methods:{prevImage(){this.currentImage=this.currentImage>0?this.currentImage-1:this.images.length-1},nextImage(){this.currentImage=this.currentImage<this.images.length-1?this.currentImage+1:0}}},GI={class:"slider-container"},QI={class:"slider-content"},XI={class:"image-wrapper"},YI=["src"],JI={class:"image-title"};function ZI(t,e,n,r,s,i){return De(),Be("div",GI,[B("div",QI,[B("button",{onClick:e[0]||(e[0]=(...a)=>i.prevImage&&i.prevImage(...a)),class:"nav-arrow left-arrow"},"‹"),B("div",XI,[B("img",{src:n.images[s.currentImage].src,alt:"Slider Image",class:"slider-image"},null,8,YI),B("h2",JI,Ut(n.images[s.currentImage].title),1)]),B("button",{onClick:e[1]||(e[1]=(...a)=>i.nextImage&&i.nextImage(...a)),class:"nav-arrow right-arrow"},"›")])])}const eA=At(WI,[["render",ZI],["__scopeId","data-v-f154530b"]]),tA=t=>(Ln("data-v-3af88aac"),t=t(),Fn(),t),nA={key:0,class:"header"},rA={class:"grid"},sA={class:"text"},iA=tA(()=>B("div",{class:"description_text"},null,-1)),oA={class:"h2_poppins"},aA={class:"body_poppins"},lA={class:"bigtext h1_poppins"},cA={__name:"BeforeAfterImg",props:{reverse:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},mainHeading:{type:String,default:""},subHeading:{type:String,default:""},bodyText:{type:String,default:""},bigText:{type:String,default:""},sliderImages:{type:Array,required:!0,default:()=>[]},reverseSliderImages:{type:Array,required:!0,default:()=>[]},feedback:{type:Boolean,default:!1}},setup(t){const e=()=>{alert("Du har trykket på Like knappen!")},n=()=>{alert("Du har trykket på Dislike knappen!")};return(r,s)=>(De(),Be("div",{class:Ns(["wrapper",{reverse:t.reverse}])},[t.reverse?Kn("",!0):(De(),Be("h1",nA,Ut(t.mainHeading),1)),B("div",rA,[B("div",sA,[iA,B("h2",oA,Ut(t.subHeading),1),B("p",aA,Ut(t.bodyText),1)]),B("div",null,[ae(eA,{images:t.reverse?t.reverseSliderImages:t.sliderImages},null,8,["images"])]),B("h3",lA,Ut(t.bigText),1),B("div",{class:"feedback-section"},[B("button",{class:"feedback-button like-button"},[B("img",{src:KI,alt:"Like",class:"feedback-image",onClick:e})]),B("button",{class:"feedback-button dislike-button"},[B("img",{src:zI,alt:"Dislike",class:"feedback-image",onClick:n})])])])],2))}},ph=At(cA,[["__scopeId","data-v-3af88aac"]]),uA="/assets/after-img1-DzNVuron.jpg",hA="/assets/after-img2-irDSo-IP.png",fA="/assets/before-img1-2hV7cjgr.jpg",dA="/assets/before-img2-so4FZqPc.png",pA="/assets/perspektiv-BsWZ8ozm.png",gA="/assets/boligblok-X5GmYGXq.jpg",mA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lag_1'%20data-name='Lag%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20125.57%2097.8'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20none;%20stroke:%20%23606c38;%20stroke-miterlimit:%2010;%20stroke-width:%2013px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m4.13,53.16L58.86,8.13s3.16-3.16,7.04,0,55.58,45.02,55.58,45.02'/%3e%3cline%20class='cls-1'%20x1='97.33'%20x2='97.33'%20y2='32.28'/%3e%3cpath%20class='cls-1'%20d='m48.06,91.14l-22.21.12-.12-29.37,33.5-30.46s3.16-1.82,5.46.12,35.32,29.73,35.32,29.73v29.98l-23.54-.12-.12-19.54s.12-6.31-7.16-6.55-15.05-.12-15.05-.12c0,0-5.7,1.46-5.7,7.4s-.36,18.81-.36,18.81Z'/%3e%3c/svg%3e",_A="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lag_1'%20data-name='Lag%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2089%20106.88'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20none;%20stroke:%20%23606c38;%20stroke-miterlimit:%2010;%20stroke-width:%2011px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m45.15,106.85l-.12-19.05s-.49-8.37,8.98-10.56,27.67-2.67,29.37-22.69c1.63-19.24-13.47-23.42-13.47-23.42,0,0-1.09-26.33-25.49-25.61s-24.27,24.88-24.27,24.88c0,0-36.89,24.03,6.43,47.09'/%3e%3c/svg%3e",yA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lag_1'%20data-name='Lag%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20141.84%20141.84'%3e%3cdefs%3e%3cstyle%3e%20.cls-1,%20.cls-2%20{%20fill:%20%23606c38;%20}%20.cls-3%20{%20stroke-width:%2010px;%20}%20.cls-3,%20.cls-4,%20.cls-2,%20.cls-5%20{%20stroke-miterlimit:%2010;%20}%20.cls-3,%20.cls-4,%20.cls-5%20{%20fill:%20%23fff;%20stroke:%20%23606c38;%20}%20.cls-4%20{%20stroke-width:%202px;%20}%20.cls-2%20{%20stroke:%20%23fff;%20stroke-width:%20.5px;%20}%20.cls-5%20{%20stroke-width:%208px;%20}%20%3c/style%3e%3c/defs%3e%3cline%20class='cls-3'%20x1='19.02'%20y1='13.42'%20x2='71.91'%20y2='13.42'/%3e%3cline%20class='cls-3'%20x1='4.65'%20y1='32.18'%20x2='86.13'%20y2='32.04'/%3e%3cline%20class='cls-5'%20x1='13.28'%20y1='114.96'%20x2='13.27'%20y2='36.84'/%3e%3cline%20class='cls-5'%20x1='59.21'%20y1='114.72'%20x2='59.2'%20y2='36.6'/%3e%3cline%20class='cls-5'%20x1='31.67'%20y1='114.97'%20x2='31.66'%20y2='36.85'/%3e%3cline%20class='cls-5'%20x1='77.45'%20y1='37.07'%20x2='77.3'%20y2='71.01'/%3e%3cpath%20class='cls-2'%20d='m117.21,54.94l-25.6.88-.13,17.77s3.93-6.84,25.65-7.84l.08-10.8Z'/%3e%3cpath%20class='cls-1'%20d='m101.52,127.38s30.72-1.33,34.44-26.59c3.72-25.26,3.29-30.43,3.29-30.43l-24.22.63c-5.89.15-11.7,1.67-16.79,4.72-8.73,5.23-18.08,16.16-13.72,38.67,0,0-8.43,19.35-6,23.04l8.43.3s4.26-26.59,23.19-42.66c1.04-.88,2.31-1.48,3.65-1.63,1.68-.19,3.67.22,4.23,3.01.42,2.1-.24,4.27-1.59,5.9-4.45,5.39-16.9,21.03-14.89,25.04Z'/%3e%3cline%20class='cls-5'%20x1='9.92'%20y1='52.99'%20x2='81.42'%20y2='52.68'/%3e%3cline%20class='cls-5'%20x1='9.58'%20y1='73.24'%20x2='81.25'%20y2='72.88'/%3e%3cline%20class='cls-5'%20x1='77.19'%20y1='76.56'%20x2='77.12'%20y2='114.68'/%3e%3cline%20class='cls-5'%20x1='9.26'%20y1='92.7'%20x2='80.75'%20y2='92.41'/%3e%3cline%20class='cls-4'%20x1='16.49'%20y1='113.95'%20x2='28.01'%20y2='113.95'/%3e%3cline%20class='cls-4'%20x1='61.63'%20y1='113.68'%20x2='73.88'%20y2='113.68'/%3e%3c/svg%3e",vA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lag_1'%20data-name='Lag%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20130.96%2096.49'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23606c38;%20}%20%3c/style%3e%3c/defs%3e%3cellipse%20class='cls-1'%20cx='66.23'%20cy='29.57'%20rx='19.86'%20ry='21.05'/%3e%3cpath%20class='cls-1'%20d='m53.36,10.33s-15.55,10.16-6.79,29.4c0,0-9.07,7.33-20.27,1.49-5.34-2.79-8.87-7.64-10.71-13.15-1.5-4.47-1.9-10.58,1.22-16.31C23,.37,41.02-6.61,53.36,10.33Z'/%3e%3cpath%20class='cls-1'%20d='m28.78,86.66s-1.87-33.88,21.84-39.89c0,0-3.2-3.07-3.54-4.73,0,0-13.64,9.01-26.19-1.41,0,0-24.21,14.9-20.51,45.8l28.4.23Z'/%3e%3cpath%20class='cls-1'%20d='m31.77,96.48h68.66s3.4-39.38-20.33-47.69c0,0-12.07,11.09-27.86-.15,0,0-25.21,8.55-20.48,47.84Z'/%3e%3cpath%20class='cls-1'%20d='m102.65,86.26s1.84-33.8-21.48-39.79c0,0,3.15-3.07,3.48-4.72,0,0,13.42,8.99,25.77-1.41,0,0,23.82,14.86,20.17,45.69l-27.94.23Z'/%3e%3cpath%20class='cls-1'%20d='m78.93,10.09s15.68,13.51,6.71,29.85c0,0,8.43,6.59,19.16.77,5.11-2.77,8.22-7.66,9.99-13.15,1.43-4.45,2.13-10.35-.85-16.05-5.93-11.33-23.18-18.27-35-1.42Z'/%3e%3c/svg%3e",EA={class:"grid"},TA={__name:"TwoColumnGrid",props:{firstColumnWidth:{type:String,default:"1fr"},secondColumnWidth:{type:String,default:"1fr"},gap:{type:String,default:"0"}},setup(t){return Mm(e=>({"672060bd":t.firstColumnWidth,"2b59edc2":t.secondColumnWidth,"432cde39":t.gap})),(e,n)=>(De(),Be("div",EA,[Mc(e.$slots,"col-1",{},void 0),Mc(e.$slots,"col-2",{},void 0)]))}},gh=At(TA,[["__scopeId","data-v-cfd8e3ac"]]),wA={id:"introduction_video"},IA={class:"wrapper"},AA={id:"about_project"},bA={id:"interview_video"},RA={id:"before_image"},SA={id:"poll_text"},CA={__name:"HomeView",setup(t){Ve();const e=il(ap);Pa(e);async function n(){const a=Pa(e),l=XT(a,"poll");return(await gw(l)).docs.map(d=>d.data())}const r=Ve([{text1:"I alt",text2:"personer drømmer om boliger",image:{src:mA,alt:"Billede 1"},votes:0},{text1:"I alt",text2:"drømmer om grønne områder",votes:0,image:{src:_A,alt:"Billede 1"}},{text1:"I alt",text2:"drømmer om genanvendele og bæredygtighed",votes:0,image:{src:yA,alt:"Billede 1"}},{text1:"I alt",text2:"drømmer om sociale samlingsområder",votes:0,image:{src:vA,alt:"Billede 1"}}]);function s(a){a.map(l=>{switch(l.vote){case"option 1":r.value[0].votes++;break;case"option 2":r.value[1].votes++;break;case"option 3":r.value[2].votes++;break;case"option 4":r.value[3].votes++;break}})}function i(a){switch(a){case"option 1":r.value[0].votes++;break;case"option 2":r.value[1].votes++;break;case"option 3":r.value[2].votes++;break;case"option 4":r.value[3].votes++;break}}return Xi(async()=>{const a=await n();s(a)}),(a,l)=>(De(),Be("main",null,[B("section",wA,[B("div",IA,[ae(Aw)])]),ae(Nw),B("section",AA,[ae(gh,null,{"col-1":He(()=>[ae(Wo,{heading:"OUH i dag","grid-heading":"Byområdet midt i Odense skal have nyt liv","grid-text-top":`i dag er OUH fyns største arbejdsplads, men om nogen år når  hospitalet flytter adresse, bliver mulighederne er mange. Området skal genanvendes og blive til noget nyt. <br/>
            Der er på området blevet bygget over mange år, i den byggestilen so har passet til tiden. Derfor står der mange forskellige bygningskroppe på området, fra forskellige tider og stilarter. Alle bygningerne har forskellige potentialer for genanvendelse efter hospitalets udrykning. `,"grid-image-src":it(gA)},null,8,["grid-image-src"])]),"col-2":He(()=>[ae(Wo,{heading:"","grid-heading":"Drømme for fremtiden","grid-text-top":`
            Vi har mange ideer og drømme for området, både nye ideer og ideer som bevare nogen af området skjulte skatte og de smukke originale bygningsværker. Samtidig mender vi tror på at byens borgere skal have mulighed for at give deres ideer til hvad der skal ske på det nye byområde, som om nogen år skal udvikles i Odense. <br/>
            Derfor vil vi give muligheden for allerede nu at i kan komme med jeres ideer og drømme. <br/> 
            Drømmer du om skønne boliger, Grønne områder, sociale samlings steder eller noget helt andet, i dit nærområde? <br/>
            Så er det nu og her du kan få muligheden for at netop dine drømme bliver inkluderet i udviklingen.`,"grid-image-src":it(pA),reverse:!0},null,8,["grid-image-src"])]),_:1})]),ae(Yw),B("section",bA,[ae(Wo,{heading:"","grid-heading":"Simon fra Creo Arkitekter sætter nogle ord på projektet","grid-text-top":"","grid-text-bottom":"Kunne du forestille dig at bo i de flotte rødstensbygninger fra 1912? Eller måske en ny botanisk have lige midt i centrum","grid-interview":"src/components/icon/Simon.mp4",vertical:!0})]),B("section",RA,[ae(ph,{mainHeading:"",reverseMainHeading:"",subHeading:"Rødstensbygninger fra da OUH først blev bygget i 1912, har potentiale til at danne rammerne for fantastiske hjem.",bodyText:"",bigText:"Kunne du forestille dig at bo her?",sliderImages:[],reverseSliderImages:[{src:it(uA),title:""},{src:it(hA),title:""}],reverse:!0},null,8,["reverseSliderImages"]),ae(ph,{mainHeading:"",reverseMainHeading:"",subHeading:"Et vidensområde for Medicinstuderende bliver nu til et udendørs samlingspunkt, omringet af grønt.",bodyText:"",bigText:"Hvad synes du?",sliderImages:[{src:it(fA),title:""},{src:it(dA),title:""}]},null,8,["sliderImages"])]),B("section",SA,[ae(gh,{"second-column-width":"1.5fr"},{"col-1":He(()=>[ae(sI)]),"col-2":He(()=>[ae(wI,{onVote:i})]),_:1})]),ae($I,{slides:r.value},null,8,["slides"])]))}},PA=At(CA,[["__scopeId","data-v-6a362880"]]),up=ay({history:L_("/"),routes:[{path:"/",name:"home",component:PA},{path:"/about",name:"about",component:()=>Vy(()=>import("./AboutView-BRFvSeWE.js"),__vite__mapDeps([0,1]))}]});up.afterEach((t,e,n)=>{var r;(r=t.query)!=null&&r.scrollTo?setTimeout(()=>{const s=document.querySelector(`#${t.query.scrollTo}`);s&&s.scrollIntoView({behavior:"smooth"})},250):window.scroll(0,0)});const hp=r_(Cy);hp.use(up);hp.mount("#app");export{It as F,Wo as T,At as _,Fn as a,B as b,Be as c,df as d,ae as e,De as o,Ln as p,Xg as r,Ut as t,it as u};
